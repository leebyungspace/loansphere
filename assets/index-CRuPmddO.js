var vR=Object.defineProperty;var _R=(n,e,t)=>e in n?vR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ie=(n,e,t)=>_R(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function fE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pp={exports:{}},Vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function bR(){if(cx)return Vc;cx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Vc.Fragment=e,Vc.jsx=t,Vc.jsxs=t,Vc}var ux;function xR(){return ux||(ux=1,pp.exports=bR()),pp.exports}var p=xR(),yp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function wR(){if(hx)return Ne;hx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function C(z,re,ue){this.props=z,this.context=re,this.refs=I,this.updater=ue||T}C.prototype.isReactComponent={},C.prototype.setState=function(z,re){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,re,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=C.prototype;function U(z,re,ue){this.props=z,this.context=re,this.refs=I,this.updater=ue||T}var q=U.prototype=new k;q.constructor=U,S(q,C.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function M(z,re,ue,oe,ge,Re){return ue=Re.ref,{$$typeof:n,type:z,key:re,ref:ue!==void 0?ue:null,props:Re}}function N(z,re){return M(z.type,re,void 0,void 0,void 0,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function O(z){var re={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return re[ue]})}var L=/\/+/g;function B(z,re){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):re.toString(36)}function j(){}function Fe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(re){z.status==="pending"&&(z.status="fulfilled",z.value=re)},function(re){z.status==="pending"&&(z.status="rejected",z.reason=re)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function _e(z,re,ue,oe,ge){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(Re){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case n:case e:ye=!0;break;case y:return ye=z._init,_e(ye(z._payload),re,ue,oe,ge)}}if(ye)return ge=ge(z),ye=oe===""?"."+B(z,0):oe,Z(ge)?(ue="",ye!=null&&(ue=ye.replace(L,"$&/")+"/"),_e(ge,re,ue,"",function(wi){return wi})):ge!=null&&(D(ge)&&(ge=N(ge,ue+(ge.key==null||z&&z.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+ye)),re.push(ge)),1;ye=0;var Bt=oe===""?".":oe+":";if(Z(z))for(var at=0;at<z.length;at++)oe=z[at],Re=Bt+B(oe,at),ye+=_e(oe,re,ue,Re,ge);else if(at=x(z),typeof at=="function")for(z=at.call(z),at=0;!(oe=z.next()).done;)oe=oe.value,Re=Bt+B(oe,at++),ye+=_e(oe,re,ue,Re,ge);else if(Re==="object"){if(typeof z.then=="function")return _e(Fe(z),re,ue,oe,ge);throw re=String(z),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Q(z,re,ue){if(z==null)return z;var oe=[],ge=0;return _e(z,oe,"","",function(Re){return re.call(ue,Re,ge++)}),oe}function ae(z){if(z._status===-1){var re=z._result;re=re(),re.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=re)}if(z._status===1)return z._result.default;throw z._result}var fe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Te(){}return Ne.Children={map:Q,forEach:function(z,re,ue){Q(z,function(){re.apply(this,arguments)},ue)},count:function(z){var re=0;return Q(z,function(){re++}),re},toArray:function(z){return Q(z,function(re){return re})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ne.Component=C,Ne.Fragment=t,Ne.Profiler=r,Ne.PureComponent=U,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(z){return ee.H.useMemoCache(z)}},Ne.cache=function(z){return function(){return z.apply(null,arguments)}},Ne.cloneElement=function(z,re,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=S({},z.props),ge=z.key,Re=void 0;if(re!=null)for(ye in re.ref!==void 0&&(Re=void 0),re.key!==void 0&&(ge=""+re.key),re)!le.call(re,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&re.ref===void 0||(oe[ye]=re[ye]);var ye=arguments.length-2;if(ye===1)oe.children=ue;else if(1<ye){for(var Bt=Array(ye),at=0;at<ye;at++)Bt[at]=arguments[at+2];oe.children=Bt}return M(z.type,ge,void 0,void 0,Re,oe)},Ne.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Ne.createElement=function(z,re,ue){var oe,ge={},Re=null;if(re!=null)for(oe in re.key!==void 0&&(Re=""+re.key),re)le.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=re[oe]);var ye=arguments.length-2;if(ye===1)ge.children=ue;else if(1<ye){for(var Bt=Array(ye),at=0;at<ye;at++)Bt[at]=arguments[at+2];ge.children=Bt}if(z&&z.defaultProps)for(oe in ye=z.defaultProps,ye)ge[oe]===void 0&&(ge[oe]=ye[oe]);return M(z,Re,void 0,void 0,null,ge)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:h,render:z}},Ne.isValidElement=D,Ne.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:ae}},Ne.memo=function(z,re){return{$$typeof:m,type:z,compare:re===void 0?null:re}},Ne.startTransition=function(z){var re=ee.T,ue={};ee.T=ue;try{var oe=z(),ge=ee.S;ge!==null&&ge(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Te,fe)}catch(Re){fe(Re)}finally{ee.T=re}},Ne.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ne.use=function(z){return ee.H.use(z)},Ne.useActionState=function(z,re,ue){return ee.H.useActionState(z,re,ue)},Ne.useCallback=function(z,re){return ee.H.useCallback(z,re)},Ne.useContext=function(z){return ee.H.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z,re){return ee.H.useDeferredValue(z,re)},Ne.useEffect=function(z,re,ue){var oe=ee.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(z,re)},Ne.useId=function(){return ee.H.useId()},Ne.useImperativeHandle=function(z,re,ue){return ee.H.useImperativeHandle(z,re,ue)},Ne.useInsertionEffect=function(z,re){return ee.H.useInsertionEffect(z,re)},Ne.useLayoutEffect=function(z,re){return ee.H.useLayoutEffect(z,re)},Ne.useMemo=function(z,re){return ee.H.useMemo(z,re)},Ne.useOptimistic=function(z,re){return ee.H.useOptimistic(z,re)},Ne.useReducer=function(z,re,ue){return ee.H.useReducer(z,re,ue)},Ne.useRef=function(z){return ee.H.useRef(z)},Ne.useState=function(z){return ee.H.useState(z)},Ne.useSyncExternalStore=function(z,re,ue){return ee.H.useSyncExternalStore(z,re,ue)},Ne.useTransition=function(){return ee.H.useTransition()},Ne.version="19.1.0",Ne}var dx;function Iy(){return dx||(dx=1,yp.exports=wR()),yp.exports}var V=Iy();const Hi=fE(V);var vp={exports:{}},Uc={},_p={exports:{}},bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function ER(){return fx||(fx=1,function(n){function e(Q,ae){var fe=Q.length;Q.push(ae);e:for(;0<fe;){var Te=fe-1>>>1,z=Q[Te];if(0<r(z,ae))Q[Te]=ae,Q[fe]=z,fe=Te;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ae=Q[0],fe=Q.pop();if(fe!==ae){Q[0]=fe;e:for(var Te=0,z=Q.length,re=z>>>1;Te<re;){var ue=2*(Te+1)-1,oe=Q[ue],ge=ue+1,Re=Q[ge];if(0>r(oe,fe))ge<z&&0>r(Re,oe)?(Q[Te]=Re,Q[ge]=fe,Te=ge):(Q[Te]=oe,Q[ue]=fe,Te=ue);else if(ge<z&&0>r(Re,fe))Q[Te]=Re,Q[ge]=fe,Te=ge;else break e}}return ae}function r(Q,ae){var fe=Q.sortIndex-ae.sortIndex;return fe!==0?fe:Q.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],y=1,b=null,x=3,T=!1,S=!1,I=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Z(Q){for(var ae=t(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=Q)i(m),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=t(m)}}function ee(Q){if(I=!1,Z(Q),!S)if(t(d)!==null)S=!0,le||(le=!0,B());else{var ae=t(m);ae!==null&&_e(ee,ae.startTime-Q)}}var le=!1,M=-1,N=5,D=-1;function O(){return C?!0:!(n.unstable_now()-D<N)}function L(){if(C=!1,le){var Q=n.unstable_now();D=Q;var ae=!0;try{e:{S=!1,I&&(I=!1,U(M),M=-1),T=!0;var fe=x;try{t:{for(Z(Q),b=t(d);b!==null&&!(b.expirationTime>Q&&O());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,x=b.priorityLevel;var z=Te(b.expirationTime<=Q);if(Q=n.unstable_now(),typeof z=="function"){b.callback=z,Z(Q),ae=!0;break t}b===t(d)&&i(d),Z(Q)}else i(d);b=t(d)}if(b!==null)ae=!0;else{var re=t(m);re!==null&&_e(ee,re.startTime-Q),ae=!1}}break e}finally{b=null,x=fe,T=!1}ae=void 0}}finally{ae?B():le=!1}}}var B;if(typeof q=="function")B=function(){q(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Fe=j.port2;j.port1.onmessage=L,B=function(){Fe.postMessage(null)}}else B=function(){k(L,0)};function _e(Q,ae){M=k(function(){Q(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var fe=x;x=ae;try{return Q()}finally{x=fe}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=x;x=Q;try{return ae()}finally{x=fe}},n.unstable_scheduleCallback=function(Q,ae,fe){var Te=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Te+fe:Te):fe=Te,Q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=fe+z,Q={id:y++,callback:ae,priorityLevel:Q,startTime:fe,expirationTime:z,sortIndex:-1},fe>Te?(Q.sortIndex=fe,e(m,Q),t(d)===null&&Q===t(m)&&(I?(U(M),M=-1):I=!0,_e(ee,fe-Te))):(Q.sortIndex=z,e(d,Q),S||T||(S=!0,le||(le=!0,B()))),Q},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Q){var ae=x;return function(){var fe=x;x=ae;try{return Q.apply(this,arguments)}finally{x=fe}}}}(bp)),bp}var mx;function TR(){return mx||(mx=1,_p.exports=ER()),_p.exports}var xp={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function SR(){if(gx)return ln;gx=1;var n=Iy();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},ln.flushSync=function(d){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=y,i.d.f()}},ln.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},ln.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ln.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,b=h(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:T}):y==="script"&&i.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ln.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},ln.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ln.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},ln.requestFormReset=function(d){i.d.r(d)},ln.unstable_batchedUpdates=function(d,m){return d(m)},ln.useFormState=function(d,m,y){return c.H.useFormState(d,m,y)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var px;function AR(){if(px)return xp.exports;px=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xp.exports=SR(),xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function RR(){if(yx)return Uc;yx=1;var n=TR(),e=Iy(),t=AR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return h(g),s;if(v===u)return h(g),a;v=v.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=v;else{for(var E=!1,A=g.child;A;){if(A===l){E=!0,l=g,u=v;break}if(A===u){E=!0,u=g,l=v;break}A=A.sibling}if(!E){for(A=v.child;A;){if(A===l){E=!0,l=v,u=g;break}if(A===u){E=!0,u=v,l=g;break}A=A.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function Fe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case C:return"Profiler";case I:return"StrictMode";case ee:return"Suspense";case le:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case q:return(s.displayName||"Context")+".Provider";case U:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Fe(s.type)||"Memo";case N:a=s._payload,s=s._init;try{return Fe(s(a))}catch{}}return null}var _e=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Te=[],z=-1;function re(s){return{current:s}}function ue(s){0>z||(s.current=Te[z],Te[z]=null,z--)}function oe(s,a){z++,Te[z]=s.current,s.current=a}var ge=re(null),Re=re(null),ye=re(null),Bt=re(null);function at(s,a){switch(oe(ye,a),oe(Re,s),oe(ge,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Lb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Lb(a),s=Vb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ue(ge),oe(ge,s)}function wi(){ue(ge),ue(Re),ue(ye)}function Fs(s){s.memoizedState!==null&&oe(Bt,s);var a=ge.current,l=Vb(a,s.type);a!==l&&(oe(Re,s),oe(ge,l))}function Qi(s){Re.current===s&&(ue(ge),ue(Re)),Bt.current===s&&(ue(Bt),Mc._currentValue=fe)}var Kr=Object.prototype.hasOwnProperty,Qr=n.unstable_scheduleCallback,Xr=n.unstable_cancelCallback,Il=n.unstable_shouldYield,$u=n.unstable_requestPaint,Hn=n.unstable_now,pm=n.unstable_getCurrentPriorityLevel,Dl=n.unstable_ImmediatePriority,no=n.unstable_UserBlockingPriority,Zr=n.unstable_NormalPriority,ym=n.unstable_LowPriority,io=n.unstable_IdlePriority,Ol=n.log,Ku=n.unstable_setDisableYieldValue,gt=null,Ke=null;function In(s){if(typeof Ol=="function"&&Ku(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(gt,s)}catch{}}var an=Math.clz32?Math.clz32:Jr,Qu=Math.log,vm=Math.LN2;function Jr(s){return s>>>=0,s===0?32:31-(Qu(s)/vm|0)|0}var ea=256,ta=4194304;function ri(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function so(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,v=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~v,u!==0?g=ri(u):(E&=A,E!==0?g=ri(E):l||(l=A&~s,l!==0&&(g=ri(l))))):(A=u&~v,A!==0?g=ri(A):E!==0?g=ri(E):l||(l=u&~s,l!==0&&(g=ri(l)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:g}function na(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ml(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var s=ea;return ea<<=1,(ea&4194048)===0&&(ea=256),s}function jl(){var s=ta;return ta<<=1,(ta&62914560)===0&&(ta=4194304),s}function Xi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Zi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Pl(s,a,l,u,g,v){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var A=s.entanglements,P=s.expirationTimes,W=s.hiddenUpdates;for(l=E&~l;0<l;){var J=31-an(l),ne=1<<J;A[J]=0,P[J]=-1;var $=W[J];if($!==null)for(W[J]=null,J=0;J<$.length;J++){var K=$[J];K!==null&&(K.lane&=-536870913)}l&=~ne}u!==0&&Ei(s,u,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(E&~a))}function Ei(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-an(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Ll(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-an(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function Hs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ro(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function qs(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:ix(s.type))}function Xu(s,a){var l=ae.p;try{return ae.p=s,a()}finally{ae.p=l}}var ut=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ut,Tt="__reactProps$"+ut,qn="__reactContainer$"+ut,Vl="__reactEvents$"+ut,_m="__reactListeners$"+ut,Gs="__reactHandles$"+ut,Zu="__reactResources$"+ut,ia="__reactMarker$"+ut;function Ys(s){delete s[Ot],delete s[Tt],delete s[Vl],delete s[_m],delete s[Gs]}function Ji(s){var a=s[Ot];if(a)return a;for(var l=s.parentNode;l;){if(a=l[qn]||l[Ot]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Fb(s);s!==null;){if(l=s[Ot])return l;s=Fb(s)}return a}s=l,l=s.parentNode}return null}function Ti(s){if(s=s[Ot]||s[qn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Si(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function pn(s){var a=s[Zu];return a||(a=s[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function _t(s){s[ia]=!0}var Ul=new Set,ao={};function ai(s,a){es(s,a),es(s+"Capture",a)}function es(s,a){for(ao[s]=a,s=0;s<a.length;s++)Ul.add(a[s])}var Ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eh={},sa={};function th(s){return Kr.call(sa,s)?!0:Kr.call(eh,s)?!1:Ju.test(s)?sa[s]=!0:(eh[s]=!0,!1)}function Ws(s,a,l){if(th(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Ai(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Qt(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var ra,nh;function ts(s){if(ra===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ra=a&&a[1]||"",nh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+s+nh}var oo=!1;function lo(s,a){if(!s||oo)return"";oo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var $=K}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(K){$=K}s.call(ne.prototype)}}else{try{throw Error()}catch(K){$=K}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),E=v[0],A=v[1];if(E&&A){var P=E.split(`
`),W=A.split(`
`);for(g=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(u===P.length||g===W.length)for(u=P.length-1,g=W.length-1;1<=u&&0<=g&&P[u]!==W[g];)g--;for(;1<=u&&0<=g;u--,g--)if(P[u]!==W[g]){if(u!==1||g!==1)do if(u--,g--,0>g||P[u]!==W[g]){var J=`
`+P[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{oo=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ts(l):""}function zl(s){switch(s.tag){case 26:case 27:case 5:return ts(s.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return lo(s.type,!1);case 11:return lo(s.type.render,!1);case 1:return lo(s.type,!0);case 31:return ts("Activity");default:return""}}function co(s){try{var a="";do a+=zl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function yn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bm(s){var a=Bl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(E){u=""+E,v.call(this,E)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function uo(s){s._valueTracker||(s._valueTracker=bm(s))}function Fl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Bl(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function aa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xm=/[\n"\\]/g;function St(s){return s.replace(xm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Dn(s,a,l,u,g,v,E,A){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+yn(a)):s.value!==""+yn(a)&&(s.value=""+yn(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?$s(s,E,yn(a)):l!=null?$s(s,E,yn(l)):u!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+yn(A):s.removeAttribute("name")}function oa(s,a,l,u,g,v,E,A){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;l=l!=null?""+yn(l):"",a=a!=null?""+yn(a):l,A||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function $s(s,a,l){a==="number"&&aa(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ns(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+yn(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function et(s,a,l){if(a!=null&&(a=""+yn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+yn(l):""}function la(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(_e(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=yn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Gn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ih(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||ca.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Hl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&ih(s,g,u)}else for(var v in a)a.hasOwnProperty(v)&&ih(s,v,a[v])}function ql(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(s){return Em.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var is=null;function Yn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ss=null,rs=null;function Gl(s){var a=Ti(s);if(a&&(s=a.stateNode)){var l=s[Tt]||null;e:switch(s=a.stateNode,a.type){case"input":if(Dn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+St(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[Tt]||null;if(!g)throw Error(i(90));Dn(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Fl(u)}break e;case"textarea":et(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ns(s,!!l.multiple,a,!1)}}}var Ri=!1;function sh(s,a,l){if(Ri)return s(a,l);Ri=!0;try{var u=s(a);return u}finally{if(Ri=!1,(ss!==null||rs!==null)&&(Xh(),ss&&(a=ss,s=rs,rs=ss=null,Gl(a),s)))for(a=0;a<s.length;a++)Gl(s[a])}}function ua(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Tt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(oi)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{Wn=!1}var Ci=null,Ks=null,as=null;function Yl(){if(as)return as;var s,a=Ks,l=a.length,u,g="value"in Ci?Ci.value:Ci.textContent,v=g.length;for(s=0;s<l&&a[s]===g[s];s++);var E=l-s;for(u=1;u<=E&&a[l-u]===g[v-u];u++);return as=g.slice(s,1<u?1-u:void 0)}function Ni(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ii(){return!0}function Wl(){return!1}function Ft(s){function a(l,u,g,v,E){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ii:Wl,this.isPropagationStopped=Wl,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),a}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=Ft(We),da=y({},We,{view:0,detail:0}),rh=Ft(da),mo,go,Di,fa=y({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Di&&(Di&&s.type==="mousemove"?(mo=s.screenX-Di.screenX,go=s.screenY-Di.screenY):go=mo=0,Di=s),mo)},movementY:function(s){return"movementY"in s?s.movementY:go}}),$n=Ft(fa),ah=y({},fa,{dataTransfer:0}),Tm=Ft(ah),ma=y({},da,{relatedTarget:0}),po=Ft(ma),$l=y({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=Ft($l),oh=y({},We,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vo=Ft(oh),Sm=y({},We,{data:0}),Kl=Ft(Sm),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ql(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ch[s])?!!a[s]:!1}function pa(){return Ql}var uh=y({},da,{key:function(s){if(s.key){var a=ga[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ni(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(s){return s.type==="keypress"?Ni(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ni(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_o=Ft(uh),hh=y({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=Ft(hh),os=y({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),dh=Ft(os),fh=y({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=Ft(fh),gh=y({},fa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),bo=Ft(gh),vn=y({},We,{newState:0,oldState:0}),ph=Ft(vn),yh=[9,13,27,32],Oi=oi&&"CompositionEvent"in window,f=null;oi&&"documentMode"in document&&(f=document.documentMode);var _=oi&&"TextEvent"in window&&!f,w=oi&&(!Oi||f&&8<f&&11>=f),R=" ",G=!1;function X(s,a){switch(s){case"keyup":return yh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ve=!1;function Mt(s,a){switch(s){case"compositionend":return ce(a);case"keypress":return a.which!==32?null:(G=!0,R);case"textInput":return s=a.data,s===R&&G?null:s;default:return null}}function Ue(s,a){if(Ve)return s==="compositionend"||!Oi&&X(s,a)?(s=Yl(),as=Ks=Ci=null,Ve=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ht[s.type]:a==="textarea"}function ls(s,a,l,u){ss?rs?rs.push(u):rs=[u]:ss=u,a=id(a,"onChange"),0<a.length&&(l=new fo("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Xt=null,Mi=null;function Zl(s){Ob(s,0)}function vh(s){var a=Si(s);if(Fl(a))return s}function J0(s,a){if(s==="change")return a}var ev=!1;if(oi){var Am;if(oi){var Rm="oninput"in document;if(!Rm){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Rm=typeof tv.oninput=="function"}Am=Rm}else Am=!1;ev=Am&&(!document.documentMode||9<document.documentMode)}function nv(){Xt&&(Xt.detachEvent("onpropertychange",iv),Mi=Xt=null)}function iv(s){if(s.propertyName==="value"&&vh(Mi)){var a=[];ls(a,Mi,s,Yn(s)),sh(Zl,a)}}function $S(s,a,l){s==="focusin"?(nv(),Xt=a,Mi=l,Xt.attachEvent("onpropertychange",iv)):s==="focusout"&&nv()}function KS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vh(Mi)}function QS(s,a){if(s==="click")return vh(a)}function XS(s,a){if(s==="input"||s==="change")return vh(a)}function ZS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var On=typeof Object.is=="function"?Object.is:ZS;function Jl(s,a){if(On(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Kr.call(a,g)||!On(s[g],a[g]))return!1}return!0}function sv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rv(s,a){var l=sv(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sv(l)}}function av(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?av(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ov(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=aa(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=aa(s.document)}return a}function Cm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var JS=oi&&"documentMode"in document&&11>=document.documentMode,xo=null,Nm=null,ec=null,Im=!1;function lv(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Im||xo==null||xo!==aa(u)||(u=xo,"selectionStart"in u&&Cm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ec&&Jl(ec,u)||(ec=u,u=id(Nm,"onSelect"),0<u.length&&(a=new fo("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=xo)))}function ya(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var wo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Dm={},cv={};oi&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function va(s){if(Dm[s])return Dm[s];if(!wo[s])return s;var a=wo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in cv)return Dm[s]=a[l];return s}var uv=va("animationend"),hv=va("animationiteration"),dv=va("animationstart"),eA=va("transitionrun"),tA=va("transitionstart"),nA=va("transitioncancel"),fv=va("transitionend"),mv=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Om.push("scrollEnd");function li(s,a){mv.set(s,a),ai(a,[s])}var gv=new WeakMap;function Kn(s,a){if(typeof s=="object"&&s!==null){var l=gv.get(s);return l!==void 0?l:(a={value:s,source:a,stack:co(a)},gv.set(s,a),a)}return{value:s,source:a,stack:co(a)}}var Qn=[],Eo=0,Mm=0;function _h(){for(var s=Eo,a=Mm=Eo=0;a<s;){var l=Qn[a];Qn[a++]=null;var u=Qn[a];Qn[a++]=null;var g=Qn[a];Qn[a++]=null;var v=Qn[a];if(Qn[a++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}v!==0&&pv(l,g,v)}}function bh(s,a,l,u){Qn[Eo++]=s,Qn[Eo++]=a,Qn[Eo++]=l,Qn[Eo++]=u,Mm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function km(s,a,l,u){return bh(s,a,l,u),xh(s)}function To(s,a){return bh(s,null,null,a),xh(s)}function pv(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&a!==null&&(g=31-an(l),s=v.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),v):null}function xh(s){if(50<Sc)throw Sc=0,zg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var So={};function iA(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,a,l,u){return new iA(s,a,l,u)}function jm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cs(s,a){var l=s.alternate;return l===null?(l=Mn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function yv(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function wh(s,a,l,u,g,v){var E=0;if(u=s,typeof s=="function")jm(s)&&(E=1);else if(typeof s=="string")E=rR(s,l,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=Mn(31,l,a,g),s.elementType=D,s.lanes=v,s;case S:return _a(l.children,g,v,a);case I:E=8,g|=24;break;case C:return s=Mn(12,l,a,g|2),s.elementType=C,s.lanes=v,s;case ee:return s=Mn(13,l,a,g),s.elementType=ee,s.lanes=v,s;case le:return s=Mn(19,l,a,g),s.elementType=le,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:case q:E=10;break e;case U:E=9;break e;case Z:E=11;break e;case M:E=14;break e;case N:E=16,u=null;break e}E=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Mn(E,l,a,g),a.elementType=s,a.type=u,a.lanes=v,a}function _a(s,a,l,u){return s=Mn(7,s,u,a),s.lanes=l,s}function Pm(s,a,l){return s=Mn(6,s,null,a),s.lanes=l,s}function Lm(s,a,l){return a=Mn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Ao=[],Ro=0,Eh=null,Th=0,Xn=[],Zn=0,ba=null,us=1,hs="";function xa(s,a){Ao[Ro++]=Th,Ao[Ro++]=Eh,Eh=s,Th=a}function vv(s,a,l){Xn[Zn++]=us,Xn[Zn++]=hs,Xn[Zn++]=ba,ba=s;var u=us;s=hs;var g=32-an(u)-1;u&=~(1<<g),l+=1;var v=32-an(a)+g;if(30<v){var E=g-g%5;v=(u&(1<<E)-1).toString(32),u>>=E,g-=E,us=1<<32-an(a)+g|l<<g|u,hs=v+s}else us=1<<v|l<<g|u,hs=s}function Vm(s){s.return!==null&&(xa(s,1),vv(s,1,0))}function Um(s){for(;s===Eh;)Eh=Ao[--Ro],Ao[Ro]=null,Th=Ao[--Ro],Ao[Ro]=null;for(;s===ba;)ba=Xn[--Zn],Xn[Zn]=null,hs=Xn[--Zn],Xn[Zn]=null,us=Xn[--Zn],Xn[Zn]=null}var _n=null,pt=null,Ye=!1,wa=null,ki=!1,zm=Error(i(519));function Ea(s){var a=Error(i(418,""));throw ic(Kn(a,s)),zm}function _v(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ot]=s,a[Tt]=u,l){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(l=0;l<Rc.length;l++)je(Rc[l],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":je("invalid",a),oa(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),uo(a);break;case"select":je("invalid",a);break;case"textarea":je("invalid",a),la(a,u.value,u.defaultValue,u.children),uo(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Pb(a.textContent,l)?(u.popover!=null&&(je("beforetoggle",a),je("toggle",a)),u.onScroll!=null&&je("scroll",a),u.onScrollEnd!=null&&je("scrollend",a),u.onClick!=null&&(a.onclick=sd),a=!0):a=!1,a||Ea(s)}function bv(s){for(_n=s.return;_n;)switch(_n.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:_n=_n.return}}function tc(s){if(s!==_n)return!1;if(!Ye)return bv(s),Ye=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||np(s.type,s.memoizedProps)),l=!l),l&&pt&&Ea(s),bv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){pt=ui(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}pt=null}}else a===27?(a=pt,hr(s.type)?(s=ap,ap=null,pt=s):pt=a):pt=_n?ui(s.stateNode.nextSibling):null;return!0}function nc(){pt=_n=null,Ye=!1}function xv(){var s=wa;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),wa=null),s}function ic(s){wa===null?wa=[s]:wa.push(s)}var Bm=re(null),Ta=null,ds=null;function Qs(s,a,l){oe(Bm,a._currentValue),a._currentValue=l}function fs(s){s._currentValue=Bm.current,ue(Bm)}function Fm(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Hm(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var E=g.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=g;for(var P=0;P<a.length;P++)if(A.context===a[P]){v.lanes|=l,A=v.alternate,A!==null&&(A.lanes|=l),Fm(v.return,l,s),u||(E=null);break e}v=A.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=l,v=E.alternate,v!==null&&(v.lanes|=l),Fm(E,l,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function sc(s,a,l,u){s=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=g.type;On(g.pendingProps.value,E.value)||(s!==null?s.push(A):s=[A])}}else if(g===Bt.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Mc):s=[Mc])}g=g.return}s!==null&&Hm(a,s,l,u),a.flags|=262144}function Sh(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Sa(s){Ta=s,ds=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function on(s){return wv(Ta,s)}function Ah(s,a){return Ta===null&&Sa(s),wv(s,a)}function wv(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ds===null){if(s===null)throw Error(i(308));ds=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ds=ds.next=a;return l}var sA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},rA=n.unstable_scheduleCallback,aA=n.unstable_NormalPriority,jt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new sA,data:new Map,refCount:0}}function rc(s){s.refCount--,s.refCount===0&&rA(aA,function(){s.controller.abort()})}var ac=null,Gm=0,Co=0,No=null;function oA(s,a){if(ac===null){var l=ac=[];Gm=0,Co=Wg(),No={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Gm++,a.then(Ev,Ev),a}function Ev(){if(--Gm===0&&ac!==null){No!==null&&(No.status="fulfilled");var s=ac;ac=null,Co=0,No=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function lA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Tv=Q.S;Q.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&oA(s,a),Tv!==null&&Tv(s,a)};var Aa=re(null);function Ym(){var s=Aa.current;return s!==null?s:ot.pooledCache}function Rh(s,a){a===null?oe(Aa,Aa.current):oe(Aa,a.pool)}function Sv(){var s=Ym();return s===null?null:{parent:jt._currentValue,pool:s}}var oc=Error(i(460)),Av=Error(i(474)),Ch=Error(i(542)),Wm={then:function(){}};function Rv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Nh(){}function Cv(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Nh,Nh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Iv(s),s;default:if(typeof a.status=="string")a.then(Nh,Nh);else{if(s=ot,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Iv(s),s}throw lc=a,oc}}var lc=null;function Nv(){if(lc===null)throw Error(i(459));var s=lc;return lc=null,s}function Iv(s){if(s===oc||s===Ch)throw Error(i(483))}var Xs=!1;function $m(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Km(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Js(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=xh(s),pv(s,null,l),a}return bh(s,u,a,l),xh(s)}function cc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Ll(s,l)}}function Qm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?g=v=a:v=v.next=a}else g=v=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Xm=!1;function uc(){if(Xm){var s=No;if(s!==null)throw s}}function hc(s,a,l,u){Xm=!1;var g=s.updateQueue;Xs=!1;var v=g.firstBaseUpdate,E=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var P=A,W=P.next;P.next=null,E===null?v=W:E.next=W,E=P;var J=s.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=W:A.next=W,J.lastBaseUpdate=P))}if(v!==null){var ne=g.baseState;E=0,J=W=P=null,A=v;do{var $=A.lane&-536870913,K=$!==A.lane;if(K?(ze&$)===$:(u&$)===$){$!==0&&$===Co&&(Xm=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=s,be=A;$=a;var it=l;switch(be.tag){case 1:if(Se=be.payload,typeof Se=="function"){ne=Se.call(it,ne,$);break e}ne=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,$=typeof Se=="function"?Se.call(it,ne,$):Se,$==null)break e;ne=y({},ne,$);break e;case 2:Xs=!0}}$=A.callback,$!==null&&(s.flags|=64,K&&(s.flags|=8192),K=g.callbacks,K===null?g.callbacks=[$]:K.push($))}else K={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(W=J=K,P=ne):J=J.next=K,E|=$;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;K=A,A=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);J===null&&(P=ne),g.baseState=P,g.firstBaseUpdate=W,g.lastBaseUpdate=J,v===null&&(g.shared.lanes=0),or|=E,s.lanes=E,s.memoizedState=ne}}function Dv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Ov(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Dv(l[s],a)}var Io=re(null),Ih=re(0);function Mv(s,a){s=bs,oe(Ih,s),oe(Io,a),bs=s|a.baseLanes}function Zm(){oe(Ih,bs),oe(Io,Io.current)}function Jm(){bs=Ih.current,ue(Io),ue(Ih)}var er=0,De=null,tt=null,At=null,Dh=!1,Do=!1,Ra=!1,Oh=0,dc=0,Oo=null,cA=0;function bt(){throw Error(i(321))}function eg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!On(s[l],a[l]))return!1;return!0}function tg(s,a,l,u,g,v){return er=v,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?p_:y_,Ra=!1,v=l(u,g),Ra=!1,Do&&(v=jv(a,l,u,g)),kv(s),v}function kv(s){Q.H=Vh;var a=tt!==null&&tt.next!==null;if(er=0,At=tt=De=null,Dh=!1,dc=0,Oo=null,a)throw Error(i(300));s===null||qt||(s=s.dependencies,s!==null&&Sh(s)&&(qt=!0))}function jv(s,a,l,u){De=s;var g=0;do{if(Do&&(Oo=null),dc=0,Do=!1,25<=g)throw Error(i(301));if(g+=1,At=tt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Q.H=pA,v=a(l,u)}while(Do);return v}function uA(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?fc(a):a,s=s.useState()[0],(tt!==null?tt.memoizedState:null)!==s&&(De.flags|=1024),a}function ng(){var s=Oh!==0;return Oh=0,s}function ig(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function sg(s){if(Dh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Dh=!1}er=0,At=tt=De=null,Do=!1,dc=Oh=0,Oo=null}function wn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?De.memoizedState=At=s:At=At.next=s,At}function Rt(){if(tt===null){var s=De.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var a=At===null?De.memoizedState:At.next;if(a!==null)At=a,tt=s;else{if(s===null)throw De.alternate===null?Error(i(467)):Error(i(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},At===null?De.memoizedState=At=s:At=At.next=s}return At}function rg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fc(s){var a=dc;return dc+=1,Oo===null&&(Oo=[]),s=Cv(Oo,s,a),a=De,(At===null?a.memoizedState:At.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?p_:y_),s}function Mh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return fc(s);if(s.$$typeof===q)return on(s)}throw Error(i(438,String(s)))}function ag(s){var a=null,l=De.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=rg(),De.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=O;return a.index++,l}function ms(s,a){return typeof a=="function"?a(s):a}function kh(s){var a=Rt();return og(a,tt,s)}function og(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,v=u.pending;if(v!==null){if(g!==null){var E=g.next;g.next=v.next,v.next=E}a.baseQueue=g=v,u.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{a=g.next;var A=E=null,P=null,W=a,J=!1;do{var ne=W.lane&-536870913;if(ne!==W.lane?(ze&ne)===ne:(er&ne)===ne){var $=W.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ne===Co&&(J=!0);else if((er&$)===$){W=W.next,$===Co&&(J=!0);continue}else ne={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(A=P=ne,E=v):P=P.next=ne,De.lanes|=$,or|=$;ne=W.action,Ra&&l(v,ne),v=W.hasEagerState?W.eagerState:l(v,ne)}else $={lane:ne,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(A=P=$,E=v):P=P.next=$,De.lanes|=ne,or|=ne;W=W.next}while(W!==null&&W!==a);if(P===null?E=v:P.next=A,!On(v,s.memoizedState)&&(qt=!0,J&&(l=No,l!==null)))throw l;s.memoizedState=v,s.baseState=E,s.baseQueue=P,u.lastRenderedState=v}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function lg(s){var a=Rt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,v=a.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do v=s(v,E.action),E=E.next;while(E!==g);On(v,a.memoizedState)||(qt=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,u]}function Pv(s,a,l){var u=De,g=Rt(),v=Ye;if(v){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!On((tt||g).memoizedState,l);E&&(g.memoizedState=l,qt=!0),g=g.queue;var A=Uv.bind(null,u,g,s);if(mc(2048,8,A,[s]),g.getSnapshot!==a||E||At!==null&&At.memoizedState.tag&1){if(u.flags|=2048,Mo(9,jh(),Vv.bind(null,u,g,l,a),null),ot===null)throw Error(i(349));v||(er&124)!==0||Lv(u,a,l)}return l}function Lv(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=De.updateQueue,a===null?(a=rg(),De.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Vv(s,a,l,u){a.value=l,a.getSnapshot=u,zv(a)&&Bv(s)}function Uv(s,a,l){return l(function(){zv(a)&&Bv(s)})}function zv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!On(s,l)}catch{return!0}}function Bv(s){var a=To(s,2);a!==null&&Vn(a,s,2)}function cg(s){var a=wn();if(typeof s=="function"){var l=s;if(s=l(),Ra){In(!0);try{l()}finally{In(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},a}function Fv(s,a,l,u){return s.baseState=l,og(s,tt,typeof u=="function"?u:ms)}function hA(s,a,l,u,g){if(Lh(s))throw Error(i(485));if(s=a.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};Q.T!==null?l(!0):v.isTransition=!1,u(v),l=a.pending,l===null?(v.next=a.pending=v,Hv(a,v)):(v.next=l.next,a.pending=l.next=v)}}function Hv(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var v=Q.T,E={};Q.T=E;try{var A=l(g,u),P=Q.S;P!==null&&P(E,A),qv(s,a,A)}catch(W){ug(s,a,W)}finally{Q.T=v}}else try{v=l(g,u),qv(s,a,v)}catch(W){ug(s,a,W)}}function qv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Gv(s,a,u)},function(u){return ug(s,a,u)}):Gv(s,a,l)}function Gv(s,a,l){a.status="fulfilled",a.value=l,Yv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Hv(s,l)))}function ug(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Yv(a),a=a.next;while(a!==u)}s.action=null}function Yv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Wv(s,a){return a}function $v(s,a){if(Ye){var l=ot.formState;if(l!==null){e:{var u=De;if(Ye){if(pt){t:{for(var g=pt,v=ki;g.nodeType!==8;){if(!v){g=null;break t}if(g=ui(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){pt=ui(g.nextSibling),u=g.data==="F!";break e}}Ea(u)}u=!1}u&&(a=l[0])}}return l=wn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wv,lastRenderedState:a},l.queue=u,l=f_.bind(null,De,u),u.dispatch=l,u=cg(!1),v=gg.bind(null,De,!1,u.queue),u=wn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=hA.bind(null,De,g,v,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function Kv(s){var a=Rt();return Qv(a,tt,s)}function Qv(s,a,l){if(a=og(s,a,Wv)[0],s=kh(ms)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=fc(a)}catch(E){throw E===oc?Ch:E}else u=a;a=Rt();var g=a.queue,v=g.dispatch;return l!==a.memoizedState&&(De.flags|=2048,Mo(9,jh(),dA.bind(null,g,l),null)),[u,v,s]}function dA(s,a){s.action=a}function Xv(s){var a=Rt(),l=tt;if(l!==null)return Qv(a,l,s);Rt(),a=a.memoizedState,l=Rt();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Mo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=De.updateQueue,a===null&&(a=rg(),De.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function jh(){return{destroy:void 0,resource:void 0}}function Zv(){return Rt().memoizedState}function Ph(s,a,l,u){var g=wn();u=u===void 0?null:u,De.flags|=s,g.memoizedState=Mo(1|a,jh(),l,u)}function mc(s,a,l,u){var g=Rt();u=u===void 0?null:u;var v=g.memoizedState.inst;tt!==null&&u!==null&&eg(u,tt.memoizedState.deps)?g.memoizedState=Mo(a,v,l,u):(De.flags|=s,g.memoizedState=Mo(1|a,v,l,u))}function Jv(s,a){Ph(8390656,8,s,a)}function e_(s,a){mc(2048,8,s,a)}function t_(s,a){return mc(4,2,s,a)}function n_(s,a){return mc(4,4,s,a)}function i_(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function s_(s,a,l){l=l!=null?l.concat([s]):null,mc(4,4,i_.bind(null,a,s),l)}function hg(){}function r_(s,a){var l=Rt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&eg(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function a_(s,a){var l=Rt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&eg(a,u[1]))return u[0];if(u=s(),Ra){In(!0);try{s()}finally{In(!1)}}return l.memoizedState=[u,a],u}function dg(s,a,l){return l===void 0||(er&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=cb(),De.lanes|=s,or|=s,l)}function o_(s,a,l,u){return On(l,a)?l:Io.current!==null?(s=dg(s,l,u),On(s,a)||(qt=!0),s):(er&42)===0?(qt=!0,s.memoizedState=l):(s=cb(),De.lanes|=s,or|=s,a)}function l_(s,a,l,u,g){var v=ae.p;ae.p=v!==0&&8>v?v:8;var E=Q.T,A={};Q.T=A,gg(s,!1,a,l);try{var P=g(),W=Q.S;if(W!==null&&W(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=lA(P,u);gc(s,a,J,Ln(s))}else gc(s,a,u,Ln(s))}catch(ne){gc(s,a,{then:function(){},status:"rejected",reason:ne},Ln())}finally{ae.p=v,Q.T=E}}function fA(){}function fg(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=c_(s).queue;l_(s,g,a,fe,l===null?fA:function(){return u_(s),l(u)})}function c_(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:fe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function u_(s){var a=c_(s).next.queue;gc(s,a,{},Ln())}function mg(){return on(Mc)}function h_(){return Rt().memoizedState}function d_(){return Rt().memoizedState}function mA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ln();s=Zs(l);var u=Js(a,s,l);u!==null&&(Vn(u,a,l),cc(u,a,l)),a={cache:qm()},s.payload=a;return}a=a.return}}function gA(s,a,l){var u=Ln();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Lh(s)?m_(a,l):(l=km(s,a,l,u),l!==null&&(Vn(l,s,u),g_(l,a,u)))}function f_(s,a,l){var u=Ln();gc(s,a,l,u)}function gc(s,a,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lh(s))m_(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var E=a.lastRenderedState,A=v(E,l);if(g.hasEagerState=!0,g.eagerState=A,On(A,E))return bh(s,a,g,0),ot===null&&_h(),!1}catch{}finally{}if(l=km(s,a,g,u),l!==null)return Vn(l,s,u),g_(l,a,u),!0}return!1}function gg(s,a,l,u){if(u={lane:2,revertLane:Wg(),action:u,hasEagerState:!1,eagerState:null,next:null},Lh(s)){if(a)throw Error(i(479))}else a=km(s,l,u,2),a!==null&&Vn(a,s,2)}function Lh(s){var a=s.alternate;return s===De||a!==null&&a===De}function m_(s,a){Do=Dh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function g_(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Ll(s,l)}}var Vh={readContext:on,use:Mh,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},p_={readContext:on,use:Mh,useCallback:function(s,a){return wn().memoizedState=[s,a===void 0?null:a],s},useContext:on,useEffect:Jv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Ph(4194308,4,i_.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Ph(4194308,4,s,a)},useInsertionEffect:function(s,a){Ph(4,2,s,a)},useMemo:function(s,a){var l=wn();a=a===void 0?null:a;var u=s();if(Ra){In(!0);try{s()}finally{In(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=wn();if(l!==void 0){var g=l(a);if(Ra){In(!0);try{l(a)}finally{In(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=gA.bind(null,De,s),[u.memoizedState,s]},useRef:function(s){var a=wn();return s={current:s},a.memoizedState=s},useState:function(s){s=cg(s);var a=s.queue,l=f_.bind(null,De,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:hg,useDeferredValue:function(s,a){var l=wn();return dg(l,s,a)},useTransition:function(){var s=cg(!1);return s=l_.bind(null,De,s.queue,!0,!1),wn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=De,g=wn();if(Ye){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ot===null)throw Error(i(349));(ze&124)!==0||Lv(u,a,l)}g.memoizedState=l;var v={value:l,getSnapshot:a};return g.queue=v,Jv(Uv.bind(null,u,v,s),[s]),u.flags|=2048,Mo(9,jh(),Vv.bind(null,u,v,l,a),null),l},useId:function(){var s=wn(),a=ot.identifierPrefix;if(Ye){var l=hs,u=us;l=(u&~(1<<32-an(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Oh++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=cA++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:mg,useFormState:$v,useActionState:$v,useOptimistic:function(s){var a=wn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=gg.bind(null,De,!0,l),l.dispatch=a,[s,a]},useMemoCache:ag,useCacheRefresh:function(){return wn().memoizedState=mA.bind(null,De)}},y_={readContext:on,use:Mh,useCallback:r_,useContext:on,useEffect:e_,useImperativeHandle:s_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:kh,useRef:Zv,useState:function(){return kh(ms)},useDebugValue:hg,useDeferredValue:function(s,a){var l=Rt();return o_(l,tt.memoizedState,s,a)},useTransition:function(){var s=kh(ms)[0],a=Rt().memoizedState;return[typeof s=="boolean"?s:fc(s),a]},useSyncExternalStore:Pv,useId:h_,useHostTransitionStatus:mg,useFormState:Kv,useActionState:Kv,useOptimistic:function(s,a){var l=Rt();return Fv(l,tt,s,a)},useMemoCache:ag,useCacheRefresh:d_},pA={readContext:on,use:Mh,useCallback:r_,useContext:on,useEffect:e_,useImperativeHandle:s_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:lg,useRef:Zv,useState:function(){return lg(ms)},useDebugValue:hg,useDeferredValue:function(s,a){var l=Rt();return tt===null?dg(l,s,a):o_(l,tt.memoizedState,s,a)},useTransition:function(){var s=lg(ms)[0],a=Rt().memoizedState;return[typeof s=="boolean"?s:fc(s),a]},useSyncExternalStore:Pv,useId:h_,useHostTransitionStatus:mg,useFormState:Xv,useActionState:Xv,useOptimistic:function(s,a){var l=Rt();return tt!==null?Fv(l,tt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:ag,useCacheRefresh:d_},ko=null,pc=0;function Uh(s){var a=pc;return pc+=1,ko===null&&(ko=[]),Cv(ko,s,a)}function yc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function zh(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function v_(s){var a=s._init;return a(s._payload)}function __(s){function a(H,F){if(s){var Y=H.deletions;Y===null?(H.deletions=[F],H.flags|=16):Y.push(F)}}function l(H,F){if(!s)return null;for(;F!==null;)a(H,F),F=F.sibling;return null}function u(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function g(H,F){return H=cs(H,F),H.index=0,H.sibling=null,H}function v(H,F,Y){return H.index=Y,s?(Y=H.alternate,Y!==null?(Y=Y.index,Y<F?(H.flags|=67108866,F):Y):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function E(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function A(H,F,Y,te){return F===null||F.tag!==6?(F=Pm(Y,H.mode,te),F.return=H,F):(F=g(F,Y),F.return=H,F)}function P(H,F,Y,te){var me=Y.type;return me===S?J(H,F,Y.props.children,te,Y.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===N&&v_(me)===F.type)?(F=g(F,Y.props),yc(F,Y),F.return=H,F):(F=wh(Y.type,Y.key,Y.props,null,H.mode,te),yc(F,Y),F.return=H,F)}function W(H,F,Y,te){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=Lm(Y,H.mode,te),F.return=H,F):(F=g(F,Y.children||[]),F.return=H,F)}function J(H,F,Y,te,me){return F===null||F.tag!==7?(F=_a(Y,H.mode,te,me),F.return=H,F):(F=g(F,Y),F.return=H,F)}function ne(H,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Pm(""+F,H.mode,Y),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return Y=wh(F.type,F.key,F.props,null,H.mode,Y),yc(Y,F),Y.return=H,Y;case T:return F=Lm(F,H.mode,Y),F.return=H,F;case N:var te=F._init;return F=te(F._payload),ne(H,F,Y)}if(_e(F)||B(F))return F=_a(F,H.mode,Y,null),F.return=H,F;if(typeof F.then=="function")return ne(H,Uh(F),Y);if(F.$$typeof===q)return ne(H,Ah(H,F),Y);zh(H,F)}return null}function $(H,F,Y,te){var me=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return me!==null?null:A(H,F,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Y.key===me?P(H,F,Y,te):null;case T:return Y.key===me?W(H,F,Y,te):null;case N:return me=Y._init,Y=me(Y._payload),$(H,F,Y,te)}if(_e(Y)||B(Y))return me!==null?null:J(H,F,Y,te,null);if(typeof Y.then=="function")return $(H,F,Uh(Y),te);if(Y.$$typeof===q)return $(H,F,Ah(H,Y),te);zh(H,Y)}return null}function K(H,F,Y,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(Y)||null,A(F,H,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return H=H.get(te.key===null?Y:te.key)||null,P(F,H,te,me);case T:return H=H.get(te.key===null?Y:te.key)||null,W(F,H,te,me);case N:var Me=te._init;return te=Me(te._payload),K(H,F,Y,te,me)}if(_e(te)||B(te))return H=H.get(Y)||null,J(F,H,te,me,null);if(typeof te.then=="function")return K(H,F,Y,Uh(te),me);if(te.$$typeof===q)return K(H,F,Y,Ah(F,te),me);zh(F,te)}return null}function Se(H,F,Y,te){for(var me=null,Me=null,pe=F,xe=F=0,Yt=null;pe!==null&&xe<Y.length;xe++){pe.index>xe?(Yt=pe,pe=null):Yt=pe.sibling;var He=$(H,pe,Y[xe],te);if(He===null){pe===null&&(pe=Yt);break}s&&pe&&He.alternate===null&&a(H,pe),F=v(He,F,xe),Me===null?me=He:Me.sibling=He,Me=He,pe=Yt}if(xe===Y.length)return l(H,pe),Ye&&xa(H,xe),me;if(pe===null){for(;xe<Y.length;xe++)pe=ne(H,Y[xe],te),pe!==null&&(F=v(pe,F,xe),Me===null?me=pe:Me.sibling=pe,Me=pe);return Ye&&xa(H,xe),me}for(pe=u(pe);xe<Y.length;xe++)Yt=K(pe,H,xe,Y[xe],te),Yt!==null&&(s&&Yt.alternate!==null&&pe.delete(Yt.key===null?xe:Yt.key),F=v(Yt,F,xe),Me===null?me=Yt:Me.sibling=Yt,Me=Yt);return s&&pe.forEach(function(pr){return a(H,pr)}),Ye&&xa(H,xe),me}function be(H,F,Y,te){if(Y==null)throw Error(i(151));for(var me=null,Me=null,pe=F,xe=F=0,Yt=null,He=Y.next();pe!==null&&!He.done;xe++,He=Y.next()){pe.index>xe?(Yt=pe,pe=null):Yt=pe.sibling;var pr=$(H,pe,He.value,te);if(pr===null){pe===null&&(pe=Yt);break}s&&pe&&pr.alternate===null&&a(H,pe),F=v(pr,F,xe),Me===null?me=pr:Me.sibling=pr,Me=pr,pe=Yt}if(He.done)return l(H,pe),Ye&&xa(H,xe),me;if(pe===null){for(;!He.done;xe++,He=Y.next())He=ne(H,He.value,te),He!==null&&(F=v(He,F,xe),Me===null?me=He:Me.sibling=He,Me=He);return Ye&&xa(H,xe),me}for(pe=u(pe);!He.done;xe++,He=Y.next())He=K(pe,H,xe,He.value,te),He!==null&&(s&&He.alternate!==null&&pe.delete(He.key===null?xe:He.key),F=v(He,F,xe),Me===null?me=He:Me.sibling=He,Me=He);return s&&pe.forEach(function(yR){return a(H,yR)}),Ye&&xa(H,xe),me}function it(H,F,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:e:{for(var me=Y.key;F!==null;){if(F.key===me){if(me=Y.type,me===S){if(F.tag===7){l(H,F.sibling),te=g(F,Y.props.children),te.return=H,H=te;break e}}else if(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===N&&v_(me)===F.type){l(H,F.sibling),te=g(F,Y.props),yc(te,Y),te.return=H,H=te;break e}l(H,F);break}else a(H,F);F=F.sibling}Y.type===S?(te=_a(Y.props.children,H.mode,te,Y.key),te.return=H,H=te):(te=wh(Y.type,Y.key,Y.props,null,H.mode,te),yc(te,Y),te.return=H,H=te)}return E(H);case T:e:{for(me=Y.key;F!==null;){if(F.key===me)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){l(H,F.sibling),te=g(F,Y.children||[]),te.return=H,H=te;break e}else{l(H,F);break}else a(H,F);F=F.sibling}te=Lm(Y,H.mode,te),te.return=H,H=te}return E(H);case N:return me=Y._init,Y=me(Y._payload),it(H,F,Y,te)}if(_e(Y))return Se(H,F,Y,te);if(B(Y)){if(me=B(Y),typeof me!="function")throw Error(i(150));return Y=me.call(Y),be(H,F,Y,te)}if(typeof Y.then=="function")return it(H,F,Uh(Y),te);if(Y.$$typeof===q)return it(H,F,Ah(H,Y),te);zh(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(l(H,F.sibling),te=g(F,Y),te.return=H,H=te):(l(H,F),te=Pm(Y,H.mode,te),te.return=H,H=te),E(H)):l(H,F)}return function(H,F,Y,te){try{pc=0;var me=it(H,F,Y,te);return ko=null,me}catch(pe){if(pe===oc||pe===Ch)throw pe;var Me=Mn(29,pe,null,H.mode);return Me.lanes=te,Me.return=H,Me}finally{}}}var jo=__(!0),b_=__(!1),Jn=re(null),ji=null;function tr(s){var a=s.alternate;oe(Pt,Pt.current&1),oe(Jn,s),ji===null&&(a===null||Io.current!==null||a.memoizedState!==null)&&(ji=s)}function x_(s){if(s.tag===22){if(oe(Pt,Pt.current),oe(Jn,s),ji===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ji=s)}}else nr()}function nr(){oe(Pt,Pt.current),oe(Jn,Jn.current)}function gs(s){ue(Jn),ji===s&&(ji=null),ue(Pt)}var Pt=re(0);function Bh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||rp(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function pg(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var yg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Ln(),g=Zs(u);g.payload=a,l!=null&&(g.callback=l),a=Js(s,g,u),a!==null&&(Vn(a,s,u),cc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Ln(),g=Zs(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Js(s,g,u),a!==null&&(Vn(a,s,u),cc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Ln(),u=Zs(l);u.tag=2,a!=null&&(u.callback=a),a=Js(s,u,l),a!==null&&(Vn(a,s,l),cc(a,s,l))}};function w_(s,a,l,u,g,v,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,v,E):a.prototype&&a.prototype.isPureReactComponent?!Jl(l,u)||!Jl(g,v):!0}function E_(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&yg.enqueueReplaceState(a,a.state,null)}function Ca(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var Fh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function T_(s){Fh(s)}function S_(s){console.error(s)}function A_(s){Fh(s)}function Hh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function R_(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function vg(s,a,l){return l=Zs(l),l.tag=3,l.payload={element:null},l.callback=function(){Hh(s,a)},l}function C_(s){return s=Zs(s),s.tag=3,s}function N_(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;s.payload=function(){return g(v)},s.callback=function(){R_(a,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){R_(a,l,u),typeof g!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function yA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&sc(a,l,g,!0),l=Jn.current,l!==null){switch(l.tag){case 13:return ji===null?Fg():l.alternate===null&&yt===0&&(yt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Wm?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),qg(s,u,g)),!1;case 22:return l.flags|=65536,u===Wm?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),qg(s,u,g)),!1}throw Error(i(435,l.tag))}return qg(s,u,g),Fg(),!1}if(Ye)return a=Jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==zm&&(s=Error(i(422),{cause:u}),ic(Kn(s,l)))):(u!==zm&&(a=Error(i(423),{cause:u}),ic(Kn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Kn(u,l),g=vg(s.stateNode,u,g),Qm(s,g),yt!==4&&(yt=2)),!1;var v=Error(i(520),{cause:u});if(v=Kn(v,l),Tc===null?Tc=[v]:Tc.push(v),yt!==4&&(yt=2),a===null)return!0;u=Kn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=vg(l.stateNode,u,s),Qm(l,s),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(lr===null||!lr.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=C_(g),N_(g,s,l,u),Qm(l,g),!1}l=l.return}while(l!==null);return!1}var I_=Error(i(461)),qt=!1;function Zt(s,a,l,u){a.child=s===null?b_(a,null,l,u):jo(a,s.child,l,u)}function D_(s,a,l,u,g){l=l.render;var v=a.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return Sa(a),u=tg(s,a,l,E,v,g),A=ng(),s!==null&&!qt?(ig(s,a,g),ps(s,a,g)):(Ye&&A&&Vm(a),a.flags|=1,Zt(s,a,u,g),a.child)}function O_(s,a,l,u,g){if(s===null){var v=l.type;return typeof v=="function"&&!jm(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,M_(s,a,v,u,g)):(s=wh(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,!Ag(s,g)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:Jl,l(E,u)&&s.ref===a.ref)return ps(s,a,g)}return a.flags|=1,s=cs(v,u),s.ref=a.ref,s.return=a,a.child=s}function M_(s,a,l,u,g){if(s!==null){var v=s.memoizedProps;if(Jl(v,u)&&s.ref===a.ref)if(qt=!1,a.pendingProps=u=v,Ag(s,g))(s.flags&131072)!==0&&(qt=!0);else return a.lanes=s.lanes,ps(s,a,g)}return _g(s,a,l,u,g)}function k_(s,a,l){var u=a.pendingProps,g=u.children,v=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=v!==null?v.baseLanes|l:l,s!==null){for(g=a.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;a.childLanes=v&~u}else a.childLanes=0,a.child=null;return j_(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rh(a,v!==null?v.cachePool:null),v!==null?Mv(a,v):Zm(),x_(a);else return a.lanes=a.childLanes=536870912,j_(s,a,v!==null?v.baseLanes|l:l,l)}else v!==null?(Rh(a,v.cachePool),Mv(a,v),nr(),a.memoizedState=null):(s!==null&&Rh(a,null),Zm(),nr());return Zt(s,a,g,l),a.child}function j_(s,a,l,u){var g=Ym();return g=g===null?null:{parent:jt._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&Rh(a,null),Zm(),x_(a),s!==null&&sc(s,a,u,!0),null}function qh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function _g(s,a,l,u,g){return Sa(a),l=tg(s,a,l,u,void 0,g),u=ng(),s!==null&&!qt?(ig(s,a,g),ps(s,a,g)):(Ye&&u&&Vm(a),a.flags|=1,Zt(s,a,l,g),a.child)}function P_(s,a,l,u,g,v){return Sa(a),a.updateQueue=null,l=jv(a,u,l,g),kv(s),u=ng(),s!==null&&!qt?(ig(s,a,v),ps(s,a,v)):(Ye&&u&&Vm(a),a.flags|=1,Zt(s,a,l,v),a.child)}function L_(s,a,l,u,g){if(Sa(a),a.stateNode===null){var v=So,E=l.contextType;typeof E=="object"&&E!==null&&(v=on(E)),v=new l(u,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=yg,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=u,v.state=a.memoizedState,v.refs={},$m(a),E=l.contextType,v.context=typeof E=="object"&&E!==null?on(E):So,v.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(pg(a,l,E,u),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&yg.enqueueReplaceState(v,v.state,null),hc(a,u,v,g),uc(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){v=a.stateNode;var A=a.memoizedProps,P=Ca(l,A);v.props=P;var W=v.context,J=l.contextType;E=So,typeof J=="object"&&J!==null&&(E=on(J));var ne=l.getDerivedStateFromProps;J=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||W!==E)&&E_(a,v,u,E),Xs=!1;var $=a.memoizedState;v.state=$,hc(a,u,v,g),uc(),W=a.memoizedState,A||$!==W||Xs?(typeof ne=="function"&&(pg(a,l,ne,u),W=a.memoizedState),(P=Xs||w_(a,l,P,u,$,W,E))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),v.props=u,v.state=W,v.context=E,u=P):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{v=a.stateNode,Km(s,a),E=a.memoizedProps,J=Ca(l,E),v.props=J,ne=a.pendingProps,$=v.context,W=l.contextType,P=So,typeof W=="object"&&W!==null&&(P=on(W)),A=l.getDerivedStateFromProps,(W=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==ne||$!==P)&&E_(a,v,u,P),Xs=!1,$=a.memoizedState,v.state=$,hc(a,u,v,g),uc();var K=a.memoizedState;E!==ne||$!==K||Xs||s!==null&&s.dependencies!==null&&Sh(s.dependencies)?(typeof A=="function"&&(pg(a,l,A,u),K=a.memoizedState),(J=Xs||w_(a,l,J,u,$,K,P)||s!==null&&s.dependencies!==null&&Sh(s.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,K,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,K,P)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=K),v.props=u,v.state=K,v.context=P,u=J):(typeof v.componentDidUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),u=!1)}return v=u,qh(s,a),u=(a.flags&128)!==0,v||u?(v=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,s!==null&&u?(a.child=jo(a,s.child,null,g),a.child=jo(a,null,l,g)):Zt(s,a,l,g),a.memoizedState=v.state,s=a.child):s=ps(s,a,g),s}function V_(s,a,l,u){return nc(),a.flags|=256,Zt(s,a,l,u),a.child}var bg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(s){return{baseLanes:s,cachePool:Sv()}}function wg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=ei),s}function U_(s,a,l){var u=a.pendingProps,g=!1,v=(a.flags&128)!==0,E;if((E=v)||(E=s!==null&&s.memoizedState===null?!1:(Pt.current&2)!==0),E&&(g=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ye){if(g?tr(a):nr(),Ye){var A=pt,P;if(P=A){e:{for(P=A,A=ki;P.nodeType!==8;){if(!A){A=null;break e}if(P=ui(P.nextSibling),P===null){A=null;break e}}A=P}A!==null?(a.memoizedState={dehydrated:A,treeContext:ba!==null?{id:us,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},P=Mn(18,null,null,0),P.stateNode=A,P.return=a,a.child=P,_n=a,pt=null,P=!0):P=!1}P||Ea(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return rp(A)?a.lanes=32:a.lanes=536870912,null;gs(a)}return A=u.children,u=u.fallback,g?(nr(),g=a.mode,A=Gh({mode:"hidden",children:A},g),u=_a(u,g,l,null),A.return=a,u.return=a,A.sibling=u,a.child=A,g=a.child,g.memoizedState=xg(l),g.childLanes=wg(s,E,l),a.memoizedState=bg,u):(tr(a),Eg(a,A))}if(P=s.memoizedState,P!==null&&(A=P.dehydrated,A!==null)){if(v)a.flags&256?(tr(a),a.flags&=-257,a=Tg(s,a,l)):a.memoizedState!==null?(nr(),a.child=s.child,a.flags|=128,a=null):(nr(),g=u.fallback,A=a.mode,u=Gh({mode:"visible",children:u.children},A),g=_a(g,A,l,null),g.flags|=2,u.return=a,g.return=a,u.sibling=g,a.child=u,jo(a,s.child,null,l),u=a.child,u.memoizedState=xg(l),u.childLanes=wg(s,E,l),a.memoizedState=bg,a=g);else if(tr(a),rp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var W=E.dgst;E=W,u=Error(i(419)),u.stack="",u.digest=E,ic({value:u,source:null,stack:null}),a=Tg(s,a,l)}else if(qt||sc(s,a,l,!1),E=(l&s.childLanes)!==0,qt||E){if(E=ot,E!==null&&(u=l&-l,u=(u&42)!==0?1:Hs(u),u=(u&(E.suspendedLanes|l))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,To(s,u),Vn(E,s,u),I_;A.data==="$?"||Fg(),a=Tg(s,a,l)}else A.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=P.treeContext,pt=ui(A.nextSibling),_n=a,Ye=!0,wa=null,ki=!1,s!==null&&(Xn[Zn++]=us,Xn[Zn++]=hs,Xn[Zn++]=ba,us=s.id,hs=s.overflow,ba=a),a=Eg(a,u.children),a.flags|=4096);return a}return g?(nr(),g=u.fallback,A=a.mode,P=s.child,W=P.sibling,u=cs(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,W!==null?g=cs(W,g):(g=_a(g,A,l,null),g.flags|=2),g.return=a,u.return=a,u.sibling=g,a.child=u,u=g,g=a.child,A=s.child.memoizedState,A===null?A=xg(l):(P=A.cachePool,P!==null?(W=jt._currentValue,P=P.parent!==W?{parent:W,pool:W}:P):P=Sv(),A={baseLanes:A.baseLanes|l,cachePool:P}),g.memoizedState=A,g.childLanes=wg(s,E,l),a.memoizedState=bg,u):(tr(a),l=s.child,s=l.sibling,l=cs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=l,a.memoizedState=null,l)}function Eg(s,a){return a=Gh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Gh(s,a){return s=Mn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Tg(s,a,l){return jo(a,s.child,null,l),s=Eg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function z_(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Fm(s.return,a,l)}function Sg(s,a,l,u,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=g)}function B_(s,a,l){var u=a.pendingProps,g=u.revealOrder,v=u.tail;if(Zt(s,a,u.children,l),u=Pt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&z_(s,l,a);else if(s.tag===19)z_(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(oe(Pt,u),g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Bh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Sg(a,!1,g,l,v);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Bh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Sg(a,!0,l,null,v);break;case"together":Sg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),or|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(sc(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=cs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=cs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Ag(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Sh(s)))}function vA(s,a,l){switch(a.tag){case 3:at(a,a.stateNode.containerInfo),Qs(a,jt,s.memoizedState.cache),nc();break;case 27:case 5:Fs(a);break;case 4:at(a,a.stateNode.containerInfo);break;case 10:Qs(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?U_(s,a,l):(tr(a),s=ps(s,a,l),s!==null?s.sibling:null);tr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(sc(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return B_(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),oe(Pt,Pt.current),u)break;return null;case 22:case 23:return a.lanes=0,k_(s,a,l);case 24:Qs(a,jt,s.memoizedState.cache)}return ps(s,a,l)}function F_(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)qt=!0;else{if(!Ag(s,l)&&(a.flags&128)===0)return qt=!1,vA(s,a,l);qt=(s.flags&131072)!==0}else qt=!1,Ye&&(a.flags&1048576)!==0&&vv(a,Th,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var u=a.elementType,g=u._init;if(u=g(u._payload),a.type=u,typeof u=="function")jm(u)?(s=Ca(u,s),a.tag=1,a=L_(null,a,u,s,l)):(a.tag=0,a=_g(null,a,u,s,l));else{if(u!=null){if(g=u.$$typeof,g===Z){a.tag=11,a=D_(null,a,u,s,l);break e}else if(g===M){a.tag=14,a=O_(null,a,u,s,l);break e}}throw a=Fe(u)||u,Error(i(306,a,""))}}return a;case 0:return _g(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=Ca(u,a.pendingProps),L_(s,a,u,g,l);case 3:e:{if(at(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var v=a.memoizedState;g=v.element,Km(s,a),hc(a,u,null,l);var E=a.memoizedState;if(u=E.cache,Qs(a,jt,u),u!==v.cache&&Hm(a,[jt],l,!0),uc(),u=E.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=V_(s,a,u,l);break e}else if(u!==g){g=Kn(Error(i(424)),a),ic(g),a=V_(s,a,u,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pt=ui(s.firstChild),_n=a,Ye=!0,wa=null,ki=!0,l=b_(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(nc(),u===g){a=ps(s,a,l);break e}Zt(s,a,u,l)}a=a.child}return a;case 26:return qh(s,a),s===null?(l=Yb(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ye||(l=a.type,s=a.pendingProps,u=rd(ye.current).createElement(l),u[Ot]=a,u[Tt]=s,en(u,l,s),_t(u),a.stateNode=u):a.memoizedState=Yb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Fs(a),s===null&&Ye&&(u=a.stateNode=Hb(a.type,a.pendingProps,ye.current),_n=a,ki=!0,g=pt,hr(a.type)?(ap=g,pt=ui(u.firstChild)):pt=g),Zt(s,a,a.pendingProps.children,l),qh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ye&&((g=u=pt)&&(u=YA(u,a.type,a.pendingProps,ki),u!==null?(a.stateNode=u,_n=a,pt=ui(u.firstChild),ki=!1,g=!0):g=!1),g||Ea(a)),Fs(a),g=a.type,v=a.pendingProps,E=s!==null?s.memoizedProps:null,u=v.children,np(g,v)?u=null:E!==null&&np(g,E)&&(a.flags|=32),a.memoizedState!==null&&(g=tg(s,a,uA,null,null,l),Mc._currentValue=g),qh(s,a),Zt(s,a,u,l),a.child;case 6:return s===null&&Ye&&((s=l=pt)&&(l=WA(l,a.pendingProps,ki),l!==null?(a.stateNode=l,_n=a,pt=null,s=!0):s=!1),s||Ea(a)),null;case 13:return U_(s,a,l);case 4:return at(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=jo(a,null,u,l):Zt(s,a,u,l),a.child;case 11:return D_(s,a,a.type,a.pendingProps,l);case 7:return Zt(s,a,a.pendingProps,l),a.child;case 8:return Zt(s,a,a.pendingProps.children,l),a.child;case 12:return Zt(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Qs(a,a.type,u.value),Zt(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,Sa(a),g=on(g),u=u(g),a.flags|=1,Zt(s,a,u,l),a.child;case 14:return O_(s,a,a.type,a.pendingProps,l);case 15:return M_(s,a,a.type,a.pendingProps,l);case 19:return B_(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=Gh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=cs(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return k_(s,a,l);case 24:return Sa(a),u=on(jt),s===null?(g=Ym(),g===null&&(g=ot,v=qm(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),a.memoizedState={parent:u,cache:g},$m(a),Qs(a,jt,g)):((s.lanes&l)!==0&&(Km(s,a),hc(a,null,null,l),uc()),g=s.memoizedState,v=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Qs(a,jt,u)):(u=v.cache,Qs(a,jt,u),u!==g.cache&&Hm(a,[jt],l,!0))),Zt(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ys(s){s.flags|=4}function H_(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Xb(a)){if(a=Jn.current,a!==null&&((ze&4194048)===ze?ji!==null:(ze&62914560)!==ze&&(ze&536870912)===0||a!==ji))throw lc=Wm,Av;s.flags|=8192}}function Yh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?jl():536870912,s.lanes|=a,Uo|=a)}function vc(s,a){if(!Ye)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ft(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function _A(s,a,l){var u=a.pendingProps;switch(Um(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(a),null;case 1:return ft(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),fs(jt),wi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(tc(a)?ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xv())),ft(a),null;case 26:return l=a.memoizedState,s===null?(ys(a),l!==null?(ft(a),H_(a,l)):(ft(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ys(a),ft(a),H_(a,l)):(ft(a),a.flags&=-16777217):(s.memoizedProps!==u&&ys(a),ft(a),a.flags&=-16777217),null;case 27:Qi(a),l=ye.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ft(a),null}s=ge.current,tc(a)?_v(a):(s=Hb(g,u,l),a.stateNode=s,ys(a))}return ft(a),null;case 5:if(Qi(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ft(a),null}if(s=ge.current,tc(a))_v(a);else{switch(g=rd(ye.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}s[Ot]=a,s[Tt]=u;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;e:switch(en(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ys(a)}}return ft(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=ye.current,tc(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=_n,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ot]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Pb(s.nodeValue,l)),s||Ea(a)}else s=rd(s).createTextNode(u),s[Ot]=a,a.stateNode=s}return ft(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=tc(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ot]=a}else nc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ft(a),g=!1}else g=xv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(gs(a),a):(gs(a),null)}if(gs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Yh(a,a.updateQueue),ft(a),null;case 4:return wi(),s===null&&Xg(a.stateNode.containerInfo),ft(a),null;case 10:return fs(a.type),ft(a),null;case 19:if(ue(Pt),g=a.memoizedState,g===null)return ft(a),null;if(u=(a.flags&128)!==0,v=g.rendering,v===null)if(u)vc(g,!1);else{if(yt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(v=Bh(s),v!==null){for(a.flags|=128,vc(g,!1),s=v.updateQueue,a.updateQueue=s,Yh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)yv(l,s),l=l.sibling;return oe(Pt,Pt.current&1|2),a.child}s=s.sibling}g.tail!==null&&Hn()>Kh&&(a.flags|=128,u=!0,vc(g,!1),a.lanes=4194304)}else{if(!u)if(s=Bh(v),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Yh(a,s),vc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Ye)return ft(a),null}else 2*Hn()-g.renderingStartTime>Kh&&l!==536870912&&(a.flags|=128,u=!0,vc(g,!1),a.lanes=4194304);g.isBackwards?(v.sibling=a.child,a.child=v):(s=g.last,s!==null?s.sibling=v:a.child=v,g.last=v)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Hn(),a.sibling=null,s=Pt.current,oe(Pt,u?s&1|2:s&1),a):(ft(a),null);case 22:case 23:return gs(a),Jm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ft(a),a.subtreeFlags&6&&(a.flags|=8192)):ft(a),l=a.updateQueue,l!==null&&Yh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&ue(Aa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),fs(jt),ft(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function bA(s,a){switch(Um(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return fs(jt),wi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Qi(a),null;case 13:if(gs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));nc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ue(Pt),null;case 4:return wi(),null;case 10:return fs(a.type),null;case 22:case 23:return gs(a),Jm(),s!==null&&ue(Aa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return fs(jt),null;case 25:return null;default:return null}}function q_(s,a){switch(Um(a),a.tag){case 3:fs(jt),wi();break;case 26:case 27:case 5:Qi(a);break;case 4:wi();break;case 13:gs(a);break;case 19:ue(Pt);break;case 10:fs(a.type);break;case 22:case 23:gs(a),Jm(),s!==null&&ue(Aa);break;case 24:fs(jt)}}function _c(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var v=l.create,E=l.inst;u=v(),E.destroy=u}l=l.next}while(l!==g)}}catch(A){st(a,a.return,A)}}function ir(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&s)===s){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,g=a;var P=l,W=A;try{W()}catch(J){st(g,P,J)}}}u=u.next}while(u!==v)}}catch(J){st(a,a.return,J)}}function G_(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Ov(a,l)}catch(u){st(s,s.return,u)}}}function Y_(s,a,l){l.props=Ca(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){st(s,a,u)}}function bc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){st(s,a,g)}}function Pi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){st(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){st(s,a,g)}else l.current=null}function W_(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){st(s,s.return,g)}}function Rg(s,a,l){try{var u=s.stateNode;BA(u,s.type,l,a),u[Tt]=a}catch(g){st(s,s.return,g)}}function $_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&hr(s.type)||s.tag===4}function Cg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&hr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ng(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=sd));else if(u!==4&&(u===27&&hr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Ng(s,a,l),s=s.sibling;s!==null;)Ng(s,a,l),s=s.sibling}function Wh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&hr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Wh(s,a,l),s=s.sibling;s!==null;)Wh(s,a,l),s=s.sibling}function K_(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);en(a,u,l),a[Ot]=s,a[Tt]=l}catch(v){st(s,s.return,v)}}var vs=!1,xt=!1,Ig=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function xA(s,a){if(s=s.containerInfo,ep=hd,s=ov(s),Cm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,A=-1,P=-1,W=0,J=0,ne=s,$=null;t:for(;;){for(var K;ne!==l||g!==0&&ne.nodeType!==3||(A=E+g),ne!==v||u!==0&&ne.nodeType!==3||(P=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(K=ne.firstChild)!==null;)$=ne,ne=K;for(;;){if(ne===s)break t;if($===l&&++W===g&&(A=E),$===v&&++J===u&&(P=E),(K=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=K}l=A===-1||P===-1?null:{start:A,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(tp={focusedElem:s,selectionRange:l},hd=!1,Gt=a;Gt!==null;)if(a=Gt,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Gt=s;else for(;Gt!==null;){switch(a=Gt,v=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=a,g=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var Se=Ca(l.type,g,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Se,v),u.__reactInternalSnapshotBeforeUpdate=s}catch(be){st(l,l.return,be)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)sp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":sp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Gt=s;break}Gt=a.return}}function X_(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:sr(s,l),u&4&&_c(5,l);break;case 1:if(sr(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(E){st(l,l.return,E)}else{var g=Ca(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){st(l,l.return,E)}}u&64&&G_(l),u&512&&bc(l,l.return);break;case 3:if(sr(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Ov(s,a)}catch(E){st(l,l.return,E)}}break;case 27:a===null&&u&4&&K_(l);case 26:case 5:sr(s,l),a===null&&u&4&&W_(l),u&512&&bc(l,l.return);break;case 12:sr(s,l);break;case 13:sr(s,l),u&4&&eb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=IA.bind(null,l),$A(s,l))));break;case 22:if(u=l.memoizedState!==null||vs,!u){a=a!==null&&a.memoizedState!==null||xt,g=vs;var v=xt;vs=u,(xt=a)&&!v?rr(s,l,(l.subtreeFlags&8772)!==0):sr(s,l),vs=g,xt=v}break;case 30:break;default:sr(s,l)}}function Z_(s){var a=s.alternate;a!==null&&(s.alternate=null,Z_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ys(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ht=null,En=!1;function _s(s,a,l){for(l=l.child;l!==null;)J_(s,a,l),l=l.sibling}function J_(s,a,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:xt||Pi(l,a),_s(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xt||Pi(l,a);var u=ht,g=En;hr(l.type)&&(ht=l.stateNode,En=!1),_s(s,a,l),Nc(l.stateNode),ht=u,En=g;break;case 5:xt||Pi(l,a);case 6:if(u=ht,g=En,ht=null,_s(s,a,l),ht=u,En=g,ht!==null)if(En)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(l.stateNode)}catch(v){st(l,a,v)}else try{ht.removeChild(l.stateNode)}catch(v){st(l,a,v)}break;case 18:ht!==null&&(En?(s=ht,Bb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Lc(s)):Bb(ht,l.stateNode));break;case 4:u=ht,g=En,ht=l.stateNode.containerInfo,En=!0,_s(s,a,l),ht=u,En=g;break;case 0:case 11:case 14:case 15:xt||ir(2,l,a),xt||ir(4,l,a),_s(s,a,l);break;case 1:xt||(Pi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Y_(l,a,u)),_s(s,a,l);break;case 21:_s(s,a,l);break;case 22:xt=(u=xt)||l.memoizedState!==null,_s(s,a,l),xt=u;break;default:_s(s,a,l)}}function eb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Lc(s)}catch(l){st(a,a.return,l)}}function wA(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Q_),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Q_),a;default:throw Error(i(435,s.tag))}}function Dg(s,a){var l=wA(s);a.forEach(function(u){var g=DA.bind(null,s,u);l.has(u)||(l.add(u),u.then(g,g))})}function kn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],v=s,E=a,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(hr(A.type)){ht=A.stateNode,En=!1;break e}break;case 5:ht=A.stateNode,En=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,En=!0;break e}A=A.return}if(ht===null)throw Error(i(160));J_(v,E,g),ht=null,En=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)tb(a,s),a=a.sibling}var ci=null;function tb(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(a,s),jn(s),u&4&&(ir(3,s,s.return),_c(3,s),ir(5,s,s.return));break;case 1:kn(a,s),jn(s),u&512&&(xt||l===null||Pi(l,l.return)),u&64&&vs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=ci;if(kn(a,s),jn(s),u&512&&(xt||l===null||Pi(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ia]||v[Ot]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),en(v,u,l),v[Ot]=s,_t(v),u=v;break e;case"link":var E=Kb("link","href",g).get(u+(l.href||""));if(E){for(var A=0;A<E.length;A++)if(v=E[A],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(A,1);break t}}v=g.createElement(u),en(v,u,l),g.head.appendChild(v);break;case"meta":if(E=Kb("meta","content",g).get(u+(l.content||""))){for(A=0;A<E.length;A++)if(v=E[A],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(A,1);break t}}v=g.createElement(u),en(v,u,l),g.head.appendChild(v);break;default:throw Error(i(468,u))}v[Ot]=s,_t(v),u=v}s.stateNode=u}else Qb(g,s.type,s.stateNode);else s.stateNode=$b(g,u,s.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?Qb(g,s.type,s.stateNode):$b(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Rg(s,s.memoizedProps,l.memoizedProps)}break;case 27:kn(a,s),jn(s),u&512&&(xt||l===null||Pi(l,l.return)),l!==null&&u&4&&Rg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(kn(a,s),jn(s),u&512&&(xt||l===null||Pi(l,l.return)),s.flags&32){g=s.stateNode;try{Gn(g,"")}catch(K){st(s,s.return,K)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Rg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Ig=!0);break;case 6:if(kn(a,s),jn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(K){st(s,s.return,K)}}break;case 3:if(ld=null,g=ci,ci=ad(a.containerInfo),kn(a,s),ci=g,jn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Lc(a.containerInfo)}catch(K){st(s,s.return,K)}Ig&&(Ig=!1,nb(s));break;case 4:u=ci,ci=ad(s.stateNode.containerInfo),kn(a,s),jn(s),ci=u;break;case 12:kn(a,s),jn(s);break;case 13:kn(a,s),jn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lg=Hn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Dg(s,u)));break;case 22:g=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,W=vs,J=xt;if(vs=W||g,xt=J||P,kn(a,s),xt=J,vs=W,jn(s),u&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||P||vs||xt||Na(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){P=l=a;try{if(v=P.stateNode,g)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=P.stateNode;var ne=P.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){st(P,P.return,K)}}}else if(a.tag===6){if(l===null){P=a;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(K){st(P,P.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Dg(s,l))));break;case 19:kn(a,s),jn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Dg(s,u)));break;case 30:break;case 21:break;default:kn(a,s),jn(s)}}function jn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if($_(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,v=Cg(s);Wh(s,v,g);break;case 5:var E=l.stateNode;l.flags&32&&(Gn(E,""),l.flags&=-33);var A=Cg(s);Wh(s,A,E);break;case 3:case 4:var P=l.stateNode.containerInfo,W=Cg(s);Ng(s,W,P);break;default:throw Error(i(161))}}catch(J){st(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function nb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;nb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function sr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)X_(s,a.alternate,a),a=a.sibling}function Na(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ir(4,a,a.return),Na(a);break;case 1:Pi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Y_(a,a.return,l),Na(a);break;case 27:Nc(a.stateNode);case 26:case 5:Pi(a,a.return),Na(a);break;case 22:a.memoizedState===null&&Na(a);break;case 30:Na(a);break;default:Na(a)}s=s.sibling}}function rr(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,v=a,E=v.flags;switch(v.tag){case 0:case 11:case 15:rr(g,v,l),_c(4,v);break;case 1:if(rr(g,v,l),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){st(u,u.return,W)}if(u=v,g=u.updateQueue,g!==null){var A=u.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)Dv(P[g],A)}catch(W){st(u,u.return,W)}}l&&E&64&&G_(v),bc(v,v.return);break;case 27:K_(v);case 26:case 5:rr(g,v,l),l&&u===null&&E&4&&W_(v),bc(v,v.return);break;case 12:rr(g,v,l);break;case 13:rr(g,v,l),l&&E&4&&eb(g,v);break;case 22:v.memoizedState===null&&rr(g,v,l),bc(v,v.return);break;case 30:break;default:rr(g,v,l)}a=a.sibling}}function Og(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&rc(l))}function Mg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&rc(s))}function Li(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ib(s,a,l,u),a=a.sibling}function ib(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Li(s,a,l,u),g&2048&&_c(9,a);break;case 1:Li(s,a,l,u);break;case 3:Li(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&rc(s)));break;case 12:if(g&2048){Li(s,a,l,u),s=a.stateNode;try{var v=a.memoizedProps,E=v.id,A=v.onPostCommit;typeof A=="function"&&A(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){st(a,a.return,P)}}else Li(s,a,l,u);break;case 13:Li(s,a,l,u);break;case 23:break;case 22:v=a.stateNode,E=a.alternate,a.memoizedState!==null?v._visibility&2?Li(s,a,l,u):xc(s,a):v._visibility&2?Li(s,a,l,u):(v._visibility|=2,Po(s,a,l,u,(a.subtreeFlags&10256)!==0)),g&2048&&Og(E,a);break;case 24:Li(s,a,l,u),g&2048&&Mg(a.alternate,a);break;default:Li(s,a,l,u)}}function Po(s,a,l,u,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=s,E=a,A=l,P=u,W=E.flags;switch(E.tag){case 0:case 11:case 15:Po(v,E,A,P,g),_c(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Po(v,E,A,P,g):xc(v,E):(J._visibility|=2,Po(v,E,A,P,g)),g&&W&2048&&Og(E.alternate,E);break;case 24:Po(v,E,A,P,g),g&&W&2048&&Mg(E.alternate,E);break;default:Po(v,E,A,P,g)}a=a.sibling}}function xc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:xc(l,u),g&2048&&Og(u.alternate,u);break;case 24:xc(l,u),g&2048&&Mg(u.alternate,u);break;default:xc(l,u)}a=a.sibling}}var wc=8192;function Lo(s){if(s.subtreeFlags&wc)for(s=s.child;s!==null;)sb(s),s=s.sibling}function sb(s){switch(s.tag){case 26:Lo(s),s.flags&wc&&s.memoizedState!==null&&oR(ci,s.memoizedState,s.memoizedProps);break;case 5:Lo(s);break;case 3:case 4:var a=ci;ci=ad(s.stateNode.containerInfo),Lo(s),ci=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=wc,wc=16777216,Lo(s),wc=a):Lo(s));break;default:Lo(s)}}function rb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Ec(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Gt=u,ob(u,s)}rb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ab(s),s=s.sibling}function ab(s){switch(s.tag){case 0:case 11:case 15:Ec(s),s.flags&2048&&ir(9,s,s.return);break;case 3:Ec(s);break;case 12:Ec(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,$h(s)):Ec(s);break;default:Ec(s)}}function $h(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Gt=u,ob(u,s)}rb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ir(8,a,a.return),$h(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,$h(a));break;default:$h(a)}s=s.sibling}}function ob(s,a){for(;Gt!==null;){var l=Gt;switch(l.tag){case 0:case 11:case 15:ir(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:rc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Gt=u;else e:for(l=s;Gt!==null;){u=Gt;var g=u.sibling,v=u.return;if(Z_(u),u===l){Gt=null;break e}if(g!==null){g.return=v,Gt=g;break e}Gt=v}}}var EA={getCacheForType:function(s){var a=on(jt),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},TA=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ot=null,ke=null,ze=0,Xe=0,Pn=null,ar=!1,Vo=!1,kg=!1,bs=0,yt=0,or=0,Ia=0,jg=0,ei=0,Uo=0,Tc=null,Tn=null,Pg=!1,Lg=0,Kh=1/0,Qh=null,lr=null,Jt=0,cr=null,zo=null,Bo=0,Vg=0,Ug=null,lb=null,Sc=0,zg=null;function Ln(){if((Qe&2)!==0&&ze!==0)return ze&-ze;if(Q.T!==null){var s=Co;return s!==0?s:Wg()}return qs()}function cb(){ei===0&&(ei=(ze&536870912)===0||Ye?kl():536870912);var s=Jn.current;return s!==null&&(s.flags|=32),ei}function Vn(s,a,l){(s===ot&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)&&(Fo(s,0),ur(s,ze,ei,!1)),Zi(s,l),((Qe&2)===0||s!==ot)&&(s===ot&&((Qe&2)===0&&(Ia|=l),yt===4&&ur(s,ze,ei,!1)),Vi(s))}function ub(s,a,l){if((Qe&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||na(s,a),g=u?RA(s,a):Hg(s,a,!0),v=u;do{if(g===0){Vo&&!u&&ur(s,a,0,!1);break}else{if(l=s.current.alternate,v&&!SA(l)){g=Hg(s,a,!1),v=!1;continue}if(g===2){if(v=a,s.errorRecoveryDisabledLanes&v)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var A=s;g=Tc;var P=A.current.memoizedState.isDehydrated;if(P&&(Fo(A,E).flags|=256),E=Hg(A,E,!1),E!==2){if(kg&&!P){A.errorRecoveryDisabledLanes|=v,Ia|=v,g=4;break e}v=Tn,Tn=g,v!==null&&(Tn===null?Tn=v:Tn.push.apply(Tn,v))}g=E}if(v=!1,g!==2)continue}}if(g===1){Fo(s,0),ur(s,a,0,!0);break}e:{switch(u=s,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ur(u,a,ei,!ar);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Lg+300-Hn(),10<g)){if(ur(u,a,ei,!ar),so(u,0,!0)!==0)break e;u.timeoutHandle=Ub(hb.bind(null,u,l,Tn,Qh,Pg,a,ei,Ia,Uo,ar,v,2,-0,0),g);break e}hb(u,l,Tn,Qh,Pg,a,ei,Ia,Uo,ar,v,0,-0,0)}}break}while(!0);Vi(s)}function hb(s,a,l,u,g,v,E,A,P,W,J,ne,$,K){if(s.timeoutHandle=-1,ne=a.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Oc={stylesheets:null,count:0,unsuspend:aR},sb(a),ne=lR(),ne!==null)){s.cancelPendingCommit=ne(vb.bind(null,s,a,v,l,u,g,E,A,P,J,1,$,K)),ur(s,v,E,!W);return}vb(s,a,v,l,u,g,E,A,P)}function SA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],v=g.getSnapshot;g=g.value;try{if(!On(v(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ur(s,a,l,u){a&=~jg,a&=~Ia,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var v=31-an(g),E=1<<v;u[v]=-1,g&=~E}l!==0&&Ei(s,l,a)}function Xh(){return(Qe&6)===0?(Ac(0),!1):!0}function Bg(){if(ke!==null){if(Xe===0)var s=ke.return;else s=ke,ds=Ta=null,sg(s),ko=null,pc=0,s=ke;for(;s!==null;)q_(s.alternate,s),s=s.return;ke=null}}function Fo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,HA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Bg(),ot=s,ke=l=cs(s.current,null),ze=a,Xe=0,Pn=null,ar=!1,Vo=na(s,a),kg=!1,Uo=ei=jg=Ia=or=yt=0,Tn=Tc=null,Pg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-an(u),v=1<<g;a|=s[g],u&=~v}return bs=a,_h(),l}function db(s,a){De=null,Q.H=Vh,a===oc||a===Ch?(a=Nv(),Xe=3):a===Av?(a=Nv(),Xe=4):Xe=a===I_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Pn=a,ke===null&&(yt=1,Hh(s,Kn(a,s.current)))}function fb(){var s=Q.H;return Q.H=Vh,s===null?Vh:s}function mb(){var s=Q.A;return Q.A=EA,s}function Fg(){yt=4,ar||(ze&4194048)!==ze&&Jn.current!==null||(Vo=!0),(or&134217727)===0&&(Ia&134217727)===0||ot===null||ur(ot,ze,ei,!1)}function Hg(s,a,l){var u=Qe;Qe|=2;var g=fb(),v=mb();(ot!==s||ze!==a)&&(Qh=null,Fo(s,a)),a=!1;var E=yt;e:do try{if(Xe!==0&&ke!==null){var A=ke,P=Pn;switch(Xe){case 8:Bg(),E=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(a=!0);var W=Xe;if(Xe=0,Pn=null,Ho(s,A,P,W),l&&Vo){E=0;break e}break;default:W=Xe,Xe=0,Pn=null,Ho(s,A,P,W)}}AA(),E=yt;break}catch(J){db(s,J)}while(!0);return a&&s.shellSuspendCounter++,ds=Ta=null,Qe=u,Q.H=g,Q.A=v,ke===null&&(ot=null,ze=0,_h()),E}function AA(){for(;ke!==null;)gb(ke)}function RA(s,a){var l=Qe;Qe|=2;var u=fb(),g=mb();ot!==s||ze!==a?(Qh=null,Kh=Hn()+500,Fo(s,a)):Vo=na(s,a);e:do try{if(Xe!==0&&ke!==null){a=ke;var v=Pn;t:switch(Xe){case 1:Xe=0,Pn=null,Ho(s,a,v,1);break;case 2:case 9:if(Rv(v)){Xe=0,Pn=null,pb(a);break}a=function(){Xe!==2&&Xe!==9||ot!==s||(Xe=7),Vi(s)},v.then(a,a);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Rv(v)?(Xe=0,Pn=null,pb(a)):(Xe=0,Pn=null,Ho(s,a,v,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var A=ke;if(!E||Xb(E)){Xe=0,Pn=null;var P=A.sibling;if(P!==null)ke=P;else{var W=A.return;W!==null?(ke=W,Zh(W)):ke=null}break t}}Xe=0,Pn=null,Ho(s,a,v,5);break;case 6:Xe=0,Pn=null,Ho(s,a,v,6);break;case 8:Bg(),yt=6;break e;default:throw Error(i(462))}}CA();break}catch(J){db(s,J)}while(!0);return ds=Ta=null,Q.H=u,Q.A=g,Qe=l,ke!==null?0:(ot=null,ze=0,_h(),yt)}function CA(){for(;ke!==null&&!Il();)gb(ke)}function gb(s){var a=F_(s.alternate,s,bs);s.memoizedProps=s.pendingProps,a===null?Zh(s):ke=a}function pb(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=P_(l,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=P_(l,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:sg(a);default:q_(l,a),a=ke=yv(a,bs),a=F_(l,a,bs)}s.memoizedProps=s.pendingProps,a===null?Zh(s):ke=a}function Ho(s,a,l,u){ds=Ta=null,sg(a),ko=null,pc=0;var g=a.return;try{if(yA(s,g,a,l,ze)){yt=1,Hh(s,Kn(l,s.current)),ke=null;return}}catch(v){if(g!==null)throw ke=g,v;yt=1,Hh(s,Kn(l,s.current)),ke=null;return}a.flags&32768?(Ye||u===1?s=!0:Vo||(ze&536870912)!==0?s=!1:(ar=s=!0,(u===2||u===9||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),yb(a,s)):Zh(a)}function Zh(s){var a=s;do{if((a.flags&32768)!==0){yb(a,ar);return}s=a.return;var l=_A(a.alternate,a,bs);if(l!==null){ke=l;return}if(a=a.sibling,a!==null){ke=a;return}ke=a=s}while(a!==null);yt===0&&(yt=5)}function yb(s,a){do{var l=bA(s.alternate,s);if(l!==null){l.flags&=32767,ke=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){ke=s;return}ke=s=l}while(s!==null);yt=6,ke=null}function vb(s,a,l,u,g,v,E,A,P){s.cancelPendingCommit=null;do Jh();while(Jt!==0);if((Qe&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=Mm,Pl(s,l,v,E,A,P),s===ot&&(ke=ot=null,ze=0),zo=a,cr=s,Bo=l,Vg=v,Ug=g,lb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,OA(Zr,function(){return Eb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=ae.p,ae.p=2,E=Qe,Qe|=4;try{xA(s,a,l)}finally{Qe=E,ae.p=g,Q.T=u}}Jt=1,_b(),bb(),xb()}}function _b(){if(Jt===1){Jt=0;var s=cr,a=zo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=ae.p;ae.p=2;var g=Qe;Qe|=4;try{tb(a,s);var v=tp,E=ov(s.containerInfo),A=v.focusedElem,P=v.selectionRange;if(E!==A&&A&&A.ownerDocument&&av(A.ownerDocument.documentElement,A)){if(P!==null&&Cm(A)){var W=P.start,J=P.end;if(J===void 0&&(J=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(J,A.value.length);else{var ne=A.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var K=$.getSelection(),Se=A.textContent.length,be=Math.min(P.start,Se),it=P.end===void 0?be:Math.min(P.end,Se);!K.extend&&be>it&&(E=it,it=be,be=E);var H=rv(A,be),F=rv(A,it);if(H&&F&&(K.rangeCount!==1||K.anchorNode!==H.node||K.anchorOffset!==H.offset||K.focusNode!==F.node||K.focusOffset!==F.offset)){var Y=ne.createRange();Y.setStart(H.node,H.offset),K.removeAllRanges(),be>it?(K.addRange(Y),K.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),K.addRange(Y))}}}}for(ne=[],K=A;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var te=ne[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}hd=!!ep,tp=ep=null}finally{Qe=g,ae.p=u,Q.T=l}}s.current=a,Jt=2}}function bb(){if(Jt===2){Jt=0;var s=cr,a=zo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=ae.p;ae.p=2;var g=Qe;Qe|=4;try{X_(s,a.alternate,a)}finally{Qe=g,ae.p=u,Q.T=l}}Jt=3}}function xb(){if(Jt===4||Jt===3){Jt=0,$u();var s=cr,a=zo,l=Bo,u=lb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Jt=5:(Jt=0,zo=cr=null,wb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(lr=null),ro(l),a=a.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(gt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Q.T,g=ae.p,ae.p=2,Q.T=null;try{for(var v=s.onRecoverableError,E=0;E<u.length;E++){var A=u[E];v(A.value,{componentStack:A.stack})}}finally{Q.T=a,ae.p=g}}(Bo&3)!==0&&Jh(),Vi(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===zg?Sc++:(Sc=0,zg=s):Sc=0,Ac(0)}}function wb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,rc(a)))}function Jh(s){return _b(),bb(),xb(),Eb()}function Eb(){if(Jt!==5)return!1;var s=cr,a=Vg;Vg=0;var l=ro(Bo),u=Q.T,g=ae.p;try{ae.p=32>l?32:l,Q.T=null,l=Ug,Ug=null;var v=cr,E=Bo;if(Jt=0,zo=cr=null,Bo=0,(Qe&6)!==0)throw Error(i(331));var A=Qe;if(Qe|=4,ab(v.current),ib(v,v.current,E,l),Qe=A,Ac(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(gt,v)}catch{}return!0}finally{ae.p=g,Q.T=u,wb(s,a)}}function Tb(s,a,l){a=Kn(l,a),a=vg(s.stateNode,a,2),s=Js(s,a,2),s!==null&&(Zi(s,2),Vi(s))}function st(s,a,l){if(s.tag===3)Tb(s,s,l);else for(;a!==null;){if(a.tag===3){Tb(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(lr===null||!lr.has(u))){s=Kn(l,s),l=C_(2),u=Js(a,l,2),u!==null&&(N_(l,u,a,s),Zi(u,2),Vi(u));break}}a=a.return}}function qg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new TA;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(kg=!0,g.add(l),s=NA.bind(null,s,a,l),a.then(s,s))}function NA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ot===s&&(ze&l)===l&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Hn()-Lg?(Qe&2)===0&&Fo(s,0):jg|=l,Uo===ze&&(Uo=0)),Vi(s)}function Sb(s,a){a===0&&(a=jl()),s=To(s,a),s!==null&&(Zi(s,a),Vi(s))}function IA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Sb(s,l)}function DA(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Sb(s,l)}function OA(s,a){return Qr(s,a)}var ed=null,qo=null,Gg=!1,td=!1,Yg=!1,Da=0;function Vi(s){s!==qo&&s.next===null&&(qo===null?ed=qo=s:qo=qo.next=s),td=!0,Gg||(Gg=!0,kA())}function Ac(s,a){if(!Yg&&td){Yg=!0;do for(var l=!1,u=ed;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var E=u.suspendedLanes,A=u.pingedLanes;v=(1<<31-an(42|s)+1)-1,v&=g&~(E&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Nb(u,v))}else v=ze,v=so(u,u===ot?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||na(u,v)||(l=!0,Nb(u,v));u=u.next}while(l);Yg=!1}}function MA(){Ab()}function Ab(){td=Gg=!1;var s=0;Da!==0&&(FA()&&(s=Da),Da=0);for(var a=Hn(),l=null,u=ed;u!==null;){var g=u.next,v=Rb(u,a);v===0?(u.next=null,l===null?ed=g:l.next=g,g===null&&(qo=l)):(l=u,(s!==0||(v&3)!==0)&&(td=!0)),u=g}Ac(s)}function Rb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var E=31-an(v),A=1<<E,P=g[E];P===-1?((A&l)===0||(A&u)!==0)&&(g[E]=Ml(A,a)):P<=a&&(s.expiredLanes|=A),v&=~A}if(a=ot,l=ze,l=so(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Xr(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||na(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Xr(u),ro(l)){case 2:case 8:l=no;break;case 32:l=Zr;break;case 268435456:l=io;break;default:l=Zr}return u=Cb.bind(null,s),l=Qr(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Xr(u),s.callbackPriority=2,s.callbackNode=null,2}function Cb(s,a){if(Jt!==0&&Jt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Jh()&&s.callbackNode!==l)return null;var u=ze;return u=so(s,s===ot?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(ub(s,u,a),Rb(s,Hn()),s.callbackNode!=null&&s.callbackNode===l?Cb.bind(null,s):null)}function Nb(s,a){if(Jh())return null;ub(s,a,!0)}function kA(){qA(function(){(Qe&6)!==0?Qr(Dl,MA):Ab()})}function Wg(){return Da===0&&(Da=kl()),Da}function Ib(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ho(""+s)}function Db(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function jA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var v=Ib((g[Tt]||null).action),E=u.submitter;E&&(a=(a=E[Tt]||null)?Ib(a.formAction):E.getAttribute("formAction"),a!==null&&(v=a,E=null));var A=new fo("action","action",null,u,g);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Da!==0){var P=E?Db(g,E):new FormData(g);fg(l,{pending:!0,data:P,method:g.method,action:v},null,P)}}else typeof v=="function"&&(A.preventDefault(),P=E?Db(g,E):new FormData(g),fg(l,{pending:!0,data:P,method:g.method,action:v},v,P))},currentTarget:g}]})}}for(var $g=0;$g<Om.length;$g++){var Kg=Om[$g],PA=Kg.toLowerCase(),LA=Kg[0].toUpperCase()+Kg.slice(1);li(PA,"on"+LA)}li(uv,"onAnimationEnd"),li(hv,"onAnimationIteration"),li(dv,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(eA,"onTransitionRun"),li(tA,"onTransitionStart"),li(nA,"onTransitionCancel"),li(fv,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function Ob(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;e:{var v=void 0;if(a)for(var E=u.length-1;0<=E;E--){var A=u[E],P=A.instance,W=A.currentTarget;if(A=A.listener,P!==v&&g.isPropagationStopped())break e;v=A,g.currentTarget=W;try{v(g)}catch(J){Fh(J)}g.currentTarget=null,v=P}else for(E=0;E<u.length;E++){if(A=u[E],P=A.instance,W=A.currentTarget,A=A.listener,P!==v&&g.isPropagationStopped())break e;v=A,g.currentTarget=W;try{v(g)}catch(J){Fh(J)}g.currentTarget=null,v=P}}}}function je(s,a){var l=a[Vl];l===void 0&&(l=a[Vl]=new Set);var u=s+"__bubble";l.has(u)||(Mb(a,s,2,!1),l.add(u))}function Qg(s,a,l){var u=0;a&&(u|=4),Mb(l,s,u,a)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Xg(s){if(!s[nd]){s[nd]=!0,Ul.forEach(function(l){l!=="selectionchange"&&(VA.has(l)||Qg(l,!1,s),Qg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[nd]||(a[nd]=!0,Qg("selectionchange",!1,a))}}function Mb(s,a,l,u){switch(ix(a)){case 2:var g=hR;break;case 8:g=dR;break;default:g=hp}l=g.bind(null,a,l,s),g=void 0,!Wn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function Zg(s,a,l,u,g){var v=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===g)break;if(E===4)for(E=u.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;A!==null;){if(E=Ji(A),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){u=v=E;continue e}A=A.parentNode}}u=u.return}sh(function(){var W=v,J=Yn(l),ne=[];e:{var $=mv.get(s);if($!==void 0){var K=fo,Se=s;switch(s){case"keypress":if(Ni(l)===0)break e;case"keydown":case"keyup":K=_o;break;case"focusin":Se="focus",K=po;break;case"focusout":Se="blur",K=po;break;case"beforeblur":case"afterblur":K=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=dh;break;case uv:case hv:case dv:K=yo;break;case fv:K=mh;break;case"scroll":case"scrollend":K=rh;break;case"wheel":K=bo;break;case"copy":case"cut":case"paste":K=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xl;break;case"toggle":case"beforetoggle":K=ph}var be=(a&4)!==0,it=!be&&(s==="scroll"||s==="scrollend"),H=be?$!==null?$+"Capture":null:$;be=[];for(var F=W,Y;F!==null;){var te=F;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||H===null||(te=ua(F,H),te!=null&&be.push(Cc(F,te,Y))),it)break;F=F.return}0<be.length&&($=new K($,Se,null,l,J),ne.push({event:$,listeners:be}))}}if((a&7)===0){e:{if($=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",$&&l!==is&&(Se=l.relatedTarget||l.fromElement)&&(Ji(Se)||Se[qn]))break e;if((K||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Se=l.relatedTarget||l.toElement,K=W,Se=Se?Ji(Se):null,Se!==null&&(it=o(Se),be=Se.tag,Se!==it||be!==5&&be!==27&&be!==6)&&(Se=null)):(K=null,Se=W),K!==Se)){if(be=$n,te="onMouseLeave",H="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(be=Xl,te="onPointerLeave",H="onPointerEnter",F="pointer"),it=K==null?$:Si(K),Y=Se==null?$:Si(Se),$=new be(te,F+"leave",K,l,J),$.target=it,$.relatedTarget=Y,te=null,Ji(J)===W&&(be=new be(H,F+"enter",Se,l,J),be.target=Y,be.relatedTarget=it,te=be),it=te,K&&Se)t:{for(be=K,H=Se,F=0,Y=be;Y;Y=Go(Y))F++;for(Y=0,te=H;te;te=Go(te))Y++;for(;0<F-Y;)be=Go(be),F--;for(;0<Y-F;)H=Go(H),Y--;for(;F--;){if(be===H||H!==null&&be===H.alternate)break t;be=Go(be),H=Go(H)}be=null}else be=null;K!==null&&kb(ne,$,K,be,!1),Se!==null&&it!==null&&kb(ne,it,Se,be,!0)}}e:{if($=W?Si(W):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var me=J0;else if(kt($))if(ev)me=XS;else{me=KS;var Me=$S}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?W&&ql(W.elementType)&&(me=J0):me=QS;if(me&&(me=me(s,W))){ls(ne,me,l,J);break e}Me&&Me(s,$,W),s==="focusout"&&W&&$.type==="number"&&W.memoizedProps.value!=null&&$s($,"number",$.value)}switch(Me=W?Si(W):window,s){case"focusin":(kt(Me)||Me.contentEditable==="true")&&(xo=Me,Nm=W,ec=null);break;case"focusout":ec=Nm=xo=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,lv(ne,l,J);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":lv(ne,l,J)}var pe;if(Oi)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ve?X(s,l)&&(xe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(w&&l.locale!=="ko"&&(Ve||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ve&&(pe=Yl()):(Ci=J,Ks="value"in Ci?Ci.value:Ci.textContent,Ve=!0)),Me=id(W,xe),0<Me.length&&(xe=new Kl(xe,s,null,l,J),ne.push({event:xe,listeners:Me}),pe?xe.data=pe:(pe=ce(l),pe!==null&&(xe.data=pe)))),(pe=_?Mt(s,l):Ue(s,l))&&(xe=id(W,"onBeforeInput"),0<xe.length&&(Me=new Kl("onBeforeInput","beforeinput",null,l,J),ne.push({event:Me,listeners:xe}),Me.data=pe)),jA(ne,s,W,l,J)}Ob(ne,a)})}function Cc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function id(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ua(s,l),g!=null&&u.unshift(Cc(s,g,v)),g=ua(s,a),g!=null&&u.push(Cc(s,g,v))),s.tag===3)return u;s=s.return}return[]}function Go(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kb(s,a,l,u,g){for(var v=a._reactName,E=[];l!==null&&l!==u;){var A=l,P=A.alternate,W=A.stateNode;if(A=A.tag,P!==null&&P===u)break;A!==5&&A!==26&&A!==27||W===null||(P=W,g?(W=ua(l,v),W!=null&&E.unshift(Cc(l,W,P))):g||(W=ua(l,v),W!=null&&E.push(Cc(l,W,P)))),l=l.return}E.length!==0&&s.push({event:a,listeners:E})}var UA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function jb(s){return(typeof s=="string"?s:""+s).replace(UA,`
`).replace(zA,"")}function Pb(s,a){return a=jb(a),jb(s)===a}function sd(){}function nt(s,a,l,u,g,v){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Gn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Gn(s,""+u);break;case"className":Ai(s,"class",u);break;case"tabIndex":Ai(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(s,l,u);break;case"style":Hl(s,u,v);break;case"data":if(a!=="object"){Ai(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ho(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&nt(s,a,"name",g.name,g,null),nt(s,a,"formEncType",g.formEncType,g,null),nt(s,a,"formMethod",g.formMethod,g,null),nt(s,a,"formTarget",g.formTarget,g,null)):(nt(s,a,"encType",g.encType,g,null),nt(s,a,"method",g.method,g,null),nt(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ho(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=sd);break;case"onScroll":u!=null&&je("scroll",s);break;case"onScrollEnd":u!=null&&je("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=ho(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":je("beforetoggle",s),je("toggle",s),Ws(s,"popover",u);break;case"xlinkActuate":Qt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ws(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wm.get(l)||l,Ws(s,l,u))}}function Jg(s,a,l,u,g,v){switch(l){case"style":Hl(s,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Gn(s,u):(typeof u=="number"||typeof u=="bigint")&&Gn(s,""+u);break;case"onScroll":u!=null&&je("scroll",s);break;case"onScrollEnd":u!=null&&je("scrollend",s);break;case"onClick":u!=null&&(s.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),v=s[Tt]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(a,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ws(s,l,u)}}}function en(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",s),je("load",s);var u=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var E=l[v];if(E!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:nt(s,a,v,E,l,null)}}g&&nt(s,a,"srcSet",l.srcSet,l,null),u&&nt(s,a,"src",l.src,l,null);return;case"input":je("invalid",s);var A=v=E=g=null,P=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":E=J;break;case"checked":P=J;break;case"defaultChecked":W=J;break;case"value":v=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:nt(s,a,u,J,l,null)}}oa(s,v,A,P,W,E,g,!1),uo(s);return;case"select":je("invalid",s),u=E=v=null;for(g in l)if(l.hasOwnProperty(g)&&(A=l[g],A!=null))switch(g){case"value":v=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:nt(s,a,g,A,l,null)}a=v,l=E,s.multiple=!!u,a!=null?ns(s,!!u,a,!1):l!=null&&ns(s,!!u,l,!0);return;case"textarea":je("invalid",s),v=g=u=null;for(E in l)if(l.hasOwnProperty(E)&&(A=l[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":g=A;break;case"children":v=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:nt(s,a,E,A,l,null)}la(s,u,g,v),uo(s);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(s,a,P,u,l,null)}return;case"dialog":je("beforetoggle",s),je("toggle",s),je("cancel",s),je("close",s);break;case"iframe":case"object":je("load",s);break;case"video":case"audio":for(u=0;u<Rc.length;u++)je(Rc[u],s);break;case"image":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"embed":case"source":case"link":je("error",s),je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:nt(s,a,W,u,l,null)}return;default:if(ql(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&Jg(s,a,J,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&nt(s,a,A,u,l,null))}function BA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,E=null,A=null,P=null,W=null,J=null;for(K in l){var ne=l[K];if(l.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=ne;default:u.hasOwnProperty(K)||nt(s,a,K,null,u,ne)}}for(var $ in u){var K=u[$];if(ne=l[$],u.hasOwnProperty($)&&(K!=null||ne!=null))switch($){case"type":v=K;break;case"name":g=K;break;case"checked":W=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==ne&&nt(s,a,$,K,u,ne)}}Dn(s,E,A,P,W,J,v,g);return;case"select":K=E=A=$=null;for(v in l)if(P=l[v],l.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":K=P;default:u.hasOwnProperty(v)||nt(s,a,v,null,u,P)}for(g in u)if(v=u[g],P=l[g],u.hasOwnProperty(g)&&(v!=null||P!=null))switch(g){case"value":$=v;break;case"defaultValue":A=v;break;case"multiple":E=v;default:v!==P&&nt(s,a,g,v,u,P)}a=A,l=E,u=K,$!=null?ns(s,!!l,$,!1):!!u!=!!l&&(a!=null?ns(s,!!l,a,!0):ns(s,!!l,l?[]:"",!1));return;case"textarea":K=$=null;for(A in l)if(g=l[A],l.hasOwnProperty(A)&&g!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:nt(s,a,A,null,u,g)}for(E in u)if(g=u[E],v=l[E],u.hasOwnProperty(E)&&(g!=null||v!=null))switch(E){case"value":$=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&nt(s,a,E,g,u,v)}et(s,$,K);return;case"option":for(var Se in l)if($=l[Se],l.hasOwnProperty(Se)&&$!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:nt(s,a,Se,null,u,$)}for(P in u)if($=u[P],K=l[P],u.hasOwnProperty(P)&&$!==K&&($!=null||K!=null))switch(P){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:nt(s,a,P,$,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)$=l[be],l.hasOwnProperty(be)&&$!=null&&!u.hasOwnProperty(be)&&nt(s,a,be,null,u,$);for(W in u)if($=u[W],K=l[W],u.hasOwnProperty(W)&&$!==K&&($!=null||K!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:nt(s,a,W,$,u,K)}return;default:if(ql(a)){for(var it in l)$=l[it],l.hasOwnProperty(it)&&$!==void 0&&!u.hasOwnProperty(it)&&Jg(s,a,it,void 0,u,$);for(J in u)$=u[J],K=l[J],!u.hasOwnProperty(J)||$===K||$===void 0&&K===void 0||Jg(s,a,J,$,u,K);return}}for(var H in l)$=l[H],l.hasOwnProperty(H)&&$!=null&&!u.hasOwnProperty(H)&&nt(s,a,H,null,u,$);for(ne in u)$=u[ne],K=l[ne],!u.hasOwnProperty(ne)||$===K||$==null&&K==null||nt(s,a,ne,$,u,K)}var ep=null,tp=null;function rd(s){return s.nodeType===9?s:s.ownerDocument}function Lb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function np(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ip=null;function FA(){var s=window.event;return s&&s.type==="popstate"?s===ip?!1:(ip=s,!0):(ip=null,!1)}var Ub=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(s){return zb.resolve(null).then(s).catch(GA)}:Ub;function GA(s){setTimeout(function(){throw s})}function hr(s){return s==="head"}function Bb(s,a){var l=a,u=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<u&&8>u){l=u;var E=s.ownerDocument;if(l&1&&Nc(E.documentElement),l&2&&Nc(E.body),l&4)for(l=E.head,Nc(l),E=l.firstChild;E;){var A=E.nextSibling,P=E.nodeName;E[ia]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=A}}if(g===0){s.removeChild(v),Lc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=v}while(l);Lc(a)}function sp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sp(l),Ys(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function YA(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ia])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=ui(s.nextSibling),s===null)break}return null}function WA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ui(s.nextSibling),s===null))return null;return s}function rp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function $A(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ui(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var ap=null;function Fb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function Hb(s,a,l){switch(a=rd(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Nc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ys(s)}var ti=new Map,qb=new Set;function ad(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var xs=ae.d;ae.d={f:KA,r:QA,D:XA,C:ZA,L:JA,m:eR,X:nR,S:tR,M:iR};function KA(){var s=xs.f(),a=Xh();return s||a}function QA(s){var a=Ti(s);a!==null&&a.tag===5&&a.type==="form"?u_(a):xs.r(s)}var Yo=typeof document>"u"?null:document;function Gb(s,a,l){var u=Yo;if(u&&typeof a=="string"&&a){var g=St(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),qb.has(g)||(qb.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),en(a,"link",s),_t(a),u.head.appendChild(a)))}}function XA(s){xs.D(s),Gb("dns-prefetch",s,null)}function ZA(s,a){xs.C(s,a),Gb("preconnect",s,a)}function JA(s,a,l){xs.L(s,a,l);var u=Yo;if(u&&s&&a){var g='link[rel="preload"][as="'+St(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+St(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+St(l.imageSizes)+'"]')):g+='[href="'+St(s)+'"]';var v=g;switch(a){case"style":v=Wo(s);break;case"script":v=$o(s)}ti.has(v)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ti.set(v,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(Ic(v))||a==="script"&&u.querySelector(Dc(v))||(a=u.createElement("link"),en(a,"link",s),_t(a),u.head.appendChild(a)))}}function eR(s,a){xs.m(s,a);var l=Yo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+St(u)+'"][href="'+St(s)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=$o(s)}if(!ti.has(v)&&(s=y({rel:"modulepreload",href:s},a),ti.set(v,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Dc(v)))return}u=l.createElement("link"),en(u,"link",s),_t(u),l.head.appendChild(u)}}}function tR(s,a,l){xs.S(s,a,l);var u=Yo;if(u&&s){var g=pn(u).hoistableStyles,v=Wo(s);a=a||"default";var E=g.get(v);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(Ic(v)))A.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ti.get(v))&&op(s,l);var P=E=u.createElement("link");_t(P),en(P,"link",s),P._p=new Promise(function(W,J){P.onload=W,P.onerror=J}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,od(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:A},g.set(v,E)}}}function nR(s,a){xs.X(s,a);var l=Yo;if(l&&s){var u=pn(l).hoistableScripts,g=$o(s),v=u.get(g);v||(v=l.querySelector(Dc(g)),v||(s=y({src:s,async:!0},a),(a=ti.get(g))&&lp(s,a),v=l.createElement("script"),_t(v),en(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function iR(s,a){xs.M(s,a);var l=Yo;if(l&&s){var u=pn(l).hoistableScripts,g=$o(s),v=u.get(g);v||(v=l.querySelector(Dc(g)),v||(s=y({src:s,async:!0,type:"module"},a),(a=ti.get(g))&&lp(s,a),v=l.createElement("script"),_t(v),en(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function Yb(s,a,l,u){var g=(g=ye.current)?ad(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Wo(l.href),l=pn(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Wo(l.href);var v=pn(g).hoistableStyles,E=v.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,E),(v=g.querySelector(Ic(s)))&&!v._p&&(E.instance=v,E.state.loading=5),ti.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ti.set(s,l),v||sR(g,s,l,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$o(l),l=pn(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Wo(s){return'href="'+St(s)+'"'}function Ic(s){return'link[rel="stylesheet"]['+s+"]"}function Wb(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function sR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),en(a,"link",l),_t(a),s.head.appendChild(a))}function $o(s){return'[src="'+St(s)+'"]'}function Dc(s){return"script[async]"+s}function $b(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+St(l.href)+'"]');if(u)return a.instance=u,_t(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),_t(u),en(u,"style",g),od(u,l.precedence,s),a.instance=u;case"stylesheet":g=Wo(l.href);var v=s.querySelector(Ic(g));if(v)return a.state.loading|=4,a.instance=v,_t(v),v;u=Wb(l),(g=ti.get(g))&&op(u,g),v=(s.ownerDocument||s).createElement("link"),_t(v);var E=v;return E._p=new Promise(function(A,P){E.onload=A,E.onerror=P}),en(v,"link",u),a.state.loading|=4,od(v,l.precedence,s),a.instance=v;case"script":return v=$o(l.src),(g=s.querySelector(Dc(v)))?(a.instance=g,_t(g),g):(u=l,(g=ti.get(v))&&(u=y({},l),lp(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),_t(g),en(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,od(u,l.precedence,s));return a.instance}function od(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===a)v=A;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function op(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function lp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var ld=null;function Kb(s,a,l){if(ld===null){var u=new Map,g=ld=new Map;g.set(l,u)}else g=ld,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[ia]||v[Ot]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(a)||"";E=s+E;var A=u.get(E);A?A.push(v):u.set(E,[v])}}return u}function Qb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function rR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Xb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Oc=null;function aR(){}function oR(s,a,l){if(Oc===null)throw Error(i(475));var u=Oc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Wo(l.href),v=s.querySelector(Ic(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=cd.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=v,_t(v);return}v=s.ownerDocument||s,l=Wb(l),(g=ti.get(g))&&op(l,g),v=v.createElement("link"),_t(v);var E=v;E._p=new Promise(function(A,P){E.onload=A,E.onerror=P}),en(v,"link",l),a.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=cd.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function lR(){if(Oc===null)throw Error(i(475));var s=Oc;return s.stylesheets&&s.count===0&&cp(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&cp(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function cd(){if(this.count--,this.count===0){if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ud=null;function cp(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ud=new Map,a.forEach(cR,s),ud=null,cd.call(s))}function cR(s,a){if(!(a.state.loading&4)){var l=ud.get(s);if(l)var u=l.get(null);else{l=new Map,ud.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var E=g[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}g=a.instance,E=g.getAttribute("data-precedence"),v=l.get(E)||u,v===u&&l.set(null,g),l.set(E,g),this.count++,u=cd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Mc={$$typeof:q,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function uR(s,a,l,u,g,v,E,A){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Zb(s,a,l,u,g,v,E,A,P,W,J,ne){return s=new uR(s,a,l,E,A,P,W,ne),a=1,v===!0&&(a|=24),v=Mn(3,null,null,a),s.current=v,v.stateNode=s,a=qm(),a.refCount++,s.pooledCache=a,a.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:a},$m(v),s}function Jb(s){return s?(s=So,s):So}function ex(s,a,l,u,g,v){g=Jb(g),u.context===null?u.context=g:u.pendingContext=g,u=Zs(a),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=Js(s,u,a),l!==null&&(Vn(l,s,a),cc(l,s,a))}function tx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function up(s,a){tx(s,a),(s=s.alternate)&&tx(s,a)}function nx(s){if(s.tag===13){var a=To(s,67108864);a!==null&&Vn(a,s,67108864),up(s,67108864)}}var hd=!0;function hR(s,a,l,u){var g=Q.T;Q.T=null;var v=ae.p;try{ae.p=2,hp(s,a,l,u)}finally{ae.p=v,Q.T=g}}function dR(s,a,l,u){var g=Q.T;Q.T=null;var v=ae.p;try{ae.p=8,hp(s,a,l,u)}finally{ae.p=v,Q.T=g}}function hp(s,a,l,u){if(hd){var g=dp(u);if(g===null)Zg(s,a,u,dd,l),sx(s,u);else if(mR(g,s,a,l,u))u.stopPropagation();else if(sx(s,u),a&4&&-1<fR.indexOf(s)){for(;g!==null;){var v=Ti(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=ri(v.pendingLanes);if(E!==0){var A=v;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var P=1<<31-an(E);A.entanglements[1]|=P,E&=~P}Vi(v),(Qe&6)===0&&(Kh=Hn()+500,Ac(0))}}break;case 13:A=To(v,2),A!==null&&Vn(A,v,2),Xh(),up(v,2)}if(v=dp(u),v===null&&Zg(s,a,u,dd,l),v===g)break;g=v}g!==null&&u.stopPropagation()}else Zg(s,a,u,null,l)}}function dp(s){return s=Yn(s),fp(s)}var dd=null;function fp(s){if(dd=null,s=Ji(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return dd=s,null}function ix(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pm()){case Dl:return 2;case no:return 8;case Zr:case ym:return 32;case io:return 268435456;default:return 32}default:return 32}}var mp=!1,dr=null,fr=null,mr=null,kc=new Map,jc=new Map,gr=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(s,a){switch(s){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":kc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(a.pointerId)}}function Pc(s,a,l,u,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Ti(a),a!==null&&nx(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function mR(s,a,l,u,g){switch(a){case"focusin":return dr=Pc(dr,s,a,l,u,g),!0;case"dragenter":return fr=Pc(fr,s,a,l,u,g),!0;case"mouseover":return mr=Pc(mr,s,a,l,u,g),!0;case"pointerover":var v=g.pointerId;return kc.set(v,Pc(kc.get(v)||null,s,a,l,u,g)),!0;case"gotpointercapture":return v=g.pointerId,jc.set(v,Pc(jc.get(v)||null,s,a,l,u,g)),!0}return!1}function rx(s){var a=Ji(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Xu(s.priority,function(){if(l.tag===13){var u=Ln();u=Hs(u);var g=To(l,u);g!==null&&Vn(g,l,u),up(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=dp(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);is=u,l.target.dispatchEvent(u),is=null}else return a=Ti(l),a!==null&&nx(a),s.blockedOn=l,!1;a.shift()}return!0}function ax(s,a,l){fd(s)&&l.delete(a)}function gR(){mp=!1,dr!==null&&fd(dr)&&(dr=null),fr!==null&&fd(fr)&&(fr=null),mr!==null&&fd(mr)&&(mr=null),kc.forEach(ax),jc.forEach(ax)}function md(s,a){s.blockedOn===a&&(s.blockedOn=null,mp||(mp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gR)))}var gd=null;function ox(s){gd!==s&&(gd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gd===s&&(gd=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(fp(u||l)===null)continue;break}var v=Ti(l);v!==null&&(s.splice(a,3),a-=3,fg(v,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Lc(s){function a(P){return md(P,s)}dr!==null&&md(dr,s),fr!==null&&md(fr,s),mr!==null&&md(mr,s),kc.forEach(a),jc.forEach(a);for(var l=0;l<gr.length;l++){var u=gr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<gr.length&&(l=gr[0],l.blockedOn===null);)rx(l),l.blockedOn===null&&gr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],E=g[Tt]||null;if(typeof v=="function")E||ox(l);else if(E){var A=null;if(v&&v.hasAttribute("formAction")){if(g=v,E=v[Tt]||null)A=E.formAction;else if(fp(g)!==null)continue}else A=E.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),ox(l)}}}function gp(s){this._internalRoot=s}pd.prototype.render=gp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Ln();ex(l,u,s,a,null,null)},pd.prototype.unmount=gp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ex(s.current,2,null,s,null,null),Xh(),a[qn]=null}};function pd(s){this._internalRoot=s}pd.prototype.unstable_scheduleHydration=function(s){if(s){var a=qs();s={blockedOn:null,target:s,priority:a};for(var l=0;l<gr.length&&a!==0&&a<gr[l].priority;l++);gr.splice(l,0,s),l===0&&rx(s)}};var lx=e.version;if(lx!=="19.1.0")throw Error(i(527,lx,"19.1.0"));ae.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var pR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{gt=yd.inject(pR),Ke=yd}catch{}}return Uc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=T_,v=S_,E=A_,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=Zb(s,1,!1,null,null,l,u,g,v,E,A,null),s[qn]=a.current,Xg(s),new gp(a)},Uc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",v=T_,E=S_,A=A_,P=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),a=Zb(s,1,!0,a,l??null,u,g,v,E,A,P,W),a.context=Jb(null),l=a.current,u=Ln(),u=Hs(u),g=Zs(u),g.callback=null,Js(l,g,u),l=u,a.current.lanes=l,Zi(a,l),Vi(a),s[qn]=a.current,Xg(s),new pd(a)},Uc.version="19.1.0",Uc}var vx;function CR(){if(vx)return vp.exports;vx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vp.exports=RR(),vp.exports}var NR=CR();const IR=fE(NR);var zc={},_x;function DR(){if(_x)return zc;_x=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.parse=c,zc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,T){const S=new o,I=x.length;if(I<2)return S;const C=(T==null?void 0:T.decode)||y;let k=0;do{const U=x.indexOf("=",k);if(U===-1)break;const q=x.indexOf(";",k),Z=q===-1?I:q;if(U>Z){k=x.lastIndexOf(";",U-1)+1;continue}const ee=h(x,k,U),le=d(x,U,ee),M=x.slice(ee,le);if(S[M]===void 0){let N=h(x,U+1,Z),D=d(x,Z,N);const O=C(x.slice(N,D));S[M]=O}k=Z+1}while(k<I);return S}function h(x,T,S){do{const I=x.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<S);return S}function d(x,T,S){for(;T>S;){const I=x.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return S}function m(x,T,S){const I=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=I(T);if(!e.test(C))throw new TypeError(`argument val is invalid: ${T}`);let k=x+"="+C;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!b(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return r.call(x)==="[object Date]"}return zc}DR();var bx="popstate";function OR(n={}){function e(i,r){let{pathname:o,search:c,hash:h}=i.location;return qp("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:vu(r)}return kR(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MR(){return Math.random().toString(36).substring(2,10)}function xx(n,e){return{usr:n.state,key:n.key,idx:e}}function qp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?vl(e):e,state:t,key:e&&e.key||i||MR()}}function vu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function vl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function kR(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",d=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function b(){h="POP";let C=y(),k=C==null?null:C-m;m=C,d&&d({action:h,location:I.location,delta:k})}function x(C,k){h="PUSH";let U=qp(I.location,C,k);m=y()+1;let q=xx(U,m),Z=I.createHref(U);try{c.pushState(q,"",Z)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;r.location.assign(Z)}o&&d&&d({action:h,location:I.location,delta:1})}function T(C,k){h="REPLACE";let U=qp(I.location,C,k);m=y();let q=xx(U,m),Z=I.createHref(U);c.replaceState(q,"",Z),o&&d&&d({action:h,location:I.location,delta:0})}function S(C){return jR(C)}let I={get action(){return h},get location(){return n(r,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(bx,b),d=C,()=>{r.removeEventListener(bx,b),d=null}},createHref(C){return e(r,C)},createURL:S,encodeLocation(C){let k=S(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:T,go(C){return c.go(C)}};return I}function jR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:vu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function mE(n,e,t="/"){return PR(n,e,t,!1)}function PR(n,e,t,i){let r=typeof e=="string"?vl(e):e,o=Os(r.pathname||"/",t);if(o==null)return null;let c=gE(n);LR(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=$R(o);h=YR(c[d],m,i)}return h}function gE(n,e=[],t=[],i=""){let r=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(dt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let m=Ns([i,d.relativePath]),y=t.concat(d);o.children&&o.children.length>0&&(dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),gE(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:qR(m,o.index),routesMeta:y})};return n.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,c);else for(let d of pE(o.path))r(o,c,d)}),e}function pE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=pE(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function LR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var VR=/^:[\w-]+$/,UR=3,zR=2,BR=1,FR=10,HR=-2,wx=n=>n==="*";function qR(n,e){let t=n.split("/"),i=t.length;return t.some(wx)&&(i+=HR),e&&(i+=zR),t.filter(r=>!wx(r)).reduce((r,o)=>r+(VR.test(o)?UR:o===""?BR:FR),i)}function GR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function YR(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=ef({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),x=d.route;if(!b&&m&&t&&!i[i.length-1].route.index&&(b=ef({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:Ns([o,b.pathname]),pathnameBase:ZR(Ns([o,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(o=Ns([o,b.pathnameBase]))}return c}function ef(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=WR(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:b},x)=>{if(y==="*"){let S=h[x]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=h[x];return b&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function WR(n,e=!1,t=!0){gi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function $R(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Os(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function KR(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?vl(n):n;return{pathname:t?t.startsWith("/")?t:QR(t,e):e,search:JR(i),hash:eC(r)}}function QR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function wp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dy(n){let e=XR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Oy(n,e,t,i=!1){let r;typeof n=="string"?r=vl(n):(r={...n},dt(!r.pathname||!r.pathname.includes("?"),wp("?","pathname","search",r)),dt(!r.pathname||!r.pathname.includes("#"),wp("#","pathname","hash",r)),dt(!r.search||!r.search.includes("#"),wp("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;r.pathname=x.join("/")}h=b>=0?e[b]:"/"}let d=KR(r,h),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Ns=n=>n.join("/").replace(/\/\/+/g,"/"),ZR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yE=["POST","PUT","PATCH","DELETE"];new Set(yE);var nC=["GET",...yE];new Set(nC);var _l=V.createContext(null);_l.displayName="DataRouter";var Lf=V.createContext(null);Lf.displayName="DataRouterState";var vE=V.createContext({isTransitioning:!1});vE.displayName="ViewTransition";var iC=V.createContext(new Map);iC.displayName="Fetchers";var sC=V.createContext(null);sC.displayName="Await";var bi=V.createContext(null);bi.displayName="Navigation";var Mu=V.createContext(null);Mu.displayName="Location";var Ki=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var My=V.createContext(null);My.displayName="RouteError";function rC(n,{relative:e}={}){dt(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext(bi),{hash:r,pathname:o,search:c}=ku(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ns([t,o])),i.createHref({pathname:h,search:c,hash:r})}function bl(){return V.useContext(Mu)!=null}function Hr(){return dt(bl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Mu).location}var _E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bE(n){V.useContext(bi).static||V.useLayoutEffect(n)}function Za(){let{isDataRoute:n}=V.useContext(Ki);return n?vC():aC()}function aC(){dt(bl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(_l),{basename:e,navigator:t}=V.useContext(bi),{matches:i}=V.useContext(Ki),{pathname:r}=Hr(),o=JSON.stringify(Dy(i)),c=V.useRef(!1);return bE(()=>{c.current=!0}),V.useCallback((d,m={})=>{if(gi(c.current,_E),!c.current)return;if(typeof d=="number"){t.go(d);return}let y=Oy(d,JSON.parse(o),r,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ns([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,r,n])}V.createContext(null);function ku(n,{relative:e}={}){let{matches:t}=V.useContext(Ki),{pathname:i}=Hr(),r=JSON.stringify(Dy(t));return V.useMemo(()=>Oy(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function oC(n,e){return xE(n,e)}function xE(n,e,t,i){var k;dt(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=V.useContext(bi),{matches:o}=V.useContext(Ki),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let U=y&&y.path||"";wE(d,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=Hr(),x;if(e){let U=typeof e=="string"?vl(e):e;dt(m==="/"||((k=U.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=b;let T=x.pathname||"/",S=T;if(m!=="/"){let U=m.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let I=mE(n,{pathname:S});gi(y||I!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=dC(I&&I.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:Ns([m,r.encodeLocation?r.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?m:Ns([m,r.encodeLocation?r.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),o,t,i);return e&&C?V.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function lC(){let n=yC(),e=tC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:r},t):null,c)}var cC=V.createElement(lC,null),uC=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(Ki.Provider,{value:this.props.routeContext},V.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hC({routeContext:n,match:e,children:t}){let i=V.useContext(_l);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ki.Provider,{value:n},t)}function dC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t==null?void 0:t.errors;if(o!=null){let d=r.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let c=!1,h=-1;if(t)for(let d=0;d<r.length;d++){let m=r[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:y,errors:b}=t,x=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,m,y)=>{let b,x=!1,T=null,S=null;t&&(b=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||cC,c&&(h<0&&y===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):h===y&&(x=!0,S=m.route.hydrateFallbackElement||null)));let I=e.concat(r.slice(0,y+1)),C=()=>{let k;return b?k=T:x?k=S:m.route.Component?k=V.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=d,V.createElement(hC,{match:m,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:k})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?V.createElement(uC,{location:t.location,revalidation:t.revalidation,component:T,error:b,children:C(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):C()},null)}function ky(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fC(n){let e=V.useContext(_l);return dt(e,ky(n)),e}function mC(n){let e=V.useContext(Lf);return dt(e,ky(n)),e}function gC(n){let e=V.useContext(Ki);return dt(e,ky(n)),e}function jy(n){let e=gC(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function pC(){return jy("useRouteId")}function yC(){var i;let n=V.useContext(My),e=mC("useRouteError"),t=jy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function vC(){let{router:n}=fC("useNavigate"),e=jy("useNavigate"),t=V.useRef(!1);return bE(()=>{t.current=!0}),V.useCallback(async(r,o={})=>{gi(t.current,_E),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var Ex={};function wE(n,e,t){!e&&!Ex[n]&&(Ex[n]=!0,gi(!1,t))}V.memo(_C);function _C({routes:n,future:e,state:t}){return xE(n,void 0,t,e)}function Py({to:n,replace:e,state:t,relative:i}){dt(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=V.useContext(bi);gi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=V.useContext(Ki),{pathname:c}=Hr(),h=Za(),d=Oy(n,Dy(o),c,i==="path"),m=JSON.stringify(d);return V.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function qe(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){dt(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof t=="string"&&(t=vl(t));let{pathname:d="/",search:m="",hash:y="",state:b=null,key:x="default"}=t,T=V.useMemo(()=>{let S=Os(d,c);return S==null?null:{location:{pathname:S,search:m,hash:y,state:b,key:x},navigationType:i}},[c,d,m,y,b,x,i]);return gi(T!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:V.createElement(bi.Provider,{value:h},V.createElement(Mu.Provider,{children:e,value:T}))}function xC({children:n,location:e}){return oC(Gp(n),e)}function Gp(n,e=[]){let t=[];return V.Children.forEach(n,(i,r)=>{if(!V.isValidElement(i))return;let o=[...e,r];if(i.type===V.Fragment){t.push.apply(t,Gp(i.props.children,o));return}dt(i.type===qe,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Gp(i.props.children,o)),t.push(c)}),t}var Ud="get",zd="application/x-www-form-urlencoded";function Vf(n){return n!=null&&typeof n.tagName=="string"}function wC(n){return Vf(n)&&n.tagName.toLowerCase()==="button"}function EC(n){return Vf(n)&&n.tagName.toLowerCase()==="form"}function TC(n){return Vf(n)&&n.tagName.toLowerCase()==="input"}function SC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AC(n,e){return n.button===0&&(!e||e==="_self")&&!SC(n)}var vd=null;function RC(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var CC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ep(n){return n!=null&&!CC.has(n)?(gi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zd}"`),null):n}function NC(n,e){let t,i,r,o,c;if(EC(n)){let h=n.getAttribute("action");i=h?Os(h,e):null,t=n.getAttribute("method")||Ud,r=Ep(n.getAttribute("enctype"))||zd,o=new FormData(n)}else if(wC(n)||TC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Os(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Ud,r=Ep(n.getAttribute("formenctype"))||Ep(h.getAttribute("enctype"))||zd,o=new FormData(h,n),!RC()){let{name:m,type:y,value:b}=n;if(y==="image"){let x=m?`${m}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else m&&o.append(m,b)}}else{if(Vf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ud,i=null,r=zd,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:c}}function Ly(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function IC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function OC(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await IC(o,t);return c.links?c.links():[]}return[]}));return PC(i.flat(1).filter(DC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Tx(n,e,t,i,r,o){let c=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>{var y;return t[m].pathname!==d.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{var b;let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function MC(n,e,{includeHydrateFallback:t}={}){return kC(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function kC(n){return[...new Set(n)]}function jC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function PC(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(jC(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LC=new Set([100,101,204,205]);function VC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Os(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function EE(){let n=V.useContext(_l);return Ly(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UC(){let n=V.useContext(Lf);return Ly(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vy=V.createContext(void 0);Vy.displayName="FrameworkContext";function TE(){let n=V.useContext(Vy);return Ly(n,"You must render this element inside a <HydratedRouter> element"),n}function zC(n,e){let t=V.useContext(Vy),[i,r]=V.useState(!1),[o,c]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=e,x=V.useRef(null);V.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=k=>{k.forEach(U=>{c(U.isIntersecting)})},C=new IntersectionObserver(I,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),V.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let T=()=>{r(!0)},S=()=>{r(!1),c(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Bc(h,T),onBlur:Bc(d,S),onMouseEnter:Bc(m,T),onMouseLeave:Bc(y,S),onTouchStart:Bc(b,T)}]:[!1,x,{}]}function Bc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BC({page:n,...e}){let{router:t}=EE(),i=V.useMemo(()=>mE(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(HC,{page:n,matches:i,...e}):null}function FC(n){let{manifest:e,routeModules:t}=TE(),[i,r]=V.useState([]);return V.useEffect(()=>{let o=!1;return OC(n,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[n,e,t]),i}function HC({page:n,matches:e,...t}){let i=Hr(),{manifest:r,routeModules:o}=TE(),{basename:c}=EE(),{loaderData:h,matches:d}=UC(),m=V.useMemo(()=>Tx(n,e,d,r,i,"data"),[n,e,d,r,i]),y=V.useMemo(()=>Tx(n,e,d,r,i,"assets"),[n,e,d,r,i]),b=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,I=!1;if(e.forEach(k=>{var q;let U=r.routes[k.route.id];!U||!U.hasLoader||(!m.some(Z=>Z.route.id===k.route.id)&&k.route.id in h&&((q=o[k.route.id])!=null&&q.shouldRevalidate)||U.hasClientLoader?I=!0:S.add(k.route.id))}),S.size===0)return[];let C=VC(n,c);return I&&S.size>0&&C.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[c,h,i,r,m,e,n,o]),x=V.useMemo(()=>MC(y,r),[y,r]),T=FC(y);return V.createElement(V.Fragment,null,b.map(S=>V.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),x.map(S=>V.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),T.map(({key:S,link:I})=>V.createElement("link",{key:S,...I})))}function qC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var SE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SE&&(window.__reactRouterVersion="7.6.2")}catch{}function GC({basename:n,children:e,window:t}){let i=V.useRef();i.current==null&&(i.current=OR({window:t,v5Compat:!0}));let r=i.current,[o,c]=V.useState({action:r.action,location:r.location}),h=V.useCallback(d=>{V.startTransition(()=>c(d))},[c]);return V.useLayoutEffect(()=>r.listen(h),[r,h]),V.createElement(bC,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:m,preventScrollReset:y,viewTransition:b,...x},T){let{basename:S}=V.useContext(bi),I=typeof m=="string"&&AE.test(m),C,k=!1;if(typeof m=="string"&&I&&(C=m,SE))try{let D=new URL(window.location.href),O=m.startsWith("//")?new URL(D.protocol+m):new URL(m),L=Os(O.pathname,S);O.origin===D.origin&&L!=null?m=L+O.search+O.hash:k=!0}catch{gi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=rC(m,{relative:r}),[q,Z,ee]=zC(i,x),le=KC(m,{replace:c,state:h,target:d,preventScrollReset:y,relative:r,viewTransition:b});function M(D){e&&e(D),D.defaultPrevented||le(D)}let N=V.createElement("a",{...x,...ee,href:C||U,onClick:k||o?e:M,ref:qC(T,Z),target:d,"data-discover":!I&&t==="render"?"true":void 0});return q&&!I?V.createElement(V.Fragment,null,N,V.createElement(BC,{page:U})):N});rt.displayName="Link";var YC=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...m},y){let b=ku(c,{relative:m.relative}),x=Hr(),T=V.useContext(Lf),{navigator:S,basename:I}=V.useContext(bi),C=T!=null&&eN(b)&&h===!0,k=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,U=x.pathname,q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(U=U.toLowerCase(),q=q?q.toLowerCase():null,k=k.toLowerCase()),q&&I&&(q=Os(q,I)||q);const Z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ee=U===k||!r&&U.startsWith(k)&&U.charAt(Z)==="/",le=q!=null&&(q===k||!r&&q.startsWith(k)&&q.charAt(k.length)==="/"),M={isActive:ee,isPending:le,isTransitioning:C},N=ee?e:void 0,D;typeof i=="function"?D=i(M):D=[i,ee?"active":null,le?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(M):o;return V.createElement(rt,{...m,"aria-current":N,className:D,ref:y,style:O,to:c,viewTransition:h},typeof d=="function"?d(M):d)});YC.displayName="NavLink";var WC=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:c=Ud,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:b,...x},T)=>{let S=ZC(),I=JC(h,{relative:m}),C=c.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&AE.test(h),U=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,ee=(Z==null?void 0:Z.getAttribute("formmethod"))||c;S(Z||q.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:r,state:o,relative:m,preventScrollReset:y,viewTransition:b})};return V.createElement("form",{ref:T,method:C,action:I,onSubmit:i?d:U,...x,"data-discover":!k&&n==="render"?"true":void 0})});WC.displayName="Form";function $C(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RE(n){let e=V.useContext(_l);return dt(e,$C(n)),e}function KC(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=Za(),d=Hr(),m=ku(n,{relative:o});return V.useCallback(y=>{if(AC(y,e)){y.preventDefault();let b=t!==void 0?t:vu(d)===vu(m);h(n,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[d,h,m,t,i,e,n,r,o,c])}var QC=0,XC=()=>`__${String(++QC)}__`;function ZC(){let{router:n}=RE("useSubmit"),{basename:e}=V.useContext(bi),t=pC();return V.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:d,body:m}=NC(i,e);if(r.navigate===!1){let y=r.fetcherKey||XC();await n.fetch(y,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function JC(n,{relative:e}={}){let{basename:t}=V.useContext(bi),i=V.useContext(Ki);dt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...ku(n||".",{relative:e})},c=Hr();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ns([t,o.pathname])),vu(o)}function eN(n,e={}){let t=V.useContext(vE);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=RE("useViewTransitionState"),r=ku(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Os(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Os(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ef(r.pathname,c)!=null||ef(r.pathname,o)!=null}[...LC];const tN=()=>{};var Sx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},nN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],c=n[t++],h=n[t++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},NE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,d=r+2<n.length,m=d?n[r+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let x=(h&15)<<2|m>>6,T=m&63;d||(T=64,c||(x=64)),i.push(t[y],t[b],t[x],t[T])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const m=r<n.length?t[n.charAt(r)]:64;++r;const b=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||b==null)throw new iN;const x=o<<2|h>>4;if(i.push(x),m!==64){const T=h<<4&240|m>>2;if(i.push(T),b!==64){const S=m<<6&192|b;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sN=function(n){const e=CE(n);return NE.encodeByteArray(e,!0)},tf=function(n){return sN(n).replace(/\./g,"")},IE=function(n){try{return NE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=()=>rN().__FIREBASE_DEFAULTS__,oN=()=>{if(typeof process>"u"||typeof Sx>"u")return;const n=Sx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IE(n[1]);return e&&JSON.parse(e)},Uf=()=>{try{return tN()||aN()||oN()||lN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DE=n=>{var e,t;return(t=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cN=n=>{const e=DE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},OE=()=>{var n;return(n=Uf())===null||n===void 0?void 0:n.config},ME=n=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){return n.endsWith(".cloudworkstations.dev")}async function kE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[tf(JSON.stringify(t)),tf(JSON.stringify(c)),""].join(".")}const au={};function dN(){const n={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?n.emulator.push(e):n.prod.push(e);return n}function fN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ax=!1;function jE(n,e){if(typeof window>"u"||typeof document>"u"||!xl(window.location.host)||au[n]===e||au[n]||Ax)return;au[n]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",o=dN().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ax=!0,c()},x}function y(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=fN(i),T=t("text"),S=document.getElementById(T)||document.createElement("span"),I=t("learnmore"),C=document.getElementById(I)||document.createElement("a"),k=t("preprendIcon"),U=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const q=x.element;h(q),y(C,I);const Z=m();d(U,k),q.append(U,S,C,Z),document.body.appendChild(q)}o?(S.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function gN(){var n;const e=(n=Uf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _N(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bN(){return!gN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xN(){try{return typeof indexedDB=="object"}catch{return!1}}function wN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="FirebaseError";class Us extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=EN,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?TN(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Us(r,h,i)}}function TN(n,e){return n.replace(SN,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const SN=/\{\$([^}]+)}/g;function AN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],c=e[r];if(Rx(o)&&Rx(c)){if(!Fa(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Rx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function $c(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Kc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RN(n,e){const t=new CN(n,e);return t.subscribe.bind(t)}class CN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");NN(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Tp),r.error===void 0&&(r.error=Tp),r.complete===void 0&&(r.complete=Tp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n){return n&&n._delegate?n._delegate:n}class Ha{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new uN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ON(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DN(n){return n===Pa?void 0:n}function ON(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const kN={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},jN=Pe.INFO,PN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},LN=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=PN[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uy{constructor(e){this.name=e,this._logLevel=jN,this._logHandler=LN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const VN=(n,e)=>e.some(t=>n instanceof t);let Cx,Nx;function UN(){return Cx||(Cx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zN(){return Nx||(Nx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,Yp=new WeakMap,LE=new WeakMap,Sp=new WeakMap,zy=new WeakMap;function BN(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Cr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&PE.set(t,n)}).catch(()=>{}),zy.set(e,n),e}function FN(n){if(Yp.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Yp.set(n,e)}let Wp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HN(n){Wp=n(Wp)}function qN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ap(this),e,...t);return LE.set(i,e.sort?e.sort():[e]),Cr(i)}:zN().includes(n)?function(...e){return n.apply(Ap(this),e),Cr(PE.get(this))}:function(...e){return Cr(n.apply(Ap(this),e))}}function GN(n){return typeof n=="function"?qN(n):(n instanceof IDBTransaction&&FN(n),VN(n,UN())?new Proxy(n,Wp):n)}function Cr(n){if(n instanceof IDBRequest)return BN(n);if(Sp.has(n))return Sp.get(n);const e=GN(n);return e!==n&&(Sp.set(n,e),zy.set(e,n)),e}const Ap=n=>zy.get(n);function YN(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,e),h=Cr(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Cr(c.result),d.oldVersion,d.newVersion,Cr(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const WN=["get","getKey","getAll","getAllKeys","count"],$N=["put","add","delete","clear"],Rp=new Map;function Ix(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=$N.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||WN.includes(t)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),r&&d.done]))[0]};return Rp.set(e,o),o}HN(n=>({...n,get:(e,t,i)=>Ix(e,t)||n.get(e,t,i),has:(e,t)=>!!Ix(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function QN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",Dx="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Uy("@firebase/app"),XN="@firebase/app-compat",ZN="@firebase/analytics-compat",JN="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",iI="@firebase/auth-compat",sI="@firebase/database",rI="@firebase/data-connect",aI="@firebase/database-compat",oI="@firebase/functions",lI="@firebase/functions-compat",cI="@firebase/installations",uI="@firebase/installations-compat",hI="@firebase/messaging",dI="@firebase/messaging-compat",fI="@firebase/performance",mI="@firebase/performance-compat",gI="@firebase/remote-config",pI="@firebase/remote-config-compat",yI="@firebase/storage",vI="@firebase/storage-compat",_I="@firebase/firestore",bI="@firebase/ai",xI="@firebase/firestore-compat",wI="firebase",EI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="[DEFAULT]",TI={[$p]:"fire-core",[XN]:"fire-core-compat",[JN]:"fire-analytics",[ZN]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[iI]:"fire-auth-compat",[sI]:"fire-rtdb",[rI]:"fire-data-connect",[aI]:"fire-rtdb-compat",[oI]:"fire-fn",[lI]:"fire-fn-compat",[cI]:"fire-iid",[uI]:"fire-iid-compat",[hI]:"fire-fcm",[dI]:"fire-fcm-compat",[fI]:"fire-perf",[mI]:"fire-perf-compat",[gI]:"fire-rc",[pI]:"fire-rc-compat",[yI]:"fire-gcs",[vI]:"fire-gcs-compat",[_I]:"fire-fst",[xI]:"fire-fst-compat",[bI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Map,SI=new Map,Qp=new Map;function Ox(n,e){try{n.container.addComponent(e)}catch(t){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ll(n){const e=n.name;if(Qp.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,n);for(const t of nf.values())Ox(t,n);for(const t of SI.values())Ox(t,n);return!0}function By(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ii(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new ju("app","Firebase",AI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=EI;function VE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Kp,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Nr.create("bad-app-name",{appName:String(r)});if(t||(t=OE()),!t)throw Nr.create("no-options");const o=nf.get(r);if(o){if(Fa(t,o.options)&&Fa(i,o.config))return o;throw Nr.create("duplicate-app",{appName:r})}const c=new MN(r);for(const d of Qp.values())c.addComponent(d);const h=new RI(t,i,c);return nf.set(r,h),h}function UE(n=Kp){const e=nf.get(n);if(!e&&n===Kp&&OE())return VE();if(!e)throw Nr.create("no-app",{appName:n});return e}function Ir(n,e,t){var i;let r=(i=TI[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(h.join(" "));return}ll(new Ha(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebase-heartbeat-database",NI=1,_u="firebase-heartbeat-store";let Cp=null;function zE(){return Cp||(Cp=YN(CI,NI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_u)}catch(t){console.warn(t)}}}}).catch(n=>{throw Nr.create("idb-open",{originalErrorMessage:n.message})})),Cp}async function II(n){try{const t=(await zE()).transaction(_u),i=await t.objectStore(_u).get(BE(n));return await t.done,i}catch(e){if(e instanceof Us)Ms.warn(e.message);else{const t=Nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(t.message)}}}async function Mx(n,e){try{const i=(await zE()).transaction(_u,"readwrite");await i.objectStore(_u).put(e,BE(n)),await i.done}catch(t){if(t instanceof Us)Ms.warn(t.message);else{const i=Nr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ms.warn(i.message)}}}function BE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1024,OI=30;class MI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>OI){const c=PI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ms.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kx(),{heartbeatsToSend:i,unsentEntries:r}=kI(this._heartbeatsCache.heartbeats),o=tf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ms.warn(t),""}}}function kx(){return new Date().toISOString().substring(0,10)}function kI(n,e=DI){const t=[];let i=n.slice();for(const r of n){const o=t.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),jx(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),jx(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class jI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xN()?wN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await II(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Mx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Mx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jx(n){return tf(JSON.stringify({version:2,heartbeats:n})).length}function PI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n){ll(new Ha("platform-logger",e=>new KN(e),"PRIVATE")),ll(new Ha("heartbeat",e=>new MI(e),"PRIVATE")),Ir($p,Dx,n),Ir($p,Dx,"esm2017"),Ir("fire-js","")}LI("");function Fy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function FE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VI=FE,HE=new ju("auth","Firebase",FE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Uy("@firebase/auth");function UI(n,...e){sf.logLevel<=Pe.WARN&&sf.warn(`Auth (${wl}): ${n}`,...e)}function Bd(n,...e){sf.logLevel<=Pe.ERROR&&sf.error(`Auth (${wl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,...e){throw Hy(n,...e)}function qi(n,...e){return Hy(n,...e)}function qE(n,e,t){const i=Object.assign(Object.assign({},VI()),{[e]:t});return new ju("auth","Firebase",i).create(e,{appName:n.name})}function Is(n){return qE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return HE.create(n,...e)}function we(n,e,...t){if(!n)throw Hy(e,...t)}function Rs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bd(e),new Error(e)}function ks(n,e){n||Rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zI(){return Px()==="http:"||Px()==="https:"}function Px(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||yN()||"connection"in navigator)?navigator.onLine:!0}function FI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ks(t>e,"Short delay should be less than long delay!"),this.isMobile=mN()||vN()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,e){ks(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GI=new Lu(3e4,6e4);function zs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xi(n,e,t,i,r={}){return YE(n,r,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=Pu(Object.assign({key:n.config.apiKey},c)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:d},o);return pN()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&xl(n.emulatorConfig.host)&&(m.credentials="include"),GE.fetch()(await WE(n,n.config.apiHost,t,h),m)})}async function YE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},HI),e);try{const r=new WI(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw _d(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw _d(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw _d(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw qE(n,y,m);pi(n,y)}}catch(r){if(r instanceof Us)throw r;pi(n,"network-request-failed",{message:String(r)})}}async function Vu(n,e,t,i,r={}){const o=await xi(n,e,t,i,r);return"mfaPendingCredential"in o&&pi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function WE(n,e,t,i){const r=`${e}${t}?${i}`,o=n,c=o.config.emulator?qy(n.config,r):`${n.config.apiScheme}://${r}`;return qI.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function YI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(qi(this.auth,"network-request-failed")),GI.get())})}}function _d(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=qi(n,e,i);return r.customData._tokenResponse=t,r}function Lx(n){return n!==void 0&&n.enterprise!==void 0}class $I{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KI(n,e){return xi(n,"GET","/v2/recaptchaConfig",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,e){return xi(n,"POST","/v1/accounts:delete",e)}async function rf(n,e){return xi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XI(n,e=!1){const t=vt(n),i=await t.getIdToken(e),r=Gy(i);we(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:ou(Np(r.auth_time)),issuedAtTime:ou(Np(r.iat)),expirationTime:ou(Np(r.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Np(n){return Number(n)*1e3}function Gy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const r=IE(t);return r?JSON.parse(r):(Bd("Failed to decode base64 JWT payload"),null)}catch(r){return Bd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Vx(n){const e=Gy(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Us&&ZI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ZI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(n){var e;const t=n.auth,i=await n.getIdToken(),r=await qa(n,rf(t,{idToken:i}));we(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$E(o.providerUserInfo):[],h=t4(n.providerData,c),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=d?m:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Zp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,b)}async function e4(n){const e=vt(n);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t4(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function $E(n){return n.map(e=>{var{providerId:t}=e,i=Fy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(n,e){const t=await YE(n,{},async()=>{const i=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await WE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&xl(n.emulatorConfig.host)&&(d.credentials="include"),GE.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function i4(n,e){return xi(n,"POST","/v2/accounts:revokeToken",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Vx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await n4(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,c=new il;return i&&(we(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(we(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(we(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Fy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await qa(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XI(this,e)}reload(){return e4(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await af(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await qa(this,QI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,c,h,d,m,y;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(r=t.email)!==null&&r!==void 0?r:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(c=t.photoURL)!==null&&c!==void 0?c:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,k=(m=t.createdAt)!==null&&m!==void 0?m:void 0,U=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:q,emailVerified:Z,isAnonymous:ee,providerData:le,stsTokenManager:M}=t;we(q&&M,e,"internal-error");const N=il.fromJSON(this.name,M);we(typeof q=="string",e,"internal-error"),yr(b,e.name),yr(x,e.name),we(typeof Z=="boolean",e,"internal-error"),we(typeof ee=="boolean",e,"internal-error"),yr(T,e.name),yr(S,e.name),yr(I,e.name),yr(C,e.name),yr(k,e.name),yr(U,e.name);const D=new fi({uid:q,auth:e,email:x,emailVerified:Z,displayName:b,isAnonymous:ee,photoURL:S,phoneNumber:T,tenantId:I,stsTokenManager:N,createdAt:k,lastLoginAt:U});return le&&Array.isArray(le)&&(D.providerData=le.map(O=>Object.assign({},O))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(e,t,i=!1){const r=new il;r.updateFromServerResponse(t);const o=new fi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await af(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];we(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?$E(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new il;h.updateFromIdToken(i);const d=new fi({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Zp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Map;function Cs(n){ks(n instanceof Function,"Expected a class definition");let e=Ux.get(n);return e?(ks(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ux.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KE.type="NONE";const zx=KE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n,e,t){return`firebase:${n}:${e}:${t}`}class sl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Fd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Fd("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rf(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new sl(Cs(zx),e,i);const r=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Cs(zx);const c=Fd(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(c);if(y){let b;if(typeof y=="string"){const x=await rf(e,{idToken:y}).catch(()=>{});if(!x)break;b=await fi._fromGetAccountInfoResponse(e,x,y)}else b=fi._fromJSON(e,y);m!==o&&(h=b),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new sl(o,e,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new sl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t2(e))return"Blackberry";if(n2(e))return"Webos";if(XE(e))return"Safari";if((e.includes("chrome/")||ZE(e))&&!e.includes("edge/"))return"Chrome";if(e2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QE(n=mn()){return/firefox\//i.test(n)}function XE(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZE(n=mn()){return/crios\//i.test(n)}function JE(n=mn()){return/iemobile/i.test(n)}function e2(n=mn()){return/android/i.test(n)}function t2(n=mn()){return/blackberry/i.test(n)}function n2(n=mn()){return/webos/i.test(n)}function Yy(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function s4(n=mn()){var e;return Yy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r4(){return _N()&&document.documentMode===10}function i2(n=mn()){return Yy(n)||e2(n)||n2(n)||t2(n)||/windows phone/i.test(n)||JE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n,e=[]){let t;switch(n){case"Browser":t=Bx(mn());break;case"Worker":t=`${Bx(mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e={}){return xi(n,"GET","/v2/passwordPolicy",zs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=6;class c4{constructor(e){var t,i,r,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:l4,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fx(this),this.idTokenSubscription=new Fx(this),this.beforeStateQueue=new a4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cs(t)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rf(this,{idToken:e}),i=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Is(this));const t=e?vt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o4(this),t=new c4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await i4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cs(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,r);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&UI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qr(n){return vt(n)}class Fx{constructor(e){this.auth=e,this.observer=null,this.addObserver=RN(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h4(n){zf=n}function r2(n){return zf.loadJS(n)}function d4(){return zf.recaptchaEnterpriseScript}function f4(){return zf.gapiScript}function m4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class g4{constructor(){this.enterprise=new p4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class p4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const y4="recaptcha-enterprise",a2="NO_RECAPTCHA";class v4{constructor(e){this.type=y4,this.auth=qr(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{KI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new $I(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;Lx(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(a2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g4().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!t&&Lx(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=d4();d.length!==0&&(d+=h),r2(d).then(()=>{r(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Hx(n,e,t,i=!1,r=!1){const o=new v4(n);let c;if(r)c=a2;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function of(n,e,t,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Hx(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Hx(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(n,e){const t=By(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(Fa(o,e??{}))return r;pi(r,"already-initialized")}return t.initialize({options:e})}function b4(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Cs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function x4(n,e,t){const i=qr(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=o2(e),{host:c,port:h}=w4(e),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(Fa(m,i.config.emulator)&&Fa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,xl(c)?(kE(`${o}//${c}${d}`),jE("Auth",!0)):E4()}function o2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function w4(n){const e=o2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:qx(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:qx(c)}}}function qx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function E4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,t){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function T4(n,e){return xi(n,"POST","/v1/accounts:update",e)}async function S4(n,e){return xi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(n,e){return Vu(n,"POST","/v1/accounts:signInWithPassword",zs(n,e))}async function R4(n,e){return xi(n,"POST","/v1/accounts:sendOobCode",zs(n,e))}async function C4(n,e){return R4(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(n,e){return Vu(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,e))}async function I4(n,e){return Vu(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Wy{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new bu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(e,t,"signInWithPassword",A4);case"emailLink":return N4(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(e,i,"signUpPassword",S4);case"emailLink":return I4(e,{idToken:t,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(n,e){return Vu(n,"POST","/v1/accounts:signInWithIdp",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="http://localhost";class Ga extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=Fy(t,["providerId","signInMethod"]);if(!i||!r)return null;const c=new Ga(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return rl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,rl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rl(e,t)}buildRequest(){const e={requestUri:D4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M4(n){const e=$c(Kc(n)).link,t=e?$c(Kc(e)).deep_link_id:null,i=$c(Kc(n)).deep_link_id;return(i?$c(Kc(i)).link:null)||i||t||e||n}class $y{constructor(e){var t,i,r,o,c,h;const d=$c(Kc(e)),m=(t=d.apiKey)!==null&&t!==void 0?t:null,y=(i=d.oobCode)!==null&&i!==void 0?i:null,b=O4((r=d.mode)!==null&&r!==void 0?r:null);we(m&&y&&b,"argument-error"),this.apiKey=m,this.operation=b,this.code=y,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=M4(e);try{return new $y(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=$y.parseLink(t);return we(i,"argument-error"),bu._fromEmailAndCode(e,i.code,i.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends l2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Uu{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ga._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return xr.credential(t,i)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Uu{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Uu{constructor(){super("twitter.com")}static credential(e,t){return Ga._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Er.credential(t,i)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(n,e){return Vu(n,"POST","/v1/accounts:signUp",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await fi._fromIdTokenResponse(e,i,r),c=Gx(i);return new Ya({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=Gx(i);return new Ya({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function Gx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends Us{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new lf(e,t,i,r)}}function c2(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lf._fromErrorAndOperation(n,o,e,i):o})}async function j4(n,e,t=!1){const i=await qa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ya._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(n,e,t=!1){const{auth:i}=n;if(ii(i.app))return Promise.reject(Is(i));const r="reauthenticate";try{const o=await qa(n,c2(i,r,e,n),t);we(o.idToken,i,"internal-error");const c=Gy(o.idToken);we(c,i,"internal-error");const{sub:h}=c;return we(n.uid===h,i,"user-mismatch"),Ya._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(n,e,t=!1){if(ii(n.app))return Promise.reject(Is(n));const i="signIn",r=await c2(n,i,e),o=await Ya._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function L4(n,e){return u2(qr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(n){const e=qr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V4(n,e,t){const i=qr(n);await of(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",C4)}async function U4(n,e,t){if(ii(n.app))return Promise.reject(Is(n));const i=qr(n),c=await of(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",k4).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&h2(n),d}),h=await Ya._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function d2(n,e,t){return ii(n.app)?Promise.reject(Is(n)):L4(vt(n),El.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&h2(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(n,e){return xi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=vt(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await qa(i,z4(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function F4(n,e){return H4(vt(n),null,e)}async function H4(n,e,t){const{auth:i}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(o.password=t);const c=await qa(n,T4(i,o));await n._updateTokensIfNecessary(c,!0)}function q4(n,e,t,i){return vt(n).onIdTokenChanged(e,t,i)}function G4(n,e,t){return vt(n).beforeAuthStateChanged(e,t)}function Y4(n,e,t,i){return vt(n).onAuthStateChanged(e,t,i)}function W4(n){return vt(n).signOut()}async function $4(n){return vt(n).delete()}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=1e3,Q4=10;class m2 extends f2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);r4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Q4):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},K4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}m2.type="LOCAL";const X4=m2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2 extends f2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}g2.type="SESSION";const p2=g2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Bf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(t.origin,o)),d=await Z4(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=Ky("",20);r.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function e6(n){Gi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function t6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function i6(){return y2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebaseLocalStorageDb",s6=1,uf="firebaseLocalStorage",_2="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ff(n,e){return n.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function r6(){const n=indexedDB.deleteDatabase(v2);return new zu(n).toPromise()}function Jp(){const n=indexedDB.open(v2,s6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(uf,{keyPath:_2})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(uf)?e(i):(i.close(),await r6(),e(await Jp()))})})}async function Yx(n,e,t){const i=Ff(n,!0).put({[_2]:e,value:t});return new zu(i).toPromise()}async function a6(n,e){const t=Ff(n,!1).get(e),i=await new zu(t).toPromise();return i===void 0?null:i.value}function Wx(n,e){const t=Ff(n,!0).delete(e);return new zu(t).toPromise()}const o6=800,l6=3;class b2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>l6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(i6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await t6(),!this.activeServiceWorker)return;this.sender=new J4(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await Yx(e,cf,"1"),await Wx(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Yx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>a6(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Ff(r,!1).getAll();return new zu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b2.type="LOCAL";const c6=b2;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(n,e){return e?Cs(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function h6(n){return u2(n.auth,new Qy(n),n.bypassAuthState)}function d6(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),P4(t,new Qy(n),n.bypassAuthState)}async function f6(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),j4(t,new Qy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h6;case"linkViaPopup":case"linkViaRedirect":return f6;case"reauthViaPopup":case"reauthViaRedirect":return d6;default:pi(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=new Lu(2e3,1e4);class tl extends x2{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=Ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m6.get())};e()}}tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="pendingRedirect",Hd=new Map;class p6 extends x2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Hd.get(this.auth._key());if(!e){try{const i=await y6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y6(n,e){const t=b6(e),i=_6(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function v6(n,e){Hd.set(n._key(),e)}function _6(n){return Cs(n._redirectPersistence)}function b6(n){return Fd(g6,n.config.apiKey,n.name)}async function x6(n,e,t=!1){if(ii(n.app))return Promise.reject(Is(n));const i=qr(n),r=u6(i,e),c=await new p6(i,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=10*60*1e3;class E6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!w2(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(qi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w6&&this.cachedEventUids.clear(),this.cachedEventUids.has($x(e))}saveEventToCache(e){this.cachedEventUids.add($x(e)),this.lastProcessedEventTime=Date.now()}}function $x(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function w2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(n,e={}){return xi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R6=/^https?/;async function C6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await S6(n);for(const t of e)try{if(N6(t))return}catch{}pi(n,"unauthorized-domain")}function N6(n){const e=Xp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!R6.test(t))return!1;if(A6.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new Lu(3e4,6e4);function Kx(){const n=Gi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function D6(n){return new Promise((e,t)=>{var i,r,o;function c(){Kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kx(),t(qi(n,"network-request-failed"))},timeout:I6.get()})}if(!((r=(i=Gi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Gi().gapi)===null||o===void 0)&&o.load)c();else{const h=m4("iframefcb");return Gi()[h]=()=>{gapi.load?c():t(qi(n,"network-request-failed"))},r2(`${f4()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw qd=null,e})}let qd=null;function O6(n){return qd=qd||D6(n),qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Lu(5e3,15e3),k6="__/auth/iframe",j6="emulator/auth/iframe",P6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V6(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qy(e,j6):`https://${n.config.authDomain}/${k6}`,i={apiKey:e.apiKey,appName:n.name,v:wl},r=L6.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Pu(i).slice(1)}`}async function U6(n){const e=await O6(n),t=Gi().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:V6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P6,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=qi(n,"network-request-failed"),h=Gi().setTimeout(()=>{o(c)},M6.get());function d(){Gi().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B6=500,F6=600,H6="_blank",q6="http://localhost";class Qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G6(n,e,t,i=B6,r=F6){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},z6),{width:i.toString(),height:r.toString(),top:o,left:c}),m=mn().toLowerCase();t&&(h=ZE(m)?H6:t),QE(m)&&(e=e||q6,d.scrollbars="yes");const y=Object.entries(d).reduce((x,[T,S])=>`${x}${T}=${S},`,"");if(s4(m)&&h!=="_self")return Y6(e||"",h),new Qx(null);const b=window.open(e||"",h,y);we(b,n,"popup-blocked");try{b.focus()}catch{}return new Qx(b)}function Y6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6="__/auth/handler",$6="emulator/auth/handler",K6=encodeURIComponent("fac");async function Xx(n,e,t,i,r,o){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:wl,eventId:r};if(e instanceof l2){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",AN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))c[y]=b}if(e instanceof Uu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${K6}=${encodeURIComponent(d)}`:"";return`${Q6(n)}?${Pu(h).slice(1)}${m}`}function Q6({config:n}){return n.emulator?qy(n,$6):`https://${n.authDomain}/${W6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class X6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p2,this._completeRedirectFn=x6,this._overrideRedirectResult=v6}async _openPopup(e,t,i,r){var o;ks((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Xx(e,t,i,Xp(),r);return G6(e,c,Ky())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await Xx(e,t,i,Xp(),r);return e6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(ks(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await U6(e),i=new E6(e);return t.register("authEvent",r=>(we(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ip,{type:Ip},r=>{var o;const c=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Ip];c!==void 0&&t(!!c),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return i2()||XE()||Yy()}}const Z6=X6;var Zx="@firebase/auth",Jx="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t3(n){ll(new Ha("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s2(n)},m=new u4(i,r,o,d);return b4(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ll(new Ha("auth-internal",e=>{const t=qr(e.getProvider("auth").getImmediate());return(i=>new J6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(Zx,Jx,e3(n)),Ir(Zx,Jx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=5*60,i3=ME("authIdTokenMaxAge")||n3;let e1=null;const s3=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>i3)return;const r=t==null?void 0:t.token;e1!==r&&(e1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ey(n=UE()){const e=By(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_4(n,{popupRedirectResolver:Z6,persistence:[c6,X4,p2]}),i=ME("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=s3(o.toString());G4(t,c,()=>c(t.currentUser)),q4(t,h=>c(h))}}const r=DE("auth");return r&&x4(t,`http://${r}`),t}function r3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}h4({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=qi("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",r3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t3("Browser");var a3="firebase",o3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(a3,o3,"app");var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,E2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function D(){}D.prototype=N.prototype,M.D=N.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(O,L,B){for(var j=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)j[Fe-2]=arguments[Fe];return N.prototype[L].apply(O,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,N,D){D||(D=0);var O=Array(16);if(typeof N=="string")for(var L=0;16>L;++L)O[L]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(L=0;16>L;++L)O[L]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=M.g[0],D=M.g[1],L=M.g[2];var B=M.g[3],j=N+(B^D&(L^B))+O[0]+3614090360&4294967295;N=D+(j<<7&4294967295|j>>>25),j=B+(L^N&(D^L))+O[1]+3905402710&4294967295,B=N+(j<<12&4294967295|j>>>20),j=L+(D^B&(N^D))+O[2]+606105819&4294967295,L=B+(j<<17&4294967295|j>>>15),j=D+(N^L&(B^N))+O[3]+3250441966&4294967295,D=L+(j<<22&4294967295|j>>>10),j=N+(B^D&(L^B))+O[4]+4118548399&4294967295,N=D+(j<<7&4294967295|j>>>25),j=B+(L^N&(D^L))+O[5]+1200080426&4294967295,B=N+(j<<12&4294967295|j>>>20),j=L+(D^B&(N^D))+O[6]+2821735955&4294967295,L=B+(j<<17&4294967295|j>>>15),j=D+(N^L&(B^N))+O[7]+4249261313&4294967295,D=L+(j<<22&4294967295|j>>>10),j=N+(B^D&(L^B))+O[8]+1770035416&4294967295,N=D+(j<<7&4294967295|j>>>25),j=B+(L^N&(D^L))+O[9]+2336552879&4294967295,B=N+(j<<12&4294967295|j>>>20),j=L+(D^B&(N^D))+O[10]+4294925233&4294967295,L=B+(j<<17&4294967295|j>>>15),j=D+(N^L&(B^N))+O[11]+2304563134&4294967295,D=L+(j<<22&4294967295|j>>>10),j=N+(B^D&(L^B))+O[12]+1804603682&4294967295,N=D+(j<<7&4294967295|j>>>25),j=B+(L^N&(D^L))+O[13]+4254626195&4294967295,B=N+(j<<12&4294967295|j>>>20),j=L+(D^B&(N^D))+O[14]+2792965006&4294967295,L=B+(j<<17&4294967295|j>>>15),j=D+(N^L&(B^N))+O[15]+1236535329&4294967295,D=L+(j<<22&4294967295|j>>>10),j=N+(L^B&(D^L))+O[1]+4129170786&4294967295,N=D+(j<<5&4294967295|j>>>27),j=B+(D^L&(N^D))+O[6]+3225465664&4294967295,B=N+(j<<9&4294967295|j>>>23),j=L+(N^D&(B^N))+O[11]+643717713&4294967295,L=B+(j<<14&4294967295|j>>>18),j=D+(B^N&(L^B))+O[0]+3921069994&4294967295,D=L+(j<<20&4294967295|j>>>12),j=N+(L^B&(D^L))+O[5]+3593408605&4294967295,N=D+(j<<5&4294967295|j>>>27),j=B+(D^L&(N^D))+O[10]+38016083&4294967295,B=N+(j<<9&4294967295|j>>>23),j=L+(N^D&(B^N))+O[15]+3634488961&4294967295,L=B+(j<<14&4294967295|j>>>18),j=D+(B^N&(L^B))+O[4]+3889429448&4294967295,D=L+(j<<20&4294967295|j>>>12),j=N+(L^B&(D^L))+O[9]+568446438&4294967295,N=D+(j<<5&4294967295|j>>>27),j=B+(D^L&(N^D))+O[14]+3275163606&4294967295,B=N+(j<<9&4294967295|j>>>23),j=L+(N^D&(B^N))+O[3]+4107603335&4294967295,L=B+(j<<14&4294967295|j>>>18),j=D+(B^N&(L^B))+O[8]+1163531501&4294967295,D=L+(j<<20&4294967295|j>>>12),j=N+(L^B&(D^L))+O[13]+2850285829&4294967295,N=D+(j<<5&4294967295|j>>>27),j=B+(D^L&(N^D))+O[2]+4243563512&4294967295,B=N+(j<<9&4294967295|j>>>23),j=L+(N^D&(B^N))+O[7]+1735328473&4294967295,L=B+(j<<14&4294967295|j>>>18),j=D+(B^N&(L^B))+O[12]+2368359562&4294967295,D=L+(j<<20&4294967295|j>>>12),j=N+(D^L^B)+O[5]+4294588738&4294967295,N=D+(j<<4&4294967295|j>>>28),j=B+(N^D^L)+O[8]+2272392833&4294967295,B=N+(j<<11&4294967295|j>>>21),j=L+(B^N^D)+O[11]+1839030562&4294967295,L=B+(j<<16&4294967295|j>>>16),j=D+(L^B^N)+O[14]+4259657740&4294967295,D=L+(j<<23&4294967295|j>>>9),j=N+(D^L^B)+O[1]+2763975236&4294967295,N=D+(j<<4&4294967295|j>>>28),j=B+(N^D^L)+O[4]+1272893353&4294967295,B=N+(j<<11&4294967295|j>>>21),j=L+(B^N^D)+O[7]+4139469664&4294967295,L=B+(j<<16&4294967295|j>>>16),j=D+(L^B^N)+O[10]+3200236656&4294967295,D=L+(j<<23&4294967295|j>>>9),j=N+(D^L^B)+O[13]+681279174&4294967295,N=D+(j<<4&4294967295|j>>>28),j=B+(N^D^L)+O[0]+3936430074&4294967295,B=N+(j<<11&4294967295|j>>>21),j=L+(B^N^D)+O[3]+3572445317&4294967295,L=B+(j<<16&4294967295|j>>>16),j=D+(L^B^N)+O[6]+76029189&4294967295,D=L+(j<<23&4294967295|j>>>9),j=N+(D^L^B)+O[9]+3654602809&4294967295,N=D+(j<<4&4294967295|j>>>28),j=B+(N^D^L)+O[12]+3873151461&4294967295,B=N+(j<<11&4294967295|j>>>21),j=L+(B^N^D)+O[15]+530742520&4294967295,L=B+(j<<16&4294967295|j>>>16),j=D+(L^B^N)+O[2]+3299628645&4294967295,D=L+(j<<23&4294967295|j>>>9),j=N+(L^(D|~B))+O[0]+4096336452&4294967295,N=D+(j<<6&4294967295|j>>>26),j=B+(D^(N|~L))+O[7]+1126891415&4294967295,B=N+(j<<10&4294967295|j>>>22),j=L+(N^(B|~D))+O[14]+2878612391&4294967295,L=B+(j<<15&4294967295|j>>>17),j=D+(B^(L|~N))+O[5]+4237533241&4294967295,D=L+(j<<21&4294967295|j>>>11),j=N+(L^(D|~B))+O[12]+1700485571&4294967295,N=D+(j<<6&4294967295|j>>>26),j=B+(D^(N|~L))+O[3]+2399980690&4294967295,B=N+(j<<10&4294967295|j>>>22),j=L+(N^(B|~D))+O[10]+4293915773&4294967295,L=B+(j<<15&4294967295|j>>>17),j=D+(B^(L|~N))+O[1]+2240044497&4294967295,D=L+(j<<21&4294967295|j>>>11),j=N+(L^(D|~B))+O[8]+1873313359&4294967295,N=D+(j<<6&4294967295|j>>>26),j=B+(D^(N|~L))+O[15]+4264355552&4294967295,B=N+(j<<10&4294967295|j>>>22),j=L+(N^(B|~D))+O[6]+2734768916&4294967295,L=B+(j<<15&4294967295|j>>>17),j=D+(B^(L|~N))+O[13]+1309151649&4294967295,D=L+(j<<21&4294967295|j>>>11),j=N+(L^(D|~B))+O[4]+4149444226&4294967295,N=D+(j<<6&4294967295|j>>>26),j=B+(D^(N|~L))+O[11]+3174756917&4294967295,B=N+(j<<10&4294967295|j>>>22),j=L+(N^(B|~D))+O[2]+718787259&4294967295,L=B+(j<<15&4294967295|j>>>17),j=D+(B^(L|~N))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+B&4294967295}i.prototype.u=function(M,N){N===void 0&&(N=M.length);for(var D=N-this.blockSize,O=this.B,L=this.h,B=0;B<N;){if(L==0)for(;B<=D;)r(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<N;)if(O[L++]=M.charCodeAt(B++),L==this.blockSize){r(this,O),L=0;break}}else for(;B<N;)if(O[L++]=M[B++],L==this.blockSize){r(this,O),L=0;break}}this.h=L,this.o+=N},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;var D=8*this.o;for(N=M.length-8;N<M.length;++N)M[N]=D&255,D/=256;for(this.u(M),M=Array(16),N=D=0;4>N;++N)for(var O=0;32>O;O+=8)M[D++]=this.g[N]>>>O&255;return M};function o(M,N){var D=h;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=N(M)}function c(M,N){this.h=N;for(var D=[],O=!0,L=M.length-1;0<=L;L--){var B=M[L]|0;O&&B==N||(D[L]=B,O=!1)}this.g=D}var h={};function d(M){return-128<=M&&128>M?o(M,function(N){return new c([N|0],0>N?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return C(m(-M));for(var N=[],D=1,O=0;M>=D;O++)N[O]=M/D|0,D*=4294967296;return new c(N,0)}function y(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return C(y(M.substring(1),N));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(N,8)),O=b,L=0;L<M.length;L+=8){var B=Math.min(8,M.length-L),j=parseInt(M.substring(L,L+B),N);8>B?(B=m(Math.pow(N,B)),O=O.j(B).add(m(j))):(O=O.j(D),O=O.add(m(j)))}return O}var b=d(0),x=d(1),T=d(16777216);n=c.prototype,n.m=function(){if(I(this))return-C(this).m();for(var M=0,N=1,D=0;D<this.g.length;D++){var O=this.i(D);M+=(0<=O?O:4294967296+O)*N,N*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(I(this))return"-"+C(this).toString(M);for(var N=m(Math.pow(M,6)),D=this,O="";;){var L=Z(D,N).g;D=k(D,L.j(N));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=L,S(D))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function I(M){return M.h==-1}n.l=function(M){return M=k(this,M),I(M)?-1:S(M)?0:1};function C(M){for(var N=M.g.length,D=[],O=0;O<N;O++)D[O]=~M.g[O];return new c(D,~M.h).add(x)}n.abs=function(){return I(this)?C(this):this},n.add=function(M){for(var N=Math.max(this.g.length,M.g.length),D=[],O=0,L=0;L<=N;L++){var B=O+(this.i(L)&65535)+(M.i(L)&65535),j=(B>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);O=j>>>16,B&=65535,j&=65535,D[L]=j<<16|B}return new c(D,D[D.length-1]&-2147483648?-1:0)};function k(M,N){return M.add(C(N))}n.j=function(M){if(S(this)||S(M))return b;if(I(this))return I(M)?C(this).j(C(M)):C(C(this).j(M));if(I(M))return C(this.j(C(M)));if(0>this.l(T)&&0>M.l(T))return m(this.m()*M.m());for(var N=this.g.length+M.g.length,D=[],O=0;O<2*N;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<M.g.length;L++){var B=this.i(O)>>>16,j=this.i(O)&65535,Fe=M.i(L)>>>16,_e=M.i(L)&65535;D[2*O+2*L]+=j*_e,U(D,2*O+2*L),D[2*O+2*L+1]+=B*_e,U(D,2*O+2*L+1),D[2*O+2*L+1]+=j*Fe,U(D,2*O+2*L+1),D[2*O+2*L+2]+=B*Fe,U(D,2*O+2*L+2)}for(O=0;O<N;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=N;O<2*N;O++)D[O]=0;return new c(D,0)};function U(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function q(M,N){this.g=M,this.h=N}function Z(M,N){if(S(N))throw Error("division by zero");if(S(M))return new q(b,b);if(I(M))return N=Z(C(M),N),new q(C(N.g),C(N.h));if(I(N))return N=Z(M,C(N)),new q(C(N.g),N.h);if(30<M.g.length){if(I(M)||I(N))throw Error("slowDivide_ only works with positive integers.");for(var D=x,O=N;0>=O.l(M);)D=ee(D),O=ee(O);var L=le(D,1),B=le(O,1);for(O=le(O,2),D=le(D,2);!S(O);){var j=B.add(O);0>=j.l(M)&&(L=L.add(D),B=j),O=le(O,1),D=le(D,1)}return N=k(M,L.j(N)),new q(L,N)}for(L=b;0<=M.l(N);){for(D=Math.max(1,Math.floor(M.m()/N.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=m(D),j=B.j(N);I(j)||0<j.l(M);)D-=O,B=m(D),j=B.j(N);S(B)&&(B=x),L=L.add(B),M=k(M,j)}return new q(L,M)}n.A=function(M){return Z(this,M).h},n.and=function(M){for(var N=Math.max(this.g.length,M.g.length),D=[],O=0;O<N;O++)D[O]=this.i(O)&M.i(O);return new c(D,this.h&M.h)},n.or=function(M){for(var N=Math.max(this.g.length,M.g.length),D=[],O=0;O<N;O++)D[O]=this.i(O)|M.i(O);return new c(D,this.h|M.h)},n.xor=function(M){for(var N=Math.max(this.g.length,M.g.length),D=[],O=0;O<N;O++)D[O]=this.i(O)^M.i(O);return new c(D,this.h^M.h)};function ee(M){for(var N=M.g.length+1,D=[],O=0;O<N;O++)D[O]=M.i(O)<<1|M.i(O-1)>>>31;return new c(D,M.h)}function le(M,N){var D=N>>5;N%=32;for(var O=M.g.length-D,L=[],B=0;B<O;B++)L[B]=0<N?M.i(B+D)>>>N|M.i(B+D+1)<<32-N:M.i(B+D);return new c(L,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,E2=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Dr=c}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T2,Qc,S2,Gd,ty,A2,R2,C2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,w){return f==Array.prototype||f==Object.prototype||(f[_]=w.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var _=0;_<f.length;++_){var w=f[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(f,_){if(_)e:{var w=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var G=f[R];if(!(G in w))break e;w=w[G]}f=f[f.length-1],R=w[f],_=_(R),_!=R&&_!=null&&e(w,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var w=0,R=!1,G={next:function(){if(!R&&w<f.length){var X=w++;return{value:_(X,f[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(f){return f||function(){return o(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function m(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,w){return f.call.apply(f.bind,arguments)}function b(f,_,w){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),f.apply(_,G)}}return function(){return f.apply(_,arguments)}}function x(f,_,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,x.apply(null,arguments)}function T(f,_){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function S(f,_){function w(){}w.prototype=_.prototype,f.aa=_.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(R,G,X){for(var ce=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ce[Ve-2]=arguments[Ve];return _.prototype[G].apply(R,ce)}}function I(f){const _=f.length;if(0<_){const w=Array(_);for(let R=0;R<_;R++)w[R]=f[R];return w}return[]}function C(f,_){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(d(R)){const G=f.length||0,X=R.length||0;f.length=G+X;for(let ce=0;ce<X;ce++)f[G+ce]=R[ce]}else f.push(R)}}class k{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var ee=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function le(f,_,w){for(const R in f)_.call(w,f[R],R,f)}function M(f,_){for(const w in f)_.call(void 0,f[w],w,f)}function N(f){const _={};for(const w in f)_[w]=f[w];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,_){let w,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(w in R)f[w]=R[w];for(let X=0;X<D.length;X++)w=D[X],Object.prototype.hasOwnProperty.call(R,w)&&(f[w]=R[w])}}function L(f){var _=1;f=f.split(":");const w=[];for(;0<_&&f.length;)w.push(f.shift()),_--;return f.length&&w.push(f.join(":")),w}function B(f){h.setTimeout(()=>{throw f},0)}function j(){var f=Te;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Fe{constructor(){this.h=this.g=null}add(_,w){const R=_e.get();R.set(_,w),this.h?this.h.next=R:this.g=R,this.h=R}}var _e=new k(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,fe=!1,Te=new Fe,z=()=>{const f=h.Promise.resolve(void 0);ae=()=>{f.then(re)}};var re=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(w){B(w)}var _=_e;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};h.addEventListener("test",w,_),h.removeEventListener("test",w,_)}catch{}return f}();function Re(f,_){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(ee){e:{try{Z(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else w=="mouseover"?_=f.fromElement:w=="mouseout"&&(_=f.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ye[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}S(Re,oe);var ye={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),at=0;function wi(f,_,w,R,G){this.listener=f,this.proxy=null,this.src=_,this.type=w,this.capture=!!R,this.ha=G,this.key=++at,this.da=this.fa=!1}function Fs(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Qi(f){this.src=f,this.g={},this.h=0}Qi.prototype.add=function(f,_,w,R,G){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var ce=Qr(f,_,R,G);return-1<ce?(_=f[ce],w||(_.fa=!1)):(_=new wi(_,this.src,X,!!R,G),_.fa=w,f.push(_)),_};function Kr(f,_){var w=_.type;if(w in f.g){var R=f.g[w],G=Array.prototype.indexOf.call(R,_,void 0),X;(X=0<=G)&&Array.prototype.splice.call(R,G,1),X&&(Fs(_),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Qr(f,_,w,R){for(var G=0;G<f.length;++G){var X=f[G];if(!X.da&&X.listener==_&&X.capture==!!w&&X.ha==R)return G}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),Il={};function $u(f,_,w,R,G){if(Array.isArray(_)){for(var X=0;X<_.length;X++)$u(f,_[X],w,R,G);return null}return w=Ku(w),f&&f[Bt]?f.K(_,w,m(R)?!!R.capture:!1,G):Hn(f,_,w,!1,R,G)}function Hn(f,_,w,R,G,X){if(!_)throw Error("Invalid event type");var ce=m(G)?!!G.capture:!!G,Ve=io(f);if(Ve||(f[Xr]=Ve=new Qi(f)),w=Ve.add(_,w,R,ce,X),w.proxy)return w;if(R=pm(),w.proxy=R,R.src=f,R.listener=w,f.addEventListener)ge||(G=ce),G===void 0&&(G=!1),f.addEventListener(_.toString(),R,G);else if(f.attachEvent)f.attachEvent(Zr(_.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function pm(){function f(w){return _.call(f.src,f.listener,w)}const _=ym;return f}function Dl(f,_,w,R,G){if(Array.isArray(_))for(var X=0;X<_.length;X++)Dl(f,_[X],w,R,G);else R=m(R)?!!R.capture:!!R,w=Ku(w),f&&f[Bt]?(f=f.i,_=String(_).toString(),_ in f.g&&(X=f.g[_],w=Qr(X,w,R,G),-1<w&&(Fs(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete f.g[_],f.h--)))):f&&(f=io(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Qr(_,w,R,G)),(w=-1<f?_[f]:null)&&no(w))}function no(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Bt])Kr(_.i,f);else{var w=f.type,R=f.proxy;_.removeEventListener?_.removeEventListener(w,R,f.capture):_.detachEvent?_.detachEvent(Zr(w),R):_.addListener&&_.removeListener&&_.removeListener(R),(w=io(_))?(Kr(w,f),w.h==0&&(w.src=null,_[Xr]=null)):Fs(f)}}}function Zr(f){return f in Il?Il[f]:Il[f]="on"+f}function ym(f,_){if(f.da)f=!0;else{_=new Re(_,this);var w=f.listener,R=f.ha||f.src;f.fa&&no(f),f=w.call(R,_)}return f}function io(f){return f=f[Xr],f instanceof Qi?f:null}var Ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ku(f){return typeof f=="function"?f:(f[Ol]||(f[Ol]=function(_){return f.handleEvent(_)}),f[Ol])}function gt(){ue.call(this),this.i=new Qi(this),this.M=this,this.F=null}S(gt,ue),gt.prototype[Bt]=!0,gt.prototype.removeEventListener=function(f,_,w,R){Dl(this,f,_,w,R)};function Ke(f,_){var w,R=f.F;if(R)for(w=[];R;R=R.F)w.push(R);if(f=f.M,R=_.type||_,typeof _=="string")_=new oe(_,f);else if(_ instanceof oe)_.target=_.target||f;else{var G=_;_=new oe(R,f),O(_,G)}if(G=!0,w)for(var X=w.length-1;0<=X;X--){var ce=_.g=w[X];G=In(ce,R,!0,_)&&G}if(ce=_.g=f,G=In(ce,R,!0,_)&&G,G=In(ce,R,!1,_)&&G,w)for(X=0;X<w.length;X++)ce=_.g=w[X],G=In(ce,R,!1,_)&&G}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var w=f.g[_],R=0;R<w.length;R++)Fs(w[R]);delete f.g[_],f.h--}}this.F=null},gt.prototype.K=function(f,_,w,R){return this.i.add(String(f),_,!1,w,R)},gt.prototype.L=function(f,_,w,R){return this.i.add(String(f),_,!0,w,R)};function In(f,_,w,R){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,X=0;X<_.length;++X){var ce=_[X];if(ce&&!ce.da&&ce.capture==w){var Ve=ce.listener,Mt=ce.ha||ce.src;ce.fa&&Kr(f.i,ce),G=Ve.call(Mt,R)!==!1&&G}}return G&&!R.defaultPrevented}function an(f,_,w){if(typeof f=="function")w&&(f=x(f,w));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(f,_||0)}function Qu(f){f.g=an(()=>{f.g=null,f.i&&(f.i=!1,Qu(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class vm extends ue{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(f){ue.call(this),this.h=f,this.g={}}S(Jr,ue);var ea=[];function ta(f){le(f.g,function(_,w){this.g.hasOwnProperty(w)&&no(_)},f),f.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),ta(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=h.JSON.stringify,so=h.JSON.parse,na=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Ml(){}Ml.prototype.h=null;function kl(f){return f.h||(f.h=f.i())}function jl(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){oe.call(this,"d")}S(Zi,oe);function Pl(){oe.call(this,"c")}S(Pl,oe);var Ei={},Ll=null;function Hs(){return Ll=Ll||new gt}Ei.La="serverreachability";function ro(f){oe.call(this,Ei.La,f)}S(ro,oe);function qs(f){const _=Hs();Ke(_,new ro(_))}Ei.STAT_EVENT="statevent";function Xu(f,_){oe.call(this,Ei.STAT_EVENT,f),this.stat=_}S(Xu,oe);function ut(f){const _=Hs();Ke(_,new Xu(_,f))}Ei.Ma="timingevent";function Ot(f,_){oe.call(this,Ei.Ma,f),this.size=_}S(Ot,oe);function Tt(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},_)}function qn(){this.g=!0}qn.prototype.xa=function(){this.g=!1};function Vl(f,_,w,R,G,X){f.info(function(){if(f.g)if(X)for(var ce="",Ve=X.split("&"),Mt=0;Mt<Ve.length;Mt++){var Ue=Ve[Mt].split("=");if(1<Ue.length){var Ht=Ue[0];Ue=Ue[1];var kt=Ht.split("_");ce=2<=kt.length&&kt[1]=="type"?ce+(Ht+"="+Ue+"&"):ce+(Ht+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+_+`
`+w+`
`+ce})}function _m(f,_,w,R,G,X,ce){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+_+`
`+w+`
`+X+" "+ce})}function Gs(f,_,w,R){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ia(f,w)+(R?" "+R:"")})}function Zu(f,_){f.info(function(){return"TIMEOUT: "+_})}qn.prototype.info=function(){};function ia(f,_){if(!f.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var R=w[f];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return ri(w)}catch{return _}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ti;function Si(){}S(Si,Ml),Si.prototype.g=function(){return new XMLHttpRequest},Si.prototype.i=function(){return{}},Ti=new Si;function pn(f,_,w,R){this.j=f,this.i=_,this.l=w,this.R=R||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Ul={},ao={};function ai(f,_,w){f.L=1,f.v=la(Dn(_)),f.m=w,f.P=!0,es(f,null)}function es(f,_){f.F=Date.now(),sa(f),f.A=Dn(f.v);var w=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Gl(w.i,"t",R),f.C=0,w=f.j.J,f.h=new _t,f.g=mh(f.j,w?_:null,!f.m),0<f.O&&(f.M=new vm(x(f.Y,f,f.g),f.O)),_=f.U,w=f.g,R=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(ea[0]=G.toString()),G=ea);for(var X=0;X<G.length;X++){var ce=$u(w,G[X],R||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),qs(),Vl(f.i,f.u,f.A,f.l,f.R,f.m)}pn.prototype.ca=function(f){f=f.target;const _=this.M;_&&$n(f)==3?_.j():this.Y(f)},pn.prototype.Y=function(f){try{if(f==this.g)e:{const kt=$n(this.g);var _=this.g.Ba();const ls=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||kt!=4||_==7||(_==8||0>=ls?qs(3):qs(2)),Ws(this);var w=this.g.Z();this.X=w;t:if(Ju(this)){var R=ah(this.g);f="";var G=R.length,X=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),Ai(this);var ce="";break t}this.h.i=new h.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,f+=this.h.i.decode(R[_],{stream:!(X&&_==G-1)});R.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=w==200,_m(this.i,this.u,this.A,this.l,this.R,kt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Mt=this.g;if((Ve=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ve)){var Ue=Ve;break t}}Ue=null}if(w=Ue)Gs(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,w);else{this.o=!1,this.s=3,ut(12),Qt(this),Ai(this);break e}}if(this.P){w=!0;let Xt;for(;!this.J&&this.C<ce.length;)if(Xt=eh(this,ce),Xt==ao){kt==4&&(this.s=4,ut(14),w=!1),Gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Ul){this.s=4,ut(15),Gs(this.i,this.l,ce,"[Invalid Chunk]"),w=!1;break}else Gs(this.i,this.l,Xt,null),ra(this,Xt);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ce.length!=0||this.h.h||(this.s=1,ut(16),w=!1),this.o=this.o&&w,!w)Gs(this.i,this.l,ce,"[Invalid Chunked Response]"),Qt(this),Ai(this);else if(0<ce.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),pa(Ht),Ht.M=!0,ut(11))}}else Gs(this.i,this.l,ce,null),ra(this,ce);kt==4&&Qt(this),this.o&&!this.J&&(kt==4?hh(this.j,this):(this.o=!1,sa(this)))}else Tm(this.g),w==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Qt(this),Ai(this)}}}catch{}finally{}};function Ju(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function eh(f,_){var w=f.C,R=_.indexOf(`
`,w);return R==-1?ao:(w=Number(_.substring(w,R)),isNaN(w)?Ul:(R+=1,R+w>_.length?ao:(_=_.slice(R,R+w),f.C=R+w,_)))}pn.prototype.cancel=function(){this.J=!0,Qt(this)};function sa(f){f.S=Date.now()+f.I,th(f,f.I)}function th(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Tt(x(f.ba,f),_)}function Ws(f){f.B&&(h.clearTimeout(f.B),f.B=null)}pn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Zu(this.i,this.A),this.L!=2&&(qs(),ut(17)),Qt(this),this.s=2,Ai(this)):th(this,this.S-f)};function Ai(f){f.j.G==0||f.J||hh(f.j,f)}function Qt(f){Ws(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,ta(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function ra(f,_){try{var w=f.j;if(w.G!=0&&(w.g==f||zl(w.h,f))){if(!f.K&&zl(w.h,f)&&w.G==3){try{var R=w.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)_o(w),yo(w);else break e;Ql(w),ut(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=Tt(x(w.Za,w),6e3));if(1>=lo(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else os(w,11)}else if((f.K||w.g==f)&&_o(w),!U(_))for(G=w.Da.g.parse(_),_=0;_<G.length;_++){let Ue=G[_];if(w.T=Ue[0],Ue=Ue[1],w.G==2)if(Ue[0]=="c"){w.K=Ue[1],w.ia=Ue[2];const Ht=Ue[3];Ht!=null&&(w.la=Ht,w.j.info("VER="+w.la));const kt=Ue[4];kt!=null&&(w.Aa=kt,w.j.info("SVER="+w.Aa));const ls=Ue[5];ls!=null&&typeof ls=="number"&&0<ls&&(R=1.5*ls,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Xt=f.g;if(Xt){const Mi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var X=R.h;X.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(co(X,X.h),X.h=null))}if(R.D){const Zl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(R.ya=Zl,et(R.I,R.D,Zl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var ce=f;if(R.qa=fh(R,R.J?R.ia:null,R.W),ce.K){yn(R.h,ce);var Ve=ce,Mt=R.L;Mt&&(Ve.I=Mt),Ve.B&&(Ws(Ve),sa(Ve)),R.g=ce}else ch(R);0<w.i.length&&vo(w)}else Ue[0]!="stop"&&Ue[0]!="close"||os(w,7);else w.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?os(w,7):$l(w):Ue[0]!="noop"&&w.l&&w.l.ta(Ue),w.v=0)}}qs(4)}catch{}}var nh=class{constructor(f,_){this.g=f,this.map=_}};function ts(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function lo(f){return f.h?1:f.g?f.g.size:0}function zl(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function co(f,_){f.g?f.g.add(_):f.h=_}function yn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ts.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Bl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const w of f.g.values())_=_.concat(w.D);return _}return I(f.i)}function bm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],w=f.length,R=0;R<w;R++)_.push(f[R]);return _}_=[],w=0;for(R in f)_[w++]=f[R];return _}function uo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var w=0;w<f;w++)_.push(w);return _}_=[],w=0;for(const R in f)_[w++]=R;return _}}}function Fl(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var w=uo(f),R=bm(f),G=R.length,X=0;X<G;X++)_.call(void 0,R[X],w&&w[X],f)}var aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xm(f,_){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var R=f[w].indexOf("="),G=null;if(0<=R){var X=f[w].substring(0,R);G=f[w].substring(R+1)}else X=f[w];_(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function St(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof St){this.h=f.h,oa(this,f.j),this.o=f.o,this.g=f.g,$s(this,f.s),this.l=f.l;var _=f.i,w=new is;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),ns(this,w),this.m=f.m}else f&&(_=String(f).match(aa))?(this.h=!1,oa(this,_[1]||"",!0),this.o=Gn(_[2]||""),this.g=Gn(_[3]||"",!0),$s(this,_[4]),this.l=Gn(_[5]||"",!0),ns(this,_[6]||"",!0),this.m=Gn(_[7]||"")):(this.h=!1,this.i=new is(null,this.h))}St.prototype.toString=function(){var f=[],_=this.j;_&&f.push(ca(_,Hl,!0),":");var w=this.g;return(w||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ca(_,Hl,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ca(w,w.charAt(0)=="/"?wm:ql,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ca(w,ho)),f.join("")};function Dn(f){return new St(f)}function oa(f,_,w){f.j=w?Gn(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function $s(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function ns(f,_,w){_ instanceof is?(f.i=_,sh(f.i,f.h)):(w||(_=ca(_,Em)),f.i=new is(_,f.h))}function et(f,_,w){f.i.set(_,w)}function la(f){return et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Gn(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ca(f,_,w){return typeof f=="string"?(f=encodeURI(f).replace(_,ih),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ih(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Hl=/[#\/\?@]/g,ql=/[#\?:]/g,wm=/[#\?]/g,Em=/[#\?@]/g,ho=/#/g;function is(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Yn(f){f.g||(f.g=new Map,f.h=0,f.i&&xm(f.i,function(_,w){f.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=is.prototype,n.add=function(f,_){Yn(this),this.i=null,f=Ri(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(_),this.h+=1,this};function ss(f,_){Yn(f),_=Ri(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function rs(f,_){return Yn(f),_=Ri(f,_),f.g.has(_)}n.forEach=function(f,_){Yn(this),this.g.forEach(function(w,R){w.forEach(function(G){f.call(_,G,R,this)},this)},this)},n.na=function(){Yn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let R=0;R<_.length;R++){const G=f[R];for(let X=0;X<G.length;X++)w.push(_[R])}return w},n.V=function(f){Yn(this);let _=[];if(typeof f=="string")rs(this,f)&&(_=_.concat(this.g.get(Ri(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)_=_.concat(f[w])}return _},n.set=function(f,_){return Yn(this),this.i=null,f=Ri(this,f),rs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Gl(f,_,w){ss(f,_),0<w.length&&(f.i=null,f.g.set(Ri(f,_),I(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var R=_[w];const X=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var G=X;ce[R]!==""&&(G+="="+encodeURIComponent(String(ce[R]))),f.push(G)}}return this.i=f.join("&")};function Ri(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function sh(f,_){_&&!f.j&&(Yn(f),f.i=null,f.g.forEach(function(w,R){var G=R.toLowerCase();R!=G&&(ss(this,R),Gl(this,G,w))},f)),f.j=_}function ua(f,_){const w=new qn;if(h.Image){const R=new Image;R.onload=T(Wn,w,"TestLoadImage: loaded",!0,_,R),R.onerror=T(Wn,w,"TestLoadImage: error",!1,_,R),R.onabort=T(Wn,w,"TestLoadImage: abort",!1,_,R),R.ontimeout=T(Wn,w,"TestLoadImage: timeout",!1,_,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else _(!1)}function oi(f,_){const w=new qn,R=new AbortController,G=setTimeout(()=>{R.abort(),Wn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:R.signal}).then(X=>{clearTimeout(G),X.ok?Wn(w,"TestPingServer: ok",!0,_):Wn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Wn(w,"TestPingServer: error",!1,_)})}function Wn(f,_,w,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(w)}catch{}}function ha(){this.g=new na}function Ci(f,_,w){const R=w||"";try{Fl(f,function(G,X){let ce=G;m(G)&&(ce=ri(G)),_.push(R+X+"="+encodeURIComponent(ce))})}catch(G){throw _.push(R+"type="+encodeURIComponent("_badmap")),G}}function Ks(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Ks,Ml),Ks.prototype.g=function(){return new as(this.l,this.j)},Ks.prototype.i=function(f){return function(){return f}}({});function as(f,_){gt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(as,gt),n=as.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Ii(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ni(this):Ii(this),this.readyState==3&&Yl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ni(this))},n.Qa=function(f){this.g&&(this.response=f,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ii(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=_.next();return f.join(`\r
`)};function Ii(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Wl(f){let _="";return le(f,function(w,R){_+=R,_+=":",_+=w,_+=`\r
`}),_}function Ft(f,_,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Wl(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):et(f,_,w))}function We(f){gt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(We,gt);var fo=/^https?$/i,da=["POST","PUT"];n=We.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ti.g(),this.v=this.o?kl(this.o):kl(Ti),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(X){rh(this,X);return}if(f=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)w.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())w.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),G=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(da,_,void 0))||R||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of w)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){rh(this,X)}};function rh(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,mo(f),Di(f)}function mo(f){f.A||(f.A=!0,Ke(f,"complete"),Ke(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ke(this,"complete"),Ke(this,"abort"),Di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?go(this):this.bb())},n.bb=function(){go(this)};function go(f){if(f.h&&typeof c<"u"&&(!f.v[1]||$n(f)!=4||f.Z()!=2)){if(f.u&&$n(f)==4)an(f.Ea,0,f);else if(Ke(f,"readystatechange"),$n(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var R;if(R=ce===0){var G=String(f.D).match(aa)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),R=!fo.test(G?G.toLowerCase():"")}w=R}if(w)Ke(f,"complete"),Ke(f,"success");else{f.m=6;try{var X=2<$n(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",mo(f)}}finally{Di(f)}}}}function Di(f,_){if(f.g){fa(f);const w=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Ke(f,"ready");try{w.onreadystatechange=R}catch{}}}function fa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function $n(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),so(_)}};function ah(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Tm(f){const _={};f=(f.g&&2<=$n(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(U(f[R]))continue;var w=L(f[R]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=_[G]||[];_[G]=X,X.push(w)}M(_,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(f,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||_}function po(f){this.Aa=0,this.i=[],this.j=new qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,f),this.cb=ma("retryDelaySeedMs",1e4,f),this.Wa=ma("forwardChannelMaxRetries",2,f),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(f&&f.concurrentRequestLimit),this.Da=new ha,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=po.prototype,n.la=8,n.G=1,n.connect=function(f,_,w,R){ut(0),this.W=f,this.H=_||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=fh(this,null,this.W),vo(this)};function $l(f){if(oh(f),f.G==3){var _=f.U++,w=Dn(f.I);if(et(w,"SID",f.K),et(w,"RID",_),et(w,"TYPE","terminate"),ga(f,w),_=new pn(f,f.j,_),_.L=2,_.v=la(Dn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=_.v,w=!0),w||(_.g=mh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),sa(_)}dh(f)}function yo(f){f.g&&(pa(f),f.g.cancel(),f.g=null)}function oh(f){yo(f),f.u&&(h.clearTimeout(f.u),f.u=null),_o(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function vo(f){if(!oo(f.h)&&!f.s){f.s=!0;var _=f.Ga;ae||z(),fe||(ae(),fe=!0),Te.add(_,f),f.B=0}}function Sm(f,_){return lo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Tt(x(f.Ga,f,_),Xl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new pn(this,this.j,f);let X=this.o;if(this.S&&(X?(X=N(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=lh(this,G,_),w=Dn(this.I),et(w,"RID",f),et(w,"CVER",22),this.D&&et(w,"X-HTTP-Session-Id",this.D),ga(this,w),X&&(this.O?_="headers="+encodeURIComponent(String(Wl(X)))+"&"+_:this.m&&Ft(w,this.m,X)),co(this.h,G),this.Ua&&et(w,"TYPE","init"),this.P?(et(w,"$req",_),et(w,"SID","null"),G.T=!0,ai(G,w,null)):ai(G,w,_),this.G=2}}else this.G==3&&(f?Kl(this,f):this.i.length==0||oo(this.h)||Kl(this))};function Kl(f,_){var w;_?w=_.l:w=f.U++;const R=Dn(f.I);et(R,"SID",f.K),et(R,"RID",w),et(R,"AID",f.T),ga(f,R),f.m&&f.o&&Ft(R,f.m,f.o),w=new pn(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),_&&(f.i=_.D.concat(f.i)),_=lh(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),co(f.h,w),ai(w,R,_)}function ga(f,_){f.H&&le(f.H,function(w,R){et(_,R,w)}),f.l&&Fl({},function(w,R){et(_,R,w)})}function lh(f,_,w){w=Math.min(f.i.length,w);var R=f.l?x(f.l.Na,f.l,f):null;e:{var G=f.i;let X=-1;for(;;){const ce=["count="+w];X==-1?0<w?(X=G[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let Ve=!0;for(let Mt=0;Mt<w;Mt++){let Ue=G[Mt].g;const Ht=G[Mt].map;if(Ue-=X,0>Ue)X=Math.max(0,G[Mt].g-100),Ve=!1;else try{Ci(Ht,ce,"req"+Ue+"_")}catch{R&&R(Ht)}}if(Ve){R=ce.join("&");break e}}}return f=f.i.splice(0,w),_.D=f,R}function ch(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;ae||z(),fe||(ae(),fe=!0),Te.add(_,f),f.v=0}}function Ql(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Tt(x(f.Fa,f),Xl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Tt(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),yo(this),uh(this))};function pa(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function uh(f){f.g=new pn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Dn(f.qa);et(_,"RID","rpc"),et(_,"SID",f.K),et(_,"AID",f.T),et(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&et(_,"TO",f.ja),et(_,"TYPE","xmlhttp"),ga(f,_),f.m&&f.o&&Ft(_,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=la(Dn(_)),w.m=null,w.P=!0,es(w,f)}n.Za=function(){this.C!=null&&(this.C=null,yo(this),Ql(this),ut(19))};function _o(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function hh(f,_){var w=null;if(f.g==_){_o(f),pa(f),f.g=null;var R=2}else if(zl(f.h,_))w=_.D,yn(f.h,_),R=1;else return;if(f.G!=0){if(_.o)if(R==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var G=f.B;R=Hs(),Ke(R,new Ot(R,w)),vo(f)}else ch(f);else if(G=_.s,G==3||G==0&&0<_.X||!(R==1&&Sm(f,_)||R==2&&Ql(f)))switch(w&&0<w.length&&(_=f.h,_.i=_.i.concat(w)),G){case 1:os(f,5);break;case 4:os(f,10);break;case 3:os(f,6);break;default:os(f,2)}}}function Xl(f,_){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*_}function os(f,_){if(f.j.info("Error code "+_),_==2){var w=x(f.fb,f),R=f.Xa;const G=!R;R=new St(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||oa(R,"https"),la(R),G?ua(R.toString(),w):oi(R.toString(),w)}else ut(2);f.G=0,f.l&&f.l.sa(_),dh(f),oh(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function dh(f){if(f.G=0,f.ka=[],f.l){const _=Bl(f.h);(_.length!=0||f.i.length!=0)&&(C(f.ka,_),C(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function fh(f,_,w){var R=w instanceof St?Dn(w):new St(w);if(R.g!="")_&&(R.g=_+"."+R.g),$s(R,R.s);else{var G=h.location;R=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var X=new St(null);R&&oa(X,R),_&&(X.g=_),G&&$s(X,G),w&&(X.l=w),R=X}return w=f.D,_=f.ya,w&&_&&et(R,w,_),et(R,"VER",f.la),ga(f,R),R}function mh(f,_,w){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new We(new Ks({eb:w})):new We(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gh(){}n=gh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bo(){}bo.prototype.g=function(f,_){return new vn(f,_)};function vn(f,_){gt.call(this),this.g=new po(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!U(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Oi(this)}S(vn,gt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){$l(this.g)},vn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=ri(f),f=w);_.i.push(new nh(_.Ya++,f)),_.G==3&&vo(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,vn.aa.N.call(this)};function ph(f){Zi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const w in _){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}S(ph,Zi);function yh(){Pl.call(this),this.status=1}S(yh,Pl);function Oi(f){this.g=f}S(Oi,gh),Oi.prototype.ua=function(){Ke(this.g,"a")},Oi.prototype.ta=function(f){Ke(this.g,new ph(f))},Oi.prototype.sa=function(f){Ke(this.g,new yh)},Oi.prototype.ra=function(){Ke(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,C2=function(){return new bo},R2=function(){return Hs()},A2=Ei,ty={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,Gd=Ys,Ji.COMPLETE="complete",S2=Ji,jl.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Qc=jl,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,T2=We}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const n1="@firebase/firestore",i1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Uy("@firebase/firestore");function Xo(){return Wa.logLevel}function he(n,...e){if(Wa.logLevel<=Pe.DEBUG){const t=e.map(Xy);Wa.debug(`Firestore (${Tl}): ${n}`,...t)}}function js(n,...e){if(Wa.logLevel<=Pe.ERROR){const t=e.map(Xy);Wa.error(`Firestore (${Tl}): ${n}`,...t)}}function cl(n,...e){if(Wa.logLevel<=Pe.WARN){const t=e.map(Xy);Wa.warn(`Firestore (${Tl}): ${n}`,...t)}}function Xy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,N2(n,i,t)}function N2(n,e,t){let i=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw js(i),new Error(i)}function $e(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||N2(e,r,i)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Us{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class c3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class u3{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ds,e.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ds)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new I2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class h3{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d3{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new h3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const i=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new s1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new s1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=m3(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%62))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function ny(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Oe(i,r);{const o=D2(),c=g3(o.encode(r1(n,t)),o.encode(r1(e,t)));return c!==0?c:Oe(i,r)}}t+=i>65535?2:1}return Oe(n.length,e.length)}function r1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function g3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Oe(n[t],e[t]);return Oe(n.length,e.length)}function ul(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=-62135596800,o1=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*o1);return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<a1)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o1}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-a1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ut(0,0))}static max(){return new Ae(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="__name__";class Fi{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=Fi.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return Oe(e.length,t.length)}static compareSegments(e,t){const i=Fi.isNumericId(e),r=Fi.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Fi.extractNumericId(e).compare(Fi.extractNumericId(t)):ny(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class ct extends Fi{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const p3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Fi{construct(e,t,i){return new nn(e,t,i)}static isValidIdentifier(e){return p3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l1}static keyField(){return new nn([l1])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(i.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ct.fromString(e))}static fromName(e){return new ve(ct.fromString(e).popFirst(5))}static empty(){return new ve(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function y3(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ae.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new kr(r,ve.empty(),e)}function v3(n){return new kr(n.readTime,n.key,xu)}class kr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new kr(Ae.min(),ve.empty(),xu)}static max(){return new kr(Ae.max(),ve.empty(),xu)}}function _3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==b3)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,o=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&t()},d=>i(d))}),c=!0,o===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;t(e[m]).next(y=>{c[m]=y,++h,h===o&&i(c)},y=>r(y))}})}static doWhile(e,t){return new se((i,r)=>{const o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}}function w3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Al(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-1;function qf(n){return n==null}function hf(n){return n===0&&1/n==-1/0}function E3(n){return typeof n=="number"&&Number.isInteger(n)&&!hf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="";function T3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=c1(e)),e=S3(n.get(t),e);return c1(e)}function S3(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="";break;case M2:t+="";break;default:t+=o}}return t}function c1(n){return n+M2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new tn(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,r,o){return this}insert(e,t,i){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new zn([])}unionWith(e){let t=new zt(nn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new j2("Invalid base64 string: "+o):o}}(e);return new rn(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const A3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(n){if($e(!!n,39018),typeof n=="string"){let e=0;const t=A3.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pr(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="server_timestamp",L2="__type__",V2="__previous_value__",U2="__local_write_time__";function Jy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[L2])===null||t===void 0?void 0:t.stringValue)===P2}function Gf(n){const e=n.mapValue.fields[V2];return Jy(e)?Gf(e):e}function wu(n){const e=jr(n.mapValue.fields[U2].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,t,i,r,o,c,h,d,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y}}const df="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||df}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===df}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="__type__",C3="__max__",wd={mapValue:{}},B2="__vector__",ff="value";function Lr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jy(n)?4:I3(n)?9007199254740991:N3(n)?10:11:Ee(28295,{value:n})}function $i(n,e){if(n===e)return!0;const t=Lr(n);if(t!==Lr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wu(n).isEqual(wu(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=jr(r.timestampValue),h=jr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Pr(r.bytesValue).isEqual(Pr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return wt(r.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(r.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return wt(r.integerValue)===wt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=wt(r.doubleValue),h=wt(o.doubleValue);return c===h?hf(c)===hf(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return ul(n.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(u1(c)!==u1(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!$i(c[d],h[d])))return!1;return!0}(n,e);default:return Ee(52216,{left:n})}}function Tu(n,e){return(n.values||[]).find(t=>$i(t,e))!==void 0}function hl(n,e){if(n===e)return 0;const t=Lr(n),i=Lr(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(o,c){const h=wt(o.integerValue||o.doubleValue),d=wt(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return d1(n.timestampValue,e.timestampValue);case 4:return d1(wu(n),wu(e));case 5:return ny(n.stringValue,e.stringValue);case 6:return function(o,c){const h=Pr(o),d=Pr(c);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Oe(h[m],d[m]);if(y!==0)return y}return Oe(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Oe(wt(o.latitude),wt(c.latitude));return h!==0?h:Oe(wt(o.longitude),wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return f1(n.arrayValue,e.arrayValue);case 10:return function(o,c){var h,d,m,y;const b=o.fields||{},x=c.fields||{},T=(h=b[ff])===null||h===void 0?void 0:h.arrayValue,S=(d=x[ff])===null||d===void 0?void 0:d.arrayValue,I=Oe(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:f1(T,S)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===wd.mapValue&&c===wd.mapValue)return 0;if(o===wd.mapValue)return 1;if(c===wd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let b=0;b<d.length&&b<y.length;++b){const x=ny(d[b],y[b]);if(x!==0)return x;const T=hl(h[d[b]],m[y[b]]);if(T!==0)return T}return Oe(d.length,y.length)}(n.mapValue,e.mapValue);default:throw Ee(23264,{Pe:t})}}function d1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=jr(n),i=jr(e),r=Oe(t.seconds,i.seconds);return r!==0?r:Oe(t.nanos,i.nanos)}function f1(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const o=hl(t[r],i[r]);if(o)return o}return Oe(t.length,i.length)}function dl(n){return iy(n)}function iy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=jr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=iy(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${iy(t.fields[c])}`;return r+"}"}(n.mapValue):Ee(61005,{value:n})}function Yd(n){switch(Lr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gf(n);return e?16+Yd(e):16;case 5:return 2*n.stringValue.length;case 6:return Pr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Yd(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Gr(i.fields,(o,c)=>{r+=o.length+Yd(c)}),r}(n.mapValue);default:throw Ee(13486,{value:n})}}function m1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sy(n){return!!n&&"integerValue"in n}function e0(n){return!!n&&"arrayValue"in n}function g1(n){return!!n&&"nullValue"in n}function p1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wd(n){return!!n&&"mapValue"in n}function N3(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[z2])===null||t===void 0?void 0:t.stringValue)===B2}function lu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=lu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function I3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===C3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=nn.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=lu(c):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Wd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Gr(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Rn(lu(this.value))}}function F2(n){const e=[];return Gr(n.fields,(t,i)=>{const r=new nn([t]);if(Wd(i)){const o=F2(i.mapValue).fields;if(o.length===0)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,i,r,o,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new hn(e,0,Ae.min(),Ae.min(),Ae.min(),Rn.empty(),0)}static newFoundDocument(e,t,i,r){return new hn(e,1,t,Ae.min(),i,r,0)}static newNoDocument(e,t){return new hn(e,2,t,Ae.min(),Ae.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Ae.min(),Ae.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.position=e,this.inclusive=t}}function y1(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],c=n.position[r];if(o.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=hl(c,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function v1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$i(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t="asc"){this.field=e,this.dir=t}}function D3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{}class Nt extends H2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new M3(e,t,i):t==="array-contains"?new P3(e,i):t==="in"?new L3(e,i):t==="not-in"?new V3(e,i):t==="array-contains-any"?new U3(e,i):new Nt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new k3(e,i):new j3(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hl(t,this.value)):t!==null&&Lr(this.value)===Lr(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends H2{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new yi(e,t)}matches(e){return q2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function q2(n){return n.op==="and"}function G2(n){return O3(n)&&q2(n)}function O3(n){for(const e of n.filters)if(e instanceof yi)return!1;return!0}function ry(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+dl(n.value);if(G2(n))return n.filters.map(e=>ry(e)).join(",");{const e=n.filters.map(t=>ry(t)).join(",");return`${n.op}(${e})`}}function Y2(n,e){return n instanceof Nt?function(i,r){return r instanceof Nt&&i.op===r.op&&i.field.isEqual(r.field)&&$i(i.value,r.value)}(n,e):n instanceof yi?function(i,r){return r instanceof yi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&Y2(c,r.filters[h]),!0):!1}(n,e):void Ee(19439)}function W2(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${dl(t.value)}`}(n):n instanceof yi?function(t){return t.op.toString()+" {"+t.getFilters().map(W2).join(" ,")+"}"}(n):"Filter"}class M3 extends Nt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class k3 extends Nt{constructor(e,t){super(e,"in",t),this.keys=$2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class j3 extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=$2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class P3 extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return e0(t)&&Tu(t.arrayValue,this.value)}}class L3 extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class V3 extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}}class U3 extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!e0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Tu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t=null,i=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Ie=null}}function _1(n,e=null,t=[],i=[],r=null,o=null,c=null){return new z3(n,e,t,i,r,o,c)}function t0(n){const e=Ce(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ry(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),qf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>dl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>dl(i)).join(",")),e.Ie=t}return e.Ie}function n0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!D3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Y2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!v1(n.startAt,e.startAt)&&v1(n.endAt,e.endAt)}function ay(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t=null,i=[],r=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function B3(n,e,t,i,r,o,c,h){return new Rl(n,e,t,i,r,o,c,h)}function Yf(n){return new Rl(n)}function b1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function K2(n){return n.collectionGroup!==null}function cu(n){const e=Ce(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new zt(nn.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Su(o,i))}),t.has(nn.keyField().canonicalString())||e.Ee.push(new Su(nn.keyField(),i))}return e.Ee}function Yi(n){const e=Ce(n);return e.de||(e.de=F3(e,cu(n))),e.de}function F3(n,e){if(n.limitType==="F")return _1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Su(r.field,o)});const t=n.endAt?new mf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new mf(n.startAt.position,n.startAt.inclusive):null;return _1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function oy(n,e){const t=n.filters.concat([e]);return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ly(n,e,t){return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wf(n,e){return n0(Yi(n),Yi(e))&&n.limitType===e.limitType}function Q2(n){return`${t0(Yi(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>W2(r)).join(", ")}]`),qf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>dl(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>dl(r)).join(",")),`Target(${i})`}(Yi(n))}; limitType=${n.limitType})`}function $f(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ve.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of cu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(c,h,d){const m=y1(c,h,d);return c.inclusive?m<=0:m<0}(i.startAt,cu(i),r)||i.endAt&&!function(c,h,d){const m=y1(c,h,d);return c.inclusive?m>=0:m>0}(i.endAt,cu(i),r))}(n,e)}function H3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X2(n){return(e,t)=>{let i=!1;for(const r of cu(n)){const o=q3(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function q3(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?hl(d,m):Ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return k2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new mt(ve.comparator);function Ps(){return G3}const Z2=new mt(ve.comparator);function Xc(...n){let e=Z2;for(const t of n)e=e.insert(t.key,t);return e}function J2(n){let e=Z2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Va(){return uu()}function eT(){return uu()}function uu(){return new Ja(n=>n.toString(),(n,e)=>n.isEqual(e))}const Y3=new mt(ve.comparator),W3=new zt(ve.comparator);function Le(...n){let e=W3;for(const t of n)e=e.add(t);return e}const $3=new zt(Oe);function K3(){return $3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(e)?"-0":e}}function tT(n){return{integerValue:""+n}}function Q3(n,e){return E3(e)?tT(e):i0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function X3(n,e,t){return n instanceof Au?function(r,o){const c={fields:{[L2]:{stringValue:P2},[U2]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Jy(o)&&(o=Gf(o)),o&&(c.fields[V2]=o),{mapValue:c}}(t,e):n instanceof Ru?iT(n,e):n instanceof Cu?sT(n,e):function(r,o){const c=nT(r,o),h=x1(c)+x1(r.Re);return sy(c)&&sy(r.Re)?tT(h):i0(r.serializer,h)}(n,e)}function Z3(n,e,t){return n instanceof Ru?iT(n,e):n instanceof Cu?sT(n,e):t}function nT(n,e){return n instanceof gf?function(i){return sy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Au extends Kf{}class Ru extends Kf{constructor(e){super(),this.elements=e}}function iT(n,e){const t=rT(e);for(const i of n.elements)t.some(r=>$i(r,i))||t.push(i);return{arrayValue:{values:t}}}class Cu extends Kf{constructor(e){super(),this.elements=e}}function sT(n,e){let t=rT(e);for(const i of n.elements)t=t.filter(r=>!$i(r,i));return{arrayValue:{values:t}}}class gf extends Kf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function x1(n){return wt(n.integerValue||n.doubleValue)}function rT(n){return e0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,t){this.field=e,this.transform=t}}function eD(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Ru&&r instanceof Ru||i instanceof Cu&&r instanceof Cu?ul(i.elements,r.elements,$i):i instanceof gf&&r instanceof gf?$i(i.Re,r.Re):i instanceof Au&&r instanceof Au}(n.transform,e.transform)}class tD{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qf{}function aT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new lT(n.key,mi.none()):new Bu(n.key,n.data,mi.none());{const t=n.data,i=Rn.empty();let r=new zt(nn.comparator);for(let o of e.fields)if(!r.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Yr(n.key,i,new zn(r.toArray()),mi.none())}}function nD(n,e,t){n instanceof Bu?function(r,o,c){const h=r.value.clone(),d=E1(r.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Yr?function(r,o,c){if(!$d(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=E1(r.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(oT(r)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function hu(n,e,t,i){return n instanceof Bu?function(o,c,h,d){if(!$d(o.precondition,c))return h;const m=o.value.clone(),y=T1(o.fieldTransforms,d,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Yr?function(o,c,h,d){if(!$d(o.precondition,c))return h;const m=T1(o.fieldTransforms,d,c),y=c.data;return y.setAll(oT(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(o,c,h){return $d(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function iD(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=nT(i.transform,r||null);o!=null&&(t===null&&(t=Rn.empty()),t.set(i.field,o))}return t||null}function w1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ul(i,r,(o,c)=>eD(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bu extends Qf{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yr extends Qf{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function oT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function E1(n,e,t){const i=new Map;$e(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){const o=n[r],c=o.transform,h=e.data.field(o.field);i.set(o.field,Z3(c,h,t[r]))}return i}function T1(n,e,t){const i=new Map;for(const r of n){const o=r.transform,c=t.data.field(r.field);i.set(r.field,X3(o,c,e))}return i}class lT extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&nD(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=eT();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(r.key)?null:h;const d=aT(c,h);d!==null&&i.set(r.key,d),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(t,i)=>w1(t,i))&&ul(this.baseMutations,e.baseMutations,(t,i)=>w1(t,i))}}class s0{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){$e(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return Y3}();const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new s0(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Be;function lD(n){switch(n){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function cT(n){if(n===void 0)return js("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Ct.OK:return ie.OK;case Ct.CANCELLED:return ie.CANCELLED;case Ct.UNKNOWN:return ie.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ie.INTERNAL;case Ct.UNAVAILABLE:return ie.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ie.NOT_FOUND;case Ct.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ct.ABORTED:return ie.ABORTED;case Ct.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ct.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:n})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Dr([4294967295,4294967295],0);function S1(n){const e=D2().encode(n),t=new E2;return t.update(e),new Uint8Array(t.digest())}function A1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dr([t,i],0),new Dr([r,o],0)]}class r0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Zc(`Invalid padding: ${t}`);if(i<0)throw new Zc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Zc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Zc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Dr.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(Dr.fromNumber(i)));return r.compare(cD)===1&&(r=new Dr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=S1(e),[i,r]=A1(t);for(let o=0;o<this.hashCount;o++){const c=this.we(i,r,o);if(!this.be(c))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new r0(o,r,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=S1(e),[i,r]=A1(t);for(let o=0;o<this.hashCount;o++){const c=this.we(i,r,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xf(Ae.min(),r,new mt(Oe),Ps(),Le())}}class Fu{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Fu(i,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}}class uT{constructor(e,t){this.targetId=e,this.Ce=t}}class hT{constructor(e,t,i=rn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class R1{constructor(){this.Fe=0,this.Me=C1(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),t=Le(),i=Le();return this.Me.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ee(38017,{changeType:o})}}),new Fu(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=C1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class uD{constructor(e){this.ze=e,this.je=new Map,this.He=Ps(),this.Je=Ed(),this.Ye=Ed(),this.Ze=new mt(Oe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){const o=r.target;if(ay(o))if(i===0){const c=new ve(o.path);this.tt(t,c,hn.newNoDocument(c,Ae.min()))}else $e(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const h=this.ct(e),d=h?this.lt(h,e,c):1;if(d!==0){this.st(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let c,h;try{c=Pr(i).toUint8Array()}catch(d){if(d instanceof j2)return cl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new r0(c,r,o)}catch(d){return cl(d instanceof Zc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.pe===0?null:h}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),r++)}),r}It(e){const t=new Map;this.je.forEach((o,c)=>{const h=this._t(c);if(h){if(o.current&&ay(h.target)){const d=new ve(h.target.path);this.Et(d).has(c)||this.dt(c,d)||this.tt(c,d,hn.newNoDocument(d,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let i=Le();this.Ye.forEach((o,c)=>{let h=!0;c.forEachWhile(d=>{const m=this._t(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const r=new Xf(e,t,this.Ze,this.He,i);return this.He=Ps(),this.Je=Ed(),this.Ye=Ed(),this.Ze=new mt(Oe),r}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new R1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new zt(Oe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new zt(Oe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new R1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ed(){return new mt(ve.comparator)}function C1(){return new mt(ve.comparator)}const hD={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fD={and:"AND",or:"OR"};class mD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cy(n,e){return n.useProto3Json||qf(e)?e:{value:e}}function pf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gD(n,e){return pf(n,e.toTimestamp())}function Wi(n){return $e(!!n,49232),Ae.fromTimestamp(function(t){const i=jr(t);return new Ut(i.seconds,i.nanos)}(n))}function a0(n,e){return uy(n,e).canonicalString()}function uy(n,e){const t=function(r){return new ct(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function fT(n){const e=ct.fromString(n);return $e(vT(e),10190,{key:e.toString()}),e}function hy(n,e){return a0(n.databaseId,e.path)}function Dp(n,e){const t=fT(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(gT(t))}function mT(n,e){return a0(n.databaseId,e)}function pD(n){const e=fT(n);return e.length===4?ct.emptyPath():gT(e)}function dy(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gT(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function N1(n,e,t){return{name:hy(n,e),fields:t.value.mapValue.fields}}function yD(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?($e(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const y=m.code===void 0?ie.UNKNOWN:cT(m.code);return new de(y,m.message||"")}(c);t=new hT(i,r,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Dp(n,i.document.name),o=Wi(i.document.updateTime),c=i.document.createTime?Wi(i.document.createTime):Ae.min(),h=new Rn({mapValue:{fields:i.document.fields}}),d=hn.newFoundDocument(r,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new Kd(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Dp(n,i.document),o=i.readTime?Wi(i.readTime):Ae.min(),c=hn.newNoDocument(r,o),h=i.removedTargetIds||[];t=new Kd([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Dp(n,i.document),o=i.removedTargetIds||[];t=new Kd([],o,r,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new oD(r,o),h=i.targetId;t=new uT(h,c)}}return t}function vD(n,e){let t;if(e instanceof Bu)t={update:N1(n,e.key,e.value)};else if(e instanceof lT)t={delete:hy(n,e.key)};else if(e instanceof Yr)t={update:N1(n,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof sD))return Ee(16599,{ft:e.type});t={verify:hy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof Au)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof gf)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Ee(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:gD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee(27497)}(n,e.precondition)),t}function _D(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map(t=>function(r,o){let c=r.updateTime?Wi(r.updateTime):Wi(o);return c.isEqual(Ae.min())&&(c=Wi(o)),new tD(c,r.transformResults||[])}(t,e))):[]}function bD(n,e){return{documents:[mT(n,e.path)]}}function xD(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=mT(n,r);const o=function(m){if(m.length!==0)return yT(yi.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(y=>function(x){return{field:Jo(x.field),direction:TD(x.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=cy(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:r}}function wD(n){let e=pD(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){$e(i===1,65062);const y=t.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(b){const x=pT(b);return x instanceof yi&&G2(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(x=>function(S){return new Su(el(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(x))}(t.orderBy));let h=null;t.limit&&(h=function(b){let x;return x=typeof b=="object"?b.value:b,qf(x)?null:x}(t.limit));let d=null;t.startAt&&(d=function(b){const x=!!b.before,T=b.values||[];return new mf(T,x)}(t.startAt));let m=null;return t.endAt&&(m=function(b){const x=!b.before,T=b.values||[];return new mf(T,x)}(t.endAt)),B3(e,r,c,o,h,"F",d,m)}function ED(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=el(t.unaryFilter.field);return Nt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=el(t.unaryFilter.field);return Nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=el(t.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(t.unaryFilter.field);return Nt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(el(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yi.create(t.compositeFilter.filters.map(i=>pT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(n):Ee(30097,{filter:n})}function TD(n){return hD[n]}function SD(n){return dD[n]}function AD(n){return fD[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function el(n){return nn.fromServerFormat(n.fieldPath)}function yT(n){return n instanceof Nt?function(t){if(t.op==="=="){if(p1(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(g1(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(p1(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(g1(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:SD(t.op),value:t.value}}}(n):n instanceof yi?function(t){const i=t.getFilters().map(r=>yT(r));return i.length===1?i[0]:{compositeFilter:{op:AD(t.op),filters:i}}}(n):Ee(54877,{filter:n})}function RD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t,i,r,o=Ae.min(),c=Ae.min(),h=rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.wt=e}}function ND(n){const e=wD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.Cn=new DD}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(kr.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class DD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new zt(ct.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new zt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(_T,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fl(0)}static lr(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="LruGarbageCollector",OD=1048576;function O1([n,e],[t,i]){const r=Oe(n,t);return r===0?Oe(e,i):r}class MD{constructor(e){this.Er=e,this.buffer=new zt(O1),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();O1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(D1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Al(t)?he(D1,"Ignoring IndexedDB error during garbage collection: ",t):await Sl(t)}await this.mr(3e5)})}}class jD{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Hf.le);const i=new MD(t);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(I1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,r,o,c,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,c=Date.now(),this.nthSequenceNumber(e,r))).next(b=>(i=b,h=Date.now(),this.removeTargets(e,i,t))).next(b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(m=Date.now(),Xo()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:b})))}}function PD(n,e){return new jD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.changes=new Ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&hu(i.mutation,r,zn.empty(),Ut.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Le()){const r=Va();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let c=Xc();return o.forEach((h,d)=>{c=c.insert(h,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Va();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Le()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let o=Ps();const c=uu(),h=function(){return uu()}();return t.forEach((d,m)=>{const y=i.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof Yr)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),hu(y.mutation,m,y.mutation.getFieldMask(),Ut.now())):c.set(m.key,zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,y)=>c.set(m,y)),t.forEach((m,y)=>{var b;return h.set(m,new VD(y,(b=c.get(m))!==null&&b!==void 0?b:null))}),h))}recalculateAndSaveOverlays(e,t){const i=uu();let r=new mt((c,h)=>c-h),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let y=i.get(d)||zn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const b=(r.get(h.batchId)||Le()).add(d);r=r.insert(h.batchId,b)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,b=eT();y.forEach(x=>{if(!o.has(x)){const T=aT(t.get(x),i.get(x));T!==null&&b.set(x,T),o=o.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return se.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):K2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):se.resolve(Va());let h=xu,d=o;return c.next(m=>se.forEach(m,(y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(x=>{d=d.insert(y,x)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,Le())).next(y=>({batchId:h,changes:J2(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let r=Xc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let c=Xc();return this.indexManager.getCollectionParents(e,o).next(h=>se.forEach(h,d=>{const m=function(b,x){return new Rl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,r).next(y=>{y.forEach((b,x)=>{c=c.insert(b,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(c=>{o.forEach((d,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,hn.newInvalidDocument(y)))});let h=Xc();return c.forEach((d,m)=>{const y=o.get(d);y!==void 0&&hu(y.mutation,m,zn.empty(),Ut.now()),$f(t,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return se.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Wi(r.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(r){return{name:r.name,query:ND(r.bundledQuery),readTime:Wi(r.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.overlays=new mt(ve.comparator),this.Qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Va();return se.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.St(e,t,o)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Va(),o=t.length+1,c=new ve(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new mt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Va(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Va(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=r)););return se.resolve(h)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new aD(t,i));let o=this.Qr.get(t);o===void 0&&(o=Le(),this.Qr.set(t,o)),this.Qr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.$r=new zt(Wt.Ur),this.Kr=new zt(Wt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Wt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Wt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ve(new ct([])),i=new Wt(t,e),r=new Wt(t,e+1),o=[];return this.Kr.forEachInRange([i,r],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new ct([])),i=new Wt(t,e),r=new Wt(t,e+1);let o=Le();return this.Kr.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Wt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||Oe(e.Zr,t.Zr)}static Wr(e,t){return Oe(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new zt(Wt.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rD(o,t,i,r);this.mutationQueue.push(c);for(const h of r)this.Xr=this.Xr.add(new Wt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ti(i),o=r<0?0:r;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Zy:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wt(t,0),r=new Wt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,r],c=>{const h=this.ei(c.Zr);o.push(h)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zt(Oe);return t.forEach(r=>{const o=new Wt(r,0),c=new Wt(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],h=>{i=i.add(h.Zr)})}),se.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ve.isDocumentKey(o)||(o=o.child(""));const c=new Wt(new ve(o),0);let h=new zt(Oe);return this.Xr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(d.Zr)),!0)},c),se.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){$e(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return se.forEach(t.mutations,r=>{const o=new Wt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Wt(t,0),r=this.Xr.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.ii=e,this.docs=function(){return new mt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let i=Ps();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():hn.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Ps();const c=t.path,h=new ve(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||_3(v3(y),i)<=0||(r.has(y.key)||$f(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Ee(9500)}si(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new GD(this)}getSize(e){return se.resolve(this.size)}}class GD extends LD{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.persistence=e,this.oi=new Ja(t=>t0(t),n0),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new o0,this.targetCount=0,this.ui=fl.cr()}forEachTarget(e,t){return this.oi.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),se.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new fl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Tr(t),se.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.oi.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),se.waitFor(o).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t){this.ci={},this.overlays={},this.li=new Hf(0),this.hi=!1,this.hi=!0,this.Pi=new FD,this.referenceDelegate=e(this),this.Ti=new YD(this),this.indexManager=new ID,this.remoteDocumentCache=function(r){return new qD(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new CD(t),this.Ei=new zD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new HD(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const r=new WD(this.li.next());return this.referenceDelegate.di(),i(r).next(o=>this.referenceDelegate.Ai(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ri(e,t){return se.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class WD extends x3{constructor(e){super(),this.currentSequenceNumber=e}}class l0{constructor(e){this.persistence=e,this.Vi=new o0,this.mi=null}static fi(e){return new l0(e)}get gi(){if(this.mi)return this.mi;throw Ee(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,i=>{const r=ve.fromPath(i);return this.pi(e,r).next(o=>{o||t.removeEntry(r,Ae.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return se.or([()=>se.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class yf{constructor(e,t){this.persistence=e,this.yi=new Ja(i=>T3(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=PD(this,t)}static fi(e,t){return new yf(e,t)}di(){}Ai(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return se.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(o=>o?se.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.si(e,c=>this.Dr(e,c,t).next(h=>{h||(i++,o.removeEntry(c,Ae.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yd(e.data.value)),t}Dr(e,t,i){return se.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.yi.get(t);return se.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ds=i,this.As=r}static Rs(e,t){let i=Le(),r=Le();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new c0(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return bN()?8:w3(mn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.ws(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.bs(e,t,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new $D;return this.Ss(e,t,c).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,c,h.size)})}).next(()=>o.result)}Ds(e,t,i,r){return i.documentReadCount<this.gs?(Xo()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(Xo()<=Pe.DEBUG&&he("QueryEngine","Query:",Zo(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Xo()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(t))):se.resolve())}ws(e,t){if(b1(t))return se.resolve(null);let i=Yi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=ly(t,null,"F"),i=Yi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=Le(...o);return this.ys.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.vs(t,h);return this.Cs(t,m,c,d.readTime)?this.ws(e,ly(t,null,"F")):this.Fs(e,m,t,d)}))})))}bs(e,t,i,r){return b1(t)||r.isEqual(Ae.min())?se.resolve(null):this.ys.getDocuments(e,i).next(o=>{const c=this.vs(t,o);return this.Cs(t,c,i,r)?se.resolve(null):(Xo()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zo(t)),this.Fs(e,c,t,y3(r,xu)).next(h=>h))})}vs(e,t){let i=new zt(X2(e));return t.forEach((r,o)=>{$f(e,o)&&(i=i.add(o))}),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,i){return Xo()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.ys.getDocumentsMatchingQuery(e,t,kr.min(),i)}Fs(e,t,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="LocalStore",QD=3e8;class XD{constructor(e,t,i,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new mt(Oe),this.Os=new Ja(o=>t0(o),n0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function ZD(n,e,t,i){return new XD(n,e,t,i)}async function xT(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let d=Le();for(const m of r){c.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(i,d).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:h}))})})}function JD(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,d,m,y){const b=m.batch,x=b.keys();let T=se.resolve();return x.forEach(S=>{T=T.next(()=>y.getEntry(d,S)).next(I=>{const C=m.docVersions.get(S);$e(C!==null,48541),I.version.compareTo(C)<0&&(b.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),y.addEntry(I)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,b))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Le();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function wT(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function eO(n,e){const t=Ce(n),i=e.snapshotVersion;let r=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});r=t.xs;const h=[];e.targetChanges.forEach((y,b)=>{const x=r.get(b);if(!x)return;h.push(t.Ti.removeMatchingKeys(o,y.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(o,y.addedDocuments,b)));let T=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(rn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,i)),r=r.insert(b,T),function(I,C,k){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=QD?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(x,T,y)&&h.push(t.Ti.updateTargetData(o,T))});let d=Ps(),m=Le();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(tO(o,c,e.documentUpdates).next(y=>{d=y.qs,m=y.Qs})),!i.isEqual(Ae.min())){const y=t.Ti.getLastRemoteSnapshotVersion(o).next(b=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return se.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(t.xs=r,o))}function tO(n,e,t){let i=Le(),r=Le();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let c=Ps();return t.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):he(u0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{qs:c,Qs:r}})}function nO(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Zy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function iO(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ti.getTargetData(i,e).next(o=>o?(r=o,se.resolve(r)):t.Ti.allocateTargetId(i).next(c=>(r=new Sr(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function fy(n,e,t){const i=Ce(n),r=i.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!Al(c))throw c;he(u0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)}function M1(n,e,t){const i=Ce(n);let r=Ae.min(),o=Le();return i.persistence.runTransaction("Execute query","readwrite",c=>function(d,m,y){const b=Ce(d),x=b.Os.get(y);return x!==void 0?se.resolve(b.xs.get(x)):b.Ti.getTargetData(m,y)}(i,c,Yi(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,h.targetId).next(d=>{o=d})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?r:Ae.min(),t?o:Le())).next(h=>(sO(i,H3(e),h),{documents:h,$s:o})))}function sO(n,e,t){let i=n.Ns.get(e)||Ae.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ns.set(e,i)}class k1{constructor(){this.activeTargetIds=K3()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rO{constructor(){this.xo=new k1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new k1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="ConnectivityMonitor";class P1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(j1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(j1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function my(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RestConnection",oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===df?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,t,i,r,o){const c=my(),h=this.jo(e,t.toUriEncodedString());he(Op,`Sending RPC '${e}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,r,o);const{host:m}=new URL(h),y=xl(m);return this.Jo(e,h,d,i,y).then(b=>(he(Op,`Received RPC '${e}' ${c}: `,b),b),b=>{throw cl(Op,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",i),b})}Yo(e,t,i,r,o,c){return this.zo(e,t,i,r,o)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}jo(e,t){const i=oO[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class uO extends lO{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,o){const c=my();return new Promise((h,d)=>{const m=new T2;m.setWithCredentials(!0),m.listenOnce(S2.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Gd.NO_ERROR:const b=m.getResponseJson();he(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case Gd.TIMEOUT:he(cn,`RPC '${e}' ${c} timed out`),d(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Gd.HTTP_ERROR:const x=m.getStatus();if(he(cn,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const I=function(k){const U=k.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(U)>=0?U:ie.UNKNOWN}(S.status);d(new de(I,S.message))}else d(new de(ie.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new de(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{h_:e,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{he(cn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(r);he(cn,`RPC '${e}' ${c} sending request:`,r),m.send(t,"POST",y,i,15)})}I_(e,t,i){const r=my(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=C2(),h=R2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const y=o.join("");he(cn,`Creating RPC '${e}' stream ${r}: ${y}`,d);const b=c.createWebChannel(y,d);this.E_(b);let x=!1,T=!1;const S=new cO({Zo:C=>{T?he(cn,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(x||(he(cn,`Opening RPC '${e}' stream ${r} transport.`),b.open(),x=!0),he(cn,`RPC '${e}' stream ${r} sending:`,C),b.send(C))},Xo:()=>b.close()}),I=(C,k,U)=>{C.listen(k,q=>{try{U(q)}catch(Z){setTimeout(()=>{throw Z},0)}})};return I(b,Qc.EventType.OPEN,()=>{T||(he(cn,`RPC '${e}' stream ${r} transport opened.`),S.__())}),I(b,Qc.EventType.CLOSE,()=>{T||(T=!0,he(cn,`RPC '${e}' stream ${r} transport closed`),S.u_(),this.d_(b))}),I(b,Qc.EventType.ERROR,C=>{T||(T=!0,cl(cn,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),S.u_(new de(ie.UNAVAILABLE,"The operation could not be completed")))}),I(b,Qc.EventType.MESSAGE,C=>{var k;if(!T){const U=C.data[0];$e(!!U,16349);const q=U,Z=(q==null?void 0:q.error)||((k=q[0])===null||k===void 0?void 0:k.error);if(Z){he(cn,`RPC '${e}' stream ${r} received error:`,Z);const ee=Z.status;let le=function(D){const O=Ct[D];if(O!==void 0)return cT(O)}(ee),M=Z.message;le===void 0&&(le=ie.INTERNAL,M="Unknown error status: "+ee+" with message "+Z.message),T=!0,S.u_(new de(le,M)),b.close()}else he(cn,`RPC '${e}' stream ${r} received:`,U),S.c_(U)}}),I(h,A2.STAT_EVENT,C=>{C.stat===ty.PROXY?he(cn,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===ty.NOPROXY&&he(cn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){return new mD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t,i=1e3,r=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=r,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="PersistentStream";class TT{constructor(e,t,i,r,o,c,h,d){this.xi=e,this.S_=i,this.D_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new ET(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(js(t.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===t&&this.z_(i,r)},i=>{e(()=>{const r=new de(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return he(L1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(he(L1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hO extends TT{constructor(e,t,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=yD(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ae.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Wi(c.readTime):Ae.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=dy(this.serializer),t.addTarget=function(o,c){let h;const d=c.target;if(h=ay(d)?{documents:bD(o,d)}:{query:xD(o,d).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=dT(o,c.resumeToken);const m=cy(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=pf(o,c.snapshotVersion.toTimestamp());const m=cy(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=ED(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=dy(this.serializer),t.removeTarget=e,this.Q_(t)}}class dO extends TT{constructor(e,t,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=_D(e.writeResults,e.commitTime),i=Wi(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=dy(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>vD(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{}class mO extends fO{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,uy(t,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ie.UNKNOWN,o.toString())})}Yo(e,t,i,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Yo(e,uy(t,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ie.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class gO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(js(t),this.ua=!1):he("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="RemoteStore";class pO{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(c=>{i.enqueueAndForget(async()=>{eo(this)&&(he($a,"Restarting streams for network reachability change."),await async function(d){const m=Ce(d);m.da.add(4),await Hu(m),m.Va.set("Unknown"),m.da.delete(4),await Jf(m)}(this))})}),this.Va=new gO(i,r)}}async function Jf(n){if(eo(n))for(const e of n.Aa)await e(!0)}async function Hu(n){for(const e of n.Aa)await e(!1)}function ST(n,e){const t=Ce(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),m0(t)?f0(t):Cl(t).N_()&&d0(t,e))}function h0(n,e){const t=Ce(n),i=Cl(t);t.Ea.delete(e),i.N_()&&AT(t,e),t.Ea.size===0&&(i.N_()?i.k_():eo(t)&&t.Va.set("Unknown"))}function d0(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cl(n).Z_(e)}function AT(n,e){n.ma.Ke(e),Cl(n).X_(e)}function f0(n){n.ma=new uD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Cl(n).start(),n.Va.ca()}function m0(n){return eo(n)&&!Cl(n).O_()&&n.Ea.size>0}function eo(n){return Ce(n).da.size===0}function RT(n){n.ma=void 0}async function yO(n){n.Va.set("Online")}async function vO(n){n.Ea.forEach((e,t)=>{d0(n,e)})}async function _O(n,e){RT(n),m0(n)?(n.Va.Pa(e),f0(n)):n.Va.set("Unknown")}async function bO(n,e,t){if(n.Va.set("Online"),e instanceof hT&&e.state===2&&e.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ea.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ea.delete(h),r.ma.removeTarget(h))}(n,e)}catch(i){he($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vf(n,i)}else if(e instanceof Kd?n.ma.Xe(e):e instanceof uT?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ae.min()))try{const i=await wT(n.localStore);t.compareTo(i)>=0&&await function(o,c){const h=o.ma.It(c);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ea.get(m);y&&o.Ea.set(m,y.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach((d,m)=>{const y=o.Ea.get(d);if(!y)return;o.Ea.set(d,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),AT(o,d);const b=new Sr(y.target,d,m,y.sequenceNumber);d0(o,b)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){he($a,"Failed to raise snapshot:",i),await vf(n,i)}}async function vf(n,e,t){if(!Al(e))throw e;n.da.add(1),await Hu(n),n.Va.set("Offline"),t||(t=()=>wT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he($a,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Jf(n)})}function CT(n,e){return e().catch(t=>vf(n,t,e))}async function em(n){const e=Ce(n),t=Vr(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Zy;for(;xO(e);)try{const r=await nO(e.localStore,i);if(r===null){e.Ia.length===0&&t.k_();break}i=r.batchId,wO(e,r)}catch(r){await vf(e,r)}NT(e)&&IT(e)}function xO(n){return eo(n)&&n.Ia.length<10}function wO(n,e){n.Ia.push(e);const t=Vr(n);t.N_()&&t.ea&&t.ta(e.mutations)}function NT(n){return eo(n)&&!Vr(n).O_()&&n.Ia.length>0}function IT(n){Vr(n).start()}async function EO(n){Vr(n).ia()}async function TO(n){const e=Vr(n);for(const t of n.Ia)e.ta(t.mutations)}async function SO(n,e,t){const i=n.Ia.shift(),r=s0.from(i,e,t);await CT(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await em(n)}async function AO(n,e){e&&Vr(n).ea&&await async function(i,r){if(function(c){return lD(c)&&c!==ie.ABORTED}(r.code)){const o=i.Ia.shift();Vr(i).L_(),await CT(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await em(i)}}(n,e),NT(n)&&IT(n)}async function V1(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),he($a,"RemoteStore received new credentials");const i=eo(t);t.da.add(3),await Hu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Jf(t)}async function RO(n,e){const t=Ce(n);e?(t.da.delete(2),await Jf(t)):e||(t.da.add(2),await Hu(t),t.Va.set("Unknown"))}function Cl(n){return n.fa||(n.fa=function(t,i,r){const o=Ce(t);return o.oa(),new hO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{e_:yO.bind(null,n),n_:vO.bind(null,n),i_:_O.bind(null,n),Y_:bO.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),m0(n)?f0(n):n.Va.set("Unknown")):(await n.fa.stop(),RT(n))})),n.fa}function Vr(n){return n.ga||(n.ga=function(t,i,r){const o=Ce(t);return o.oa(),new dO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:EO.bind(null,n),i_:AO.bind(null,n),na:TO.bind(null,n),ra:SO.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await em(n)):(await n.ga.stop(),n.Ia.length>0&&(he($a,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const c=Date.now()+i,h=new g0(e,t,c,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(n,e){if(js("AsyncQueue",`${e}: ${n}`),Al(n))return new de(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Xc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.pa=new mt(ve.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ee(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class ml{constructor(e,t,i,r,o,c,h,d,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ml(e,t,al.emptySet(t),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class NO{constructor(){this.queries=z1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Ce(t),o=r.queries;r.queries=z1(),o.forEach((c,h)=>{for(const d of h.Sa)d.onError(i)})})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function z1(){return new Ja(n=>Q2(n),Wf)}async function y0(n,e){const t=Ce(n);let i=3;const r=e.query;let o=t.queries.get(r);o?!o.Da()&&e.va()&&(i=2):(o=new CO,i=e.va()?0:1);try{switch(i){case 0:o.ba=await t.onListen(r,!0);break;case 1:o.ba=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(c){const h=p0(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&_0(t)}async function v0(n,e){const t=Ce(n),i=e.query;let r=3;const o=t.queries.get(i);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=e.va()?0:1:!o.Da()&&e.va()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function IO(n,e){const t=Ce(n);let i=!1;for(const r of e){const o=r.query,c=t.queries.get(o);if(c){for(const h of c.Sa)h.Ma(r)&&(i=!0);c.ba=r}}i&&_0(t)}function DO(n,e,t){const i=Ce(n),r=i.queries.get(e);if(r)for(const o of r.Sa)o.onError(t);i.queries.delete(e)}function _0(n){n.Ca.forEach(e=>{e.next()})}var gy,B1;(B1=gy||(gy={})).xa="default",B1.Cache="cache";class b0{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ml(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class OO{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.Za=X2(e),this.Xa=new al(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new U1,r=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((y,b)=>{const x=r.get(y),T=$f(this.query,b)?b:null,S=!!x&&this.mutatedKeys.has(x.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;x&&T?x.data.isEqual(T.data)?S!==I&&(i.track({type:3,doc:T}),C=!0):this.ru(x,T)||(i.track({type:2,doc:T}),C=!0,(d&&this.Za(T,d)>0||m&&this.Za(T,m)<0)&&(h=!0)):!x&&T?(i.track({type:0,doc:T}),C=!0):x&&!T&&(i.track({type:1,doc:x}),C=!0,(d||m)&&(h=!0)),C&&(T?(c=c.add(T),o=I?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Xa:c,nu:i,Cs:h,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,b)=>function(T,S){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:C})}};return I(T)-I(S)}(y.type,b.type)||this.Za(y.doc,b.doc)),this.iu(i),r=r!=null&&r;const h=t&&!r?this.su():[],d=this.Ya.size===0&&this.current&&!r?1:0,m=d!==this.Ja;return this.Ja=d,c.length!==0||m?{snapshot:new ml(this.query,e.Xa,o,c,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new U1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new OT(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new DT(i))}),t}au(e){this.Ha=e.$s,this.Ya=Le();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ml.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const x0="SyncEngine";class MO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class kO{constructor(e){this.key=e,this.cu=!1}}class jO{constructor(e,t,i,r,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ja(h=>Q2(h),Wf),this.Pu=new Map,this.Tu=new Set,this.Iu=new mt(ve.comparator),this.Eu=new Map,this.du=new o0,this.Au={},this.Ru=new Map,this.Vu=fl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function PO(n,e,t=!0){const i=VT(n);let r;const o=i.hu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.uu()):r=await MT(i,e,t,!0),r}async function LO(n,e){const t=VT(n);await MT(t,e,!0,!1)}async function MT(n,e,t,i){const r=await iO(n.localStore,Yi(e)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await VO(n,e,o,c==="current",r.resumeToken)),n.isPrimaryClient&&t&&ST(n.remoteStore,r),h}async function VO(n,e,t,i,r){n.fu=(b,x,T)=>async function(I,C,k,U){let q=C.view.tu(k);q.Cs&&(q=await M1(I.localStore,C.query,!1).then(({documents:M})=>C.view.tu(M,q)));const Z=U&&U.targetChanges.get(C.targetId),ee=U&&U.targetMismatches.get(C.targetId)!=null,le=C.view.applyChanges(q,I.isPrimaryClient,Z,ee);return H1(I,C.targetId,le.ou),le.snapshot}(n,b,x,T);const o=await M1(n.localStore,e,!0),c=new OO(e,o.$s),h=c.tu(o.documents),d=Fu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,d);H1(n,t,m.ou);const y=new MO(e,t,c);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),m.snapshot}async function UO(n,e,t){const i=Ce(n),r=i.hu.get(e),o=i.Pu.get(r.targetId);if(o.length>1)return i.Pu.set(r.targetId,o.filter(c=>!Wf(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await fy(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&h0(i.remoteStore,r.targetId),py(i,r.targetId)}).catch(Sl)):(py(i,r.targetId),await fy(i.localStore,r.targetId,!0))}async function zO(n,e){const t=Ce(n),i=t.hu.get(e),r=t.Pu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),h0(t.remoteStore,i.targetId))}async function BO(n,e,t){const i=$O(n);try{const r=await function(c,h){const d=Ce(c),m=Ut.now(),y=h.reduce((T,S)=>T.add(S.key),Le());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Ps(),I=Le();return d.Bs.getEntries(T,y).next(C=>{S=C,S.forEach((k,U)=>{U.isValidDocument()||(I=I.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,S)).next(C=>{b=C;const k=[];for(const U of h){const q=iD(U,b.get(U.key).overlayedDocument);q!=null&&k.push(new Yr(U.key,q,F2(q.value.mapValue),mi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,m,k,h)}).next(C=>{x=C;const k=C.applyToLocalDocumentSet(b,I);return d.documentOverlayCache.saveOverlays(T,C.batchId,k)})}).then(()=>({batchId:x.batchId,changes:J2(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,d){let m=c.Au[c.currentUser.toKey()];m||(m=new mt(Oe)),m=m.insert(h,d),c.Au[c.currentUser.toKey()]=m}(i,r.batchId,t),await qu(i,r.changes),await em(i.remoteStore)}catch(r){const o=p0(r,"Failed to persist write");t.reject(o)}}async function kT(n,e){const t=Ce(n);try{const i=await eO(t.localStore,e);e.targetChanges.forEach((r,o)=>{const c=t.Eu.get(o);c&&($e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.cu=!0:r.modifiedDocuments.size>0?$e(c.cu,14607):r.removedDocuments.size>0&&($e(c.cu,42227),c.cu=!1))}),await qu(t,i,e)}catch(i){await Sl(i)}}function F1(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.hu.forEach((o,c)=>{const h=c.view.Fa(e);h.snapshot&&r.push(h.snapshot)}),function(c,h){const d=Ce(c);d.onlineState=h;let m=!1;d.queries.forEach((y,b)=>{for(const x of b.Sa)x.Fa(h)&&(m=!0)}),m&&_0(d)}(i.eventManager,e),r.length&&i.lu.Y_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function FO(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),o=r&&r.key;if(o){let c=new mt(ve.comparator);c=c.insert(o,hn.newNoDocument(o,Ae.min()));const h=Le().add(o),d=new Xf(Ae.min(),new Map,new mt(Oe),c,h);await kT(i,d),i.Iu=i.Iu.remove(o),i.Eu.delete(e),w0(i)}else await fy(i.localStore,e,!1).then(()=>py(i,e,t)).catch(Sl)}async function HO(n,e){const t=Ce(n),i=e.batch.batchId;try{const r=await JD(t.localStore,e);PT(t,i,null),jT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await qu(t,r)}catch(r){await Sl(r)}}async function qO(n,e,t){const i=Ce(n);try{const r=await function(c,h){const d=Ce(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next(b=>($e(b!==null,37113),y=b.keys(),d.mutationQueue.removeMutationBatch(m,b))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>d.localDocuments.getDocuments(m,y))})}(i.localStore,e);PT(i,e,t),jT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await qu(i,r)}catch(r){await Sl(r)}}function jT(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function PT(n,e,t){const i=Ce(n);let r=i.Au[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Au[i.currentUser.toKey()]=r}}function py(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||LT(n,i)})}function LT(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(h0(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),w0(n))}function H1(n,e,t){for(const i of t)i instanceof DT?(n.du.addReference(i.key,e),GO(n,i)):i instanceof OT?(he(x0,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||LT(n,i.key)):Ee(19791,{pu:i})}function GO(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(he(x0,"New document in limbo: "+t),n.Tu.add(i),w0(n))}function w0(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ve(ct.fromString(e)),i=n.Vu.next();n.Eu.set(i,new kO(t)),n.Iu=n.Iu.insert(t,i),ST(n.remoteStore,new Sr(Yi(Yf(t.path)),i,"TargetPurposeLimboResolution",Hf.le))}}async function qu(n,e,t){const i=Ce(n),r=[],o=[],c=[];i.hu.isEmpty()||(i.hu.forEach((h,d)=>{c.push(i.fu(d,e,t).then(m=>{var y;if((m||t)&&i.isPrimaryClient){const b=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,b?"current":"not-current")}if(m){r.push(m);const b=c0.Rs(d.targetId,m);o.push(b)}}))}),await Promise.all(c),i.lu.Y_(r),await async function(d,m){const y=Ce(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>se.forEach(m,x=>se.forEach(x.ds,T=>y.persistence.referenceDelegate.addReference(b,x.targetId,T)).next(()=>se.forEach(x.As,T=>y.persistence.referenceDelegate.removeReference(b,x.targetId,T)))))}catch(b){if(!Al(b))throw b;he(u0,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const T=y.xs.get(x),S=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(S);y.xs=y.xs.insert(x,I)}}}(i.localStore,o))}async function YO(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){he(x0,"User change. New user:",e.toKey());const i=await xT(t.localStore,e);t.currentUser=e,function(o,c){o.Ru.forEach(h=>{h.forEach(d=>{d.reject(new de(ie.CANCELLED,c))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await qu(t,i.ks)}}function WO(n,e){const t=Ce(n),i=t.Eu.get(e);if(i&&i.cu)return Le().add(i.key);{let r=Le();const o=t.Pu.get(e);if(!o)return r;for(const c of o){const h=t.hu.get(c);r=r.unionWith(h.view.eu)}return r}}function VT(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FO.bind(null,e),e.lu.Y_=IO.bind(null,e.eventManager),e.lu.gu=DO.bind(null,e.eventManager),e}function $O(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qO.bind(null,e),e}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return ZD(this.persistence,new KD,e.initialUser,this.serializer)}Su(e){return new bT(l0.fi,this.serializer)}bu(e){return new rO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class KO extends _f{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){$e(this.persistence.referenceDelegate instanceof yf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new kD(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new bT(i=>yf.fi(i,t),this.serializer)}}class yy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>F1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YO.bind(null,this.syncEngine),await RO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NO}()}createDatastore(e){const t=Zf(e.databaseInfo.databaseId),i=function(o){return new uO(o)}(e.databaseInfo);return function(o,c,h,d){return new mO(o,c,h,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,c,h){return new pO(i,r,o,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>F1(this.syncEngine,t,0),function(){return P1.C()?new P1:new aO}())}createSyncEngine(e,t){return function(r,o,c,h,d,m,y){const b=new jO(r,o,c,h,d,m);return y&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const o=Ce(r);he($a,"RemoteStore shutting down."),o.da.add(5),await Hu(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class QO{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=un.UNAUTHENTICATED,this.clientId=O2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{he(Ur,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he(Ur,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=p0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function kp(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ur,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await xT(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function q1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await XO(n);he(Ur,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>V1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>V1(e.remoteStore,r)),n._onlineComponents=e}async function XO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ur,"Using user provided OfflineComponentProvider");try{await kp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===ie.FAILED_PRECONDITION||r.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;cl("Error using user provided cache. Falling back to memory cache: "+t),await kp(n,new _f)}}else he(Ur,"Using default OfflineComponentProvider"),await kp(n,new KO(void 0));return n._offlineComponents}async function UT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ur,"Using user provided OnlineComponentProvider"),await q1(n,n._uninitializedComponentsProvider._online)):(he(Ur,"Using default OnlineComponentProvider"),await q1(n,new yy))),n._onlineComponents}function ZO(n){return UT(n).then(e=>e.syncEngine)}async function bf(n){const e=await UT(n),t=e.eventManager;return t.onListen=PO.bind(null,e.syncEngine),t.onUnlisten=UO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zO.bind(null,e.syncEngine),t}function JO(n,e,t={}){const i=new Ds;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,d,m){const y=new E0({next:x=>{y.xu(),c.enqueueAndForget(()=>v0(o,b));const T=x.docs.has(h);!T&&x.fromCache?m.reject(new de(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&d&&d.source==="server"?m.reject(new de(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new b0(Yf(h.path),y,{includeMetadataChanges:!0,Qa:!0});return y0(o,b)}(await bf(n),n.asyncQueue,e,t,i)),i.promise}function eM(n,e,t={}){const i=new Ds;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,d,m){const y=new E0({next:x=>{y.xu(),c.enqueueAndForget(()=>v0(o,b)),x.fromCache&&d.source==="server"?m.reject(new de(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new b0(h,y,{includeMetadataChanges:!0,Qa:!0});return y0(o,b)}(await bf(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n,e,t){if(!t)throw new de(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tM(n,e,t,i){if(e===!0&&i===!0)throw new de(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Y1(n){if(!ve.isDocumentKey(n))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W1(n){if(ve.isDocumentKey(n))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tm(n);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firestore.googleapis.com",$1=!0;class K1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FT,this.ssl=$1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OD)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new l3;switch(i.type){case"firstParty":return new d3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=G1.get(t);i&&(he("ComponentProvider","Removing Datastore"),G1.delete(t),i.terminate())}(this),Promise.resolve()}}function nM(n,e,t,i={}){var r;n=Bn(n,nm);const o=xl(e),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(kE(`https://${d}`),jE("Firestore",!0)),c.host!==FT&&c.host!==d&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:d,ssl:o,emulatorOptions:i});if(!Fa(m,h)&&(n._setSettings(m),i.mockUserToken)){let y,b;if(typeof i.mockUserToken=="string")y=i.mockUserToken,b=un.MOCK_USER;else{y=hN(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new un(x)}n._authCredentials=new c3(new I2(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class dn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Or extends Wr{constructor(e,t,i){super(e,t,Yf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ve(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function zr(n,e,...t){if(n=vt(n),BT("collection","path",e),n instanceof nm){const i=ct.fromString(e,...t);return W1(i),new Or(n,null,i)}{if(!(n instanceof dn||n instanceof Or))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return W1(i),new Or(n.firestore,null,i)}}function vi(n,e,...t){if(n=vt(n),arguments.length===1&&(e=O2.newId()),BT("doc","path",e),n instanceof nm){const i=ct.fromString(e,...t);return Y1(i),new dn(n,null,new ve(i))}{if(!(n instanceof dn||n instanceof Or))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return Y1(i),new dn(n.firestore,n instanceof Or?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="AsyncQueue";class X1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new ET(this,"async_queue_retry"),this.rc=()=>{const i=Mp();i&&he(Q1,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ds;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Al(e))throw e;he(Q1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,js("INTERNAL UNHANDLED ERROR: ",Z1(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=g0.createAndSchedule(this,e,t,i,o=>this.uc(o));return this.Zu.push(r),r}oc(){this.Xu&&Ee(47125,{cc:Z1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Z1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Br extends nm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new X1,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X1(e),this._firestoreClient=void 0,await e}}}function iM(n,e){const t=typeof n=="object"?n:UE(),i=typeof n=="string"?n:df,r=By(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=cN("firestore");o&&nM(r,...o)}return r}function im(n){if(n._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sM(n),n._firestoreClient}function sM(n){var e,t,i;const r=n._freezeSettings(),o=function(h,d,m,y){return new R3(h,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,zT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new QO(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(rn.fromBase64String(e))}catch(t){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gl(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=/^__.*__$/;class aM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class HT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Yr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ic:n})}}class A0{constructor(e,t,i,r,o,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new A0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Vc(e),r}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return xf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(qT(this.Ic)&&rM.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class oM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Zf(e)}bc(e,t,i,r=!1){return new A0({Ic:e,methodName:t,wc:i,path:nn.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(n){const e=n._freezeSettings(),t=Zf(n._databaseId);return new oM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function GT(n,e,t,i,r,o={}){const c=n.bc(o.merge||o.mergeFields?2:0,e,t,r);C0("Data must be an object, but it was:",c,i);const h=YT(i,c);let d,m;if(o.merge)d=new zn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const x=vy(e,b,t);if(!c.contains(x))throw new de(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);$T(y,x)||y.push(x)}d=new zn(y),m=c.fieldTransforms.filter(b=>d.covers(b.field))}else d=null,m=c.fieldTransforms;return new aM(new Rn(h),d,m)}class om extends rm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}class R0 extends rm{_toFieldTransform(e){return new J3(e.path,new Au)}isEqual(e){return e instanceof R0}}function lM(n,e,t,i){const r=n.bc(1,e,t);C0("Data must be an object, but it was:",r,i);const o=[],c=Rn.empty();Gr(i,(d,m)=>{const y=N0(e,d,t);m=vt(m);const b=r.mc(y);if(m instanceof om)o.push(y);else{const x=Gu(m,b);x!=null&&(o.push(y),c.set(y,x))}});const h=new zn(o);return new HT(c,h,r.fieldTransforms)}function cM(n,e,t,i,r,o){const c=n.bc(1,e,t),h=[vy(e,i,t)],d=[r];if(o.length%2!=0)throw new de(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(vy(e,o[x])),d.push(o[x+1]);const m=[],y=Rn.empty();for(let x=h.length-1;x>=0;--x)if(!$T(m,h[x])){const T=h[x];let S=d[x];S=vt(S);const I=c.mc(T);if(S instanceof om)m.push(T);else{const C=Gu(S,I);C!=null&&(m.push(T),y.set(T,C))}}const b=new zn(m);return new HT(y,b,c.fieldTransforms)}function uM(n,e,t,i=!1){return Gu(t,n.bc(i?4:3,e))}function Gu(n,e){if(WT(n=vt(n)))return C0("Unsupported field value:",e,n),YT(n,e);if(n instanceof rm)return function(i,r){if(!qT(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let d=Gu(h,r.fc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=vt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Q3(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ut.fromDate(i);return{timestampValue:pf(r.serializer,o)}}if(i instanceof Ut){const o=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pf(r.serializer,o)}}if(i instanceof T0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gl)return{bytesValue:dT(r.serializer,i._byteString)};if(i instanceof dn){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:a0(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof S0)return function(c,h){return{mapValue:{fields:{[z2]:{stringValue:B2},[ff]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.gc("VectorValues must only contain numeric values.");return i0(h.serializer,m)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${tm(i)}`)}(n,e)}function YT(n,e){const t={};return k2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(n,(i,r)=>{const o=Gu(r,e.Ac(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function WT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof T0||n instanceof gl||n instanceof dn||n instanceof rm||n instanceof S0)}function C0(n,e,t){if(!WT(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=tm(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function vy(n,e,t){if((e=vt(e))instanceof sm)return e._internalPath;if(typeof e=="string")return N0(n,e);throw xf("Field path arguments must be of type string or ",n,!1,void 0,t)}const hM=new RegExp("[~\\*/\\[\\]]");function N0(n,e,t){if(e.search(hM)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sm(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xf(n,e,t,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${r}`),d+=")"),new de(ie.INVALID_ARGUMENT,h+n+d)}function $T(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dM extends KT{data(){return super.data()}}function lm(n,e){return typeof e=="string"?N0(n,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class XT extends I0{}function D0(n,e,...t){let i=[];e instanceof I0&&i.push(e),i=i.concat(t),function(o){const c=o.filter(d=>d instanceof M0).length,h=o.filter(d=>d instanceof cm).length;if(c>1||c>0&&h>0)throw new de(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class cm extends XT{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new cm(e,t,i)}_apply(e){const t=this._parse(e);return ZT(e._query,t),new Wr(e.firestore,e.converter,oy(e._query,t))}_parse(e){const t=am(e.firestore);return function(o,c,h,d,m,y,b){let x;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){tw(b,y);const S=[];for(const I of b)S.push(ew(d,o,I));x={arrayValue:{values:S}}}else x=ew(d,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||tw(b,y),x=uM(h,c,b,y==="in"||y==="not-in");return Nt.create(m,y,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function O0(n,e,t){const i=e,r=lm("where",n);return cm._create(r,i,t)}class M0 extends I0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new M0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:yi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let c=r;const h=o.getFlattenedFilters();for(const d of h)ZT(c,d),c=oy(c,d)}(e._query,t),new Wr(e.firestore,e.converter,oy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k0 extends XT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new k0(e,t)}_apply(e){const t=function(r,o,c){if(r.startAt!==null)throw new de(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new de(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(o,c)}(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Rl(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function fM(n,e="asc"){const t=e,i=lm("orderBy",n);return k0._create(i,t)}function ew(n,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new de(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K2(e)&&t.indexOf("/")!==-1)throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!ve.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return m1(n,new ve(i))}if(t instanceof dn)return m1(n,t._key);throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(t)}.`)}function tw(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZT(n,e){const t=function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mM{convertValue(e,t="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gr(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;const o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[ff].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>wt(c.doubleValue));return new S0(o)}convertGeoPoint(e){return new T0(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Gf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=jr(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);$e(vT(i),9688,{name:e});const r=new Eu(i.get(1),i.get(3)),o=new ve(i.popFirst(5));return r.isEqual(t)||js(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eS extends KT{constructor(e,t,i,r,o,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qd extends eS{data(e={}){return super.data(e)}}class tS{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qd(this._firestore,this._userDataWriter,i.key,i,new Jc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const d=new Qd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Jc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Qd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Jc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:gM(h.type),doc:d,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n){n=Bn(n,dn);const e=Bn(n.firestore,Br);return JO(im(e),n._key).then(t=>nS(e,n,t))}class j0 extends mM{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function wf(n){n=Bn(n,Wr);const e=Bn(n.firestore,Br),t=im(e),i=new j0(e);return QT(n._query),eM(t,n._query).then(r=>new tS(e,i,n,r))}function P0(n,e,t){n=Bn(n,dn);const i=Bn(n.firestore,Br),r=JT(n.converter,e,t);return V0(i,[GT(am(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,mi.none())])}function _y(n,e,t,...i){n=Bn(n,dn);const r=Bn(n.firestore,Br),o=am(r);let c;return c=typeof(e=vt(e))=="string"||e instanceof sm?cM(o,"updateDoc",n._key,e,t,i):lM(o,"updateDoc",n._key,e),V0(r,[c.toMutation(n._key,mi.exists(!0))])}function L0(n,e){const t=Bn(n.firestore,Br),i=vi(n),r=JT(n.converter,e);return V0(t,[GT(am(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,mi.exists(!1))]).then(()=>i)}function nw(n,...e){var t,i,r;n=vt(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||J1(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(J1(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(r=b.complete)===null||r===void 0?void 0:r.bind(b)}let d,m,y;if(n instanceof dn)m=Bn(n.firestore,Br),y=Yf(n._key.path),d={next:b=>{e[c]&&e[c](nS(m,n,b))},error:e[c+1],complete:e[c+2]};else{const b=Bn(n,Wr);m=Bn(b.firestore,Br),y=b._query;const x=new j0(m);d={next:T=>{e[c]&&e[c](new tS(m,x,b,T))},error:e[c+1],complete:e[c+2]},QT(n._query)}return function(x,T,S,I){const C=new E0(I),k=new b0(T,C,S);return x.asyncQueue.enqueueAndForget(async()=>y0(await bf(x),k)),()=>{C.xu(),x.asyncQueue.enqueueAndForget(async()=>v0(await bf(x),k))}}(im(m),y,h,d)}function V0(n,e){return function(i,r){const o=new Ds;return i.asyncQueue.enqueueAndForget(async()=>BO(await ZO(i),r,o)),o.promise}(im(n),e)}function nS(n,e,t){const i=t.docs.get(e._key),r=new j0(n);return new eS(n,r,e._key,i,new Jc(t.hasPendingWrites,t.fromCache),e.converter)}function iS(){return new R0("serverTimestamp")}(function(e,t=!0){(function(r){Tl=r})(wl),ll(new Ha("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Br(new u3(i.getProvider("auth-internal")),new f3(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(m.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Ir(n1,i1,e),Ir(n1,i1,"esm2017")})();const pM={apiKey:"AIzaSyATeqARF7tyUIRIMl7RIgqULxqfyoJdyhA",authDomain:"gatewise-plc.firebaseapp.com",projectId:"gatewise-plc",storageBucket:"gatewise-plc.appspot.com",messagingSenderId:"369037134856",appId:"1:369037134856:web:1c467bdb1cb9a3b17315bd",measurementId:"G-SQPLPMHR0E"},sS=VE(pM),pl=ey(sS),$t=iM(sS),rS=V.createContext(),yM=({children:n})=>{const[e,t]=V.useState(null),[i,r]=V.useState(!1),[o,c]=V.useState(!0);return V.useEffect(()=>{const h=Y4(pl,async d=>{if(d)try{const m=vi($t,"users",d.uid),y=await Ka(m);if(y.exists()){const b=y.data(),x={...d,...b};t(x),r(b.role==="admin")}else t(d),r(!1)}catch(m){console.error("Error fetching user profile:",m),t(d),r(!1)}else t(null),r(!1);c(!1)});return()=>h()},[]),p.jsx(rS.Provider,{value:{currentUser:e,loading:o,isAdmin:i},children:n})},Bs=()=>V.useContext(rS);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yu(n){return n+.5|0}const Ar=(n,e,t)=>Math.max(Math.min(n,t),e);function eu(n){return Ar(Yu(n*2.55),0,255)}function Mr(n){return Ar(Yu(n*255),0,255)}function As(n){return Ar(Yu(n/2.55)/100,0,1)}function iw(n){return Ar(Yu(n*100),0,100)}const ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},by=[..."0123456789ABCDEF"],vM=n=>by[n&15],_M=n=>by[(n&240)>>4]+by[n&15],Sd=n=>(n&240)>>4===(n&15),bM=n=>Sd(n.r)&&Sd(n.g)&&Sd(n.b)&&Sd(n.a);function xM(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ni[n[1]]*17,g:255&ni[n[2]]*17,b:255&ni[n[3]]*17,a:e===5?ni[n[4]]*17:255}:(e===7||e===9)&&(t={r:ni[n[1]]<<4|ni[n[2]],g:ni[n[3]]<<4|ni[n[4]],b:ni[n[5]]<<4|ni[n[6]],a:e===9?ni[n[7]]<<4|ni[n[8]]:255})),t}const wM=(n,e)=>n<255?e(n):"";function EM(n){var e=bM(n)?vM:_M;return n?"#"+e(n.r)+e(n.g)+e(n.b)+wM(n.a,e):void 0}const TM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aS(n,e,t){const i=e*Math.min(t,1-t),r=(o,c=(o+n/30)%12)=>t-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function SM(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function AM(n,e,t){const i=aS(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function RM(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function U0(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),c=Math.min(t,i,r),h=(o+c)/2;let d,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),d=RM(t,i,r,y,o),d=d*60+.5),[d|0,m||0,h]}function z0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Mr)}function B0(n,e,t){return z0(aS,n,e,t)}function CM(n,e,t){return z0(AM,n,e,t)}function NM(n,e,t){return z0(SM,n,e,t)}function oS(n){return(n%360+360)%360}function IM(n){const e=TM.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?eu(+e[5]):Mr(+e[5]));const r=oS(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=CM(r,o,c):e[1]==="hsv"?i=NM(r,o,c):i=B0(r,o,c),{r:i[0],g:i[1],b:i[2],a:t}}function DM(n,e){var t=U0(n);t[0]=oS(t[0]+e),t=B0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function OM(n){if(!n)return;const e=U0(n),t=e[0],i=iw(e[1]),r=iw(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${As(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const sw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function MM(){const n={},e=Object.keys(rw),t=Object.keys(sw);let i,r,o,c,h;for(i=0;i<e.length;i++){for(c=h=e[i],r=0;r<t.length;r++)o=t[r],h=h.replace(o,sw[o]);o=parseInt(rw[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Ad;function kM(n){Ad||(Ad=MM(),Ad.transparent=[0,0,0,0]);const e=Ad[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const jM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PM(n){const e=jM.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const c=+e[7];t=e[8]?eu(c):Ar(c*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?eu(i):Ar(i,0,255)),r=255&(e[4]?eu(r):Ar(r,0,255)),o=255&(e[6]?eu(o):Ar(o,0,255)),{r:i,g:r,b:o,a:t}}}function LM(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${As(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const jp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ko=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function VM(n,e,t){const i=Ko(As(n.r)),r=Ko(As(n.g)),o=Ko(As(n.b));return{r:Mr(jp(i+t*(Ko(As(e.r))-i))),g:Mr(jp(r+t*(Ko(As(e.g))-r))),b:Mr(jp(o+t*(Ko(As(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Rd(n,e,t){if(n){let i=U0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=B0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function lS(n,e){return n&&Object.assign(e||{},n)}function aw(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Mr(n[3]))):(e=lS(n,{r:0,g:0,b:0,a:1}),e.a=Mr(e.a)),e}function UM(n){return n.charAt(0)==="r"?PM(n):IM(n)}class Nu{constructor(e){if(e instanceof Nu)return e;const t=typeof e;let i;t==="object"?i=aw(e):t==="string"&&(i=xM(e)||kM(e)||UM(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=lS(this._rgb);return e&&(e.a=As(e.a)),e}set rgb(e){this._rgb=aw(e)}rgbString(){return this._valid?LM(this._rgb):void 0}hexString(){return this._valid?EM(this._rgb):void 0}hslString(){return this._valid?OM(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const c=t===o?.5:t,h=2*c-1,d=i.a-r.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=VM(this._rgb,e._rgb,t)),this}clone(){return new Nu(this.rgb)}alpha(e){return this._rgb.a=Mr(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Yu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Rd(this._rgb,2,e),this}darken(e){return Rd(this._rgb,2,-e),this}saturate(e){return Rd(this._rgb,1,e),this}desaturate(e){return Rd(this._rgb,1,-e),this}rotate(e){return DM(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ws(){}const zM=(()=>{let n=0;return()=>n++})();function fn(n){return n==null}function sn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ge(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ls(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ui(n,e){return Ls(n)?n:e}function Je(n,e){return typeof n>"u"?e:n}const BM=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,cS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function lt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ze(n,e,t,i){let r,o,c;if(sn(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(Ge(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)e.call(t,n[c[r]],c[r])}function Ef(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Tf(n){if(sn(n))return n.map(Tf);if(Ge(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Tf(n[t[r]]);return e}return n}function uS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function FM(n,e,t,i){if(!uS(n))return;const r=e[n],o=t[n];Ge(r)&&Ge(o)?Iu(r,o,i):e[n]=Tf(o)}function Iu(n,e,t){const i=sn(e)?e:[e],r=i.length;if(!Ge(n))return n;t=t||{};const o=t.merger||FM;let c;for(let h=0;h<r;++h){if(c=i[h],!Ge(c))continue;const d=Object.keys(c);for(let m=0,y=d.length;m<y;++m)o(d[m],n,c,t)}return n}function du(n,e){return Iu(n,e,{merger:HM})}function HM(n,e,t){if(!uS(n))return;const i=e[n],r=t[n];Ge(i)&&Ge(r)?du(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Tf(r))}const ow={"":n=>n,x:n=>n.x,y:n=>n.y};function qM(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function GM(n){const e=qM(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Du(n,e){return(ow[e]||(ow[e]=GM(e)))(n)}function F0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Sf=n=>typeof n<"u",Fr=n=>typeof n=="function",lw=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function YM(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Kt=Math.PI,It=2*Kt,Af=Number.POSITIVE_INFINITY,WM=Kt/180,Vt=Kt/2,Oa=Kt/4,cw=Kt*2/3,uw=Math.sign;function $M(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function KM(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Rf(n){return!KM(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Ua(n){return n*(Kt/180)}function QM(n){return n*(180/Kt)}function hS(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*Kt&&(o+=It),{angle:o,distance:r}}function XM(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Ma(n){return(n%It+It)%It}function Cf(n,e,t,i){const r=Ma(n),o=Ma(e),c=Ma(t),h=Ma(o-r),d=Ma(c-r),m=Ma(r-o),y=Ma(r-c);return r===o||r===c||i&&o===c||h>d&&m<y}function si(n,e,t){return Math.max(e,Math.min(t,n))}function ZM(n){return si(n,-32768,32767)}function tu(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function H0(n,e,t){t=t||(c=>n[c]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const xy=(n,e,t,i)=>H0(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),JM=(n,e,t)=>H0(n,t,i=>n[i][e]>=t);function ek(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const dS=["push","pop","shift","splice","unshift"];function tk(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),dS.forEach(t=>{const i="_onData"+F0(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function hw(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(dS.forEach(o=>{delete n[o]}),delete n._chartjs)}function nk(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const fS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function mS(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,fS.call(window,()=>{i=!1,n.apply(e,t)}))}}function ik(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const gS=n=>n==="start"?"left":n==="end"?"right":"center",Un=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,sk=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,Cd=n=>n===0||n===1,dw=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*It/t)),fw=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*It/t)+1,fu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Vt)+1,easeOutSine:n=>Math.sin(n*Vt),easeInOutSine:n=>-.5*(Math.cos(Kt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cd(n)?n:dw(n,.075,.3),easeOutElastic:n=>Cd(n)?n:fw(n,.075,.3),easeInOutElastic(n){return Cd(n)?n:n<.5?.5*dw(n*2,.1125,.45):.5+.5*fw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-fu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?fu.easeInBounce(n*2)*.5:fu.easeOutBounce(n*2-1)*.5+.5};function pS(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function mw(n){return pS(n)?n:new Nu(n)}function Pp(n){return pS(n)?n:new Nu(n).saturate(.5).darken(.1).hexString()}const rk=["x","y","borderWidth","radius","tension"],ak=["color","borderColor","backgroundColor"];function ok(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:ak},numbers:{type:"number",properties:rk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function lk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const gw=new Map;function ck(n,e){e=e||{};const t=n+JSON.stringify(e);let i=gw.get(t);return i||(i=new Intl.NumberFormat(n,e),gw.set(t,i)),i}function uk(n,e,t){return ck(e,t).format(n)}const hk={values(n){return sn(n)?n:""+n}};var dk={formatters:hk};function fk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Qa=Object.create(null),wy=Object.create(null);function mu(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Lp(n,e,t){return typeof e=="string"?Iu(mu(n,e),t):Iu(mu(n,""),e)}class mk{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Pp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Pp(r.borderColor),this.hoverColor=(i,r)=>Pp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Lp(this,e,t)}get(e){return mu(this,e)}describe(e,t){return Lp(wy,e,t)}override(e,t){return Lp(Qa,e,t)}route(e,t,i,r){const o=mu(this,e),c=mu(this,i),h="_"+t;Object.defineProperties(o,{[h]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[h],m=c[r];return Ge(d)?Object.assign({},m,d):Je(d,m)},set(d){this[h]=d}}})}apply(e){e.forEach(t=>t(this))}}var Et=new mk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ok,lk,fk]);function gk(n){return!n||fn(n.size)||fn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function pw(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function ka(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function yw(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function vw(n,e,t,i){yS(n,e,t,i,null)}function yS(n,e,t,i,r){let o,c,h,d,m,y,b,x;const T=e.pointStyle,S=e.rotation,I=e.radius;let C=(S||0)*WM;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(C),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),T){default:r?n.ellipse(t,i,r/2,I,0,0,It):n.arc(t,i,I,0,It),n.closePath();break;case"triangle":y=r?r/2:I,n.moveTo(t+Math.sin(C)*y,i-Math.cos(C)*I),C+=cw,n.lineTo(t+Math.sin(C)*y,i-Math.cos(C)*I),C+=cw,n.lineTo(t+Math.sin(C)*y,i-Math.cos(C)*I),n.closePath();break;case"rectRounded":m=I*.516,d=I-m,c=Math.cos(C+Oa)*d,b=Math.cos(C+Oa)*(r?r/2-m:d),h=Math.sin(C+Oa)*d,x=Math.sin(C+Oa)*(r?r/2-m:d),n.arc(t-b,i-h,m,C-Kt,C-Vt),n.arc(t+x,i-c,m,C-Vt,C),n.arc(t+b,i+h,m,C,C+Vt),n.arc(t-x,i+c,m,C+Vt,C+Kt),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*I,y=r?r/2:d,n.rect(t-y,i-d,2*y,2*d);break}C+=Oa;case"rectRot":b=Math.cos(C)*(r?r/2:I),c=Math.cos(C)*I,h=Math.sin(C)*I,x=Math.sin(C)*(r?r/2:I),n.moveTo(t-b,i-h),n.lineTo(t+x,i-c),n.lineTo(t+b,i+h),n.lineTo(t-x,i+c),n.closePath();break;case"crossRot":C+=Oa;case"cross":b=Math.cos(C)*(r?r/2:I),c=Math.cos(C)*I,h=Math.sin(C)*I,x=Math.sin(C)*(r?r/2:I),n.moveTo(t-b,i-h),n.lineTo(t+b,i+h),n.moveTo(t+x,i-c),n.lineTo(t-x,i+c);break;case"star":b=Math.cos(C)*(r?r/2:I),c=Math.cos(C)*I,h=Math.sin(C)*I,x=Math.sin(C)*(r?r/2:I),n.moveTo(t-b,i-h),n.lineTo(t+b,i+h),n.moveTo(t+x,i-c),n.lineTo(t-x,i+c),C+=Oa,b=Math.cos(C)*(r?r/2:I),c=Math.cos(C)*I,h=Math.sin(C)*I,x=Math.sin(C)*(r?r/2:I),n.moveTo(t-b,i-h),n.lineTo(t+b,i+h),n.moveTo(t+x,i-c),n.lineTo(t-x,i+c);break;case"line":c=r?r/2:Math.cos(C)*I,h=Math.sin(C)*I,n.moveTo(t-c,i-h),n.lineTo(t+c,i+h);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(C)*(r?r/2:I),i+Math.sin(C)*I);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function vS(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function q0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function G0(n){n.restore()}function pk(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),fn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function yk(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,d=t-o.actualBoundingBoxAscent,m=t+o.actualBoundingBoxDescent,y=r.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function vk(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Nf(n,e,t,i,r,o={}){const c=sn(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let d,m;for(n.save(),n.font=r.string,pk(n,o),d=0;d<c.length;++d)m=c[d],o.backdrop&&vk(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),fn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,t,i,o.maxWidth)),n.fillText(m,t,i,o.maxWidth),yk(n,t,i,m,o),i+=Number(r.lineHeight);n.restore()}function Ey(n,e){const{x:t,y:i,w:r,h:o,radius:c}=e;n.arc(t+c.topLeft,i+c.topLeft,c.topLeft,1.5*Kt,Kt,!0),n.lineTo(t,i+o-c.bottomLeft),n.arc(t+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Kt,Vt,!0),n.lineTo(t+r-c.bottomRight,i+o),n.arc(t+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Vt,0,!0),n.lineTo(t+r,i+c.topRight),n.arc(t+r-c.topRight,i+c.topRight,c.topRight,0,-Vt,!0),n.lineTo(t+c.topLeft,i)}const _k=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xk(n,e){const t=(""+n).match(_k);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const wk=n=>+n||0;function Y0(n,e){const t={},i=Ge(e),r=i?Object.keys(e):e,o=Ge(n)?i?c=>Je(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of r)t[c]=wk(o(c));return t}function Ek(n){return Y0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function gu(n){return Y0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function _i(n){const e=Ek(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nn(n,e){n=n||{},e=e||Et.font;let t=Je(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Je(n.style,e.style);i&&!(""+i).match(bk)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Je(n.family,e.family),lineHeight:xk(Je(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Je(n.weight,e.weight),string:""};return r.string=gk(r),r}function Nd(n,e,t,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function Tk(n,e,t){const{min:i,max:r}=n,o=cS(e,(r-i)/2),c=(h,d)=>t&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Nl(n,e){return Object.assign(Object.create(n),e)}function W0(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=wS("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>W0([h,...n],e,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return bS(h,d,()=>Ok(d,e,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return bw(h).includes(d)},ownKeys(h){return bw(h)},set(h,d,m){const y=h._storage||(h._storage=r());return h[d]=y[d]=m,delete h._keys,!0}})}function yl(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:_S(n,i),setContext:o=>yl(n,o,t,i),override:o=>yl(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return bS(o,c,()=>Ak(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function _S(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Fr(t)?t:()=>t,isIndexable:Fr(i)?i:()=>i}}const Sk=(n,e)=>n?n+F0(e):e,$0=(n,e)=>Ge(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function Ak(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[e];return Fr(h)&&c.isScriptable(e)&&(h=Rk(e,h,n,t)),sn(h)&&h.length&&(h=Ck(e,h,n,c.isIndexable)),$0(e,h)&&(h=yl(h,r,o&&o[e],c)),h}function Rk(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=t;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=e(o,c||i);return h.delete(n),$0(n,d)&&(d=K0(r._scopes,r,n,d)),d}function Ck(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Ge(e[0])){const d=e,m=r._scopes.filter(y=>y!==d);e=[];for(const y of d){const b=K0(m,r,n,y);e.push(yl(b,o,c&&c[n],h))}}return e}function xS(n,e,t){return Fr(n)?n(e,t):n}const Nk=(n,e)=>n===!0?e:typeof n=="string"?Du(e,n):void 0;function Ik(n,e,t,i,r){for(const o of e){const c=Nk(t,o);if(c){n.add(c);const h=xS(c._fallback,t,r);if(typeof h<"u"&&h!==t&&h!==i)return h}else if(c===!1&&typeof i<"u"&&t!==i)return null}return!1}function K0(n,e,t,i){const r=e._rootScopes,o=xS(e._fallback,t,i),c=[...n,...r],h=new Set;h.add(i);let d=_w(h,c,t,o||t,i);return d===null||typeof o<"u"&&o!==t&&(d=_w(h,c,o,d,i),d===null)?!1:W0(Array.from(h),[""],r,o,()=>Dk(e,t,i))}function _w(n,e,t,i,r){for(;t;)t=Ik(n,e,t,i,r);return t}function Dk(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return sn(r)&&Ge(t)?t:r||{}}function Ok(n,e,t,i){let r;for(const o of e)if(r=wS(Sk(o,n),t),typeof r<"u")return $0(n,r)?K0(t,i,n,r):r}function wS(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function bw(n){let e=n._keys;return e||(e=n._keys=Mk(n._scopes)),e}function Mk(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Q0(){return typeof window<"u"&&typeof document<"u"}function X0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function If(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const um=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function kk(n,e){return um(n).getPropertyValue(e)}const jk=["top","right","bottom","left"];function Ba(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=jk[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Pk=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Lk(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,d;if(Pk(r,o,n.target))h=r,d=o;else{const m=e.getBoundingClientRect();h=i.clientX-m.left,d=i.clientY-m.top,c=!0}return{x:h,y:d,box:c}}function La(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=um(t),o=r.boxSizing==="border-box",c=Ba(r,"padding"),h=Ba(r,"border","width"),{x:d,y:m,box:y}=Lk(n,t),b=c.left+(y&&h.left),x=c.top+(y&&h.top);let{width:T,height:S}=e;return o&&(T-=c.width+h.width,S-=c.height+h.height),{x:Math.round((d-b)/T*t.width/i),y:Math.round((m-x)/S*t.height/i)}}function Vk(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&X0(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const c=o.getBoundingClientRect(),h=um(o),d=Ba(h,"border","width"),m=Ba(h,"padding");e=c.width-m.width-d.width,t=c.height-m.height-d.height,i=If(h.maxWidth,o,"clientWidth"),r=If(h.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Af,maxHeight:r||Af}}const Id=n=>Math.round(n*10)/10;function Uk(n,e,t,i){const r=um(n),o=Ba(r,"margin"),c=If(r.maxWidth,n,"clientWidth")||Af,h=If(r.maxHeight,n,"clientHeight")||Af,d=Vk(n,e,t);let{width:m,height:y}=d;if(r.boxSizing==="content-box"){const x=Ba(r,"border","width"),T=Ba(r,"padding");m-=T.width+x.width,y-=T.height+x.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=Id(Math.min(m,c,d.maxWidth)),y=Id(Math.min(y,h,d.maxHeight)),m&&!y&&(y=Id(m/2)),(e!==void 0||t!==void 0)&&i&&d.height&&y>d.height&&(y=d.height,m=Id(Math.floor(y*i))),{width:m,height:y}}function xw(n,e,t){const i=e||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const zk=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Q0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function ww(n,e){const t=kk(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Bk=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Fk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ol(n,e,t){return n?Bk(e,t):Fk()}function ES(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function TS(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Dd(n,e,t){return n.options.clip?n[t]:e[t]}function Hk(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Dd(t,e,"left"),right:Dd(t,e,"right"),top:Dd(i,e,"top"),bottom:Dd(i,e,"bottom")}:e}function qk(n,e){const t=e._clip;if(t.disabled)return!1;const i=Hk(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Gk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],c=t.duration;o.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(i-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=fS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(e),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ts=new Gk;const Ew="transparent",Yk={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=mw(n||Ew),r=i.valid&&mw(e||Ew);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Wk{constructor(e,t,i,r){const o=t[i];r=Nd([e.to,r,o,e.from]);const c=Nd([e.from,o,r]);this._active=!0,this._fn=e.fn||Yk[e.type||typeof c],this._easing=fu[e.easing]||fu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Nd([e.to,t,r,e.from]),this._from=Nd([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||t<i),!this._active){this._target[r]=h,this._notify(!0);return}if(t<0){this._target[r]=o;return}d=t/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class SS{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ge(e))return;const t=Object.keys(Et.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Ge(o))return;const c={};for(const h of t)c[h]=o[h];(sn(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(e,t){const i=t.options,r=Kk(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&$k(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const m=c[d];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(e,t));continue}const y=t[m];let b=o[m];const x=i.get(m);if(b)if(x&&b.active()){b.update(x,y,h);continue}else b.cancel();if(!x||!x.duration){e[m]=y;continue}o[m]=b=new Wk(x,e,m,y),r.push(b)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Ts.add(this._chart,i),!0}}function $k(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function Kk(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Tw(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function Qk(n,e,t){if(t===!1)return!1;const i=Tw(n,t),r=Tw(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Xk(n){let e,t,i,r;return Ge(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function AS(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function Sw(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let c,h,d,m;if(e===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===t){if(y=!0,i.all)continue;break}m=n.values[d],Ls(m)&&(o||e===0||uw(e)===uw(m))&&(e+=m)}return!y&&!i.all?0:e}function Zk(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,m,y;for(d=0,m=c.length;d<m;++d)y=c[d],h[d]={[r]:y,[o]:n[y]};return h}function Vp(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Jk(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function ej(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function tj(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Aw(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function Rw(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,m=c.axis,y=Jk(o,c,i),b=e.length;let x;for(let T=0;T<b;++T){const S=e[T],{[d]:I,[m]:C}=S,k=S._stacks||(S._stacks={});x=k[m]=tj(r,y,I),x[h]=C,x._top=Aw(x,c,!0,i.type),x._bottom=Aw(x,c,!1,i.type);const U=x._visualValues||(x._visualValues={});U[h]=C}}function Up(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function nj(n,e){return Nl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ij(n,e,t){return Nl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Fc(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const zp=n=>n==="reset"||n==="none",Cw=(n,e)=>e?n:Object.assign({},n),sj=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:AS(t,!0),values:null};class pu{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Vp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Fc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(b,x,T,S)=>b==="x"?x:b==="r"?S:T,o=t.xAxisID=Je(i.xAxisID,Up(e,"x")),c=t.yAxisID=Je(i.yAxisID,Up(e,"y")),h=t.rAxisID=Je(i.rAxisID,Up(e,"r")),d=t.indexAxis,m=t.iAxisID=r(d,o,c,h),y=t.vAxisID=r(d,c,o,h);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(m),t.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hw(this._data,this),e._stacked&&Fc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ge(t)){const r=this._cachedMeta;this._data=Zk(t,r)}else if(i!==t){if(i){hw(i,this);const r=this._cachedMeta;Fc(r),r._parsed=[]}t&&Object.isExtensible(t)&&tk(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=Vp(t.vScale,t),t.stack!==i.stack&&(r=!0,Fc(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(Rw(this,t._parsed),t._stacked=Vp(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=e===0&&t===r.length?!0:i._sorted,m=e>0&&i._parsed[e-1],y,b,x;if(this._parsing===!1)i._parsed=r,i._sorted=!0,x=r;else{sn(r[e])?x=this.parseArrayData(i,r,e,t):Ge(r[e])?x=this.parseObjectData(i,r,e,t):x=this.parsePrimitiveData(i,r,e,t);const T=()=>b[h]===null||m&&b[h]<m[h];for(y=0;y<t;++y)i._parsed[y+e]=b=x[y],d&&(T()&&(d=!1),m=b);i._sorted=d}c&&Rw(this,x)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:c}=e,h=o.axis,d=c.axis,m=o.getLabels(),y=o===c,b=new Array(r);let x,T,S;for(x=0,T=r;x<T;++x)S=x+i,b[x]={[h]:y||o.parse(m[S],S),[d]:c.parse(t[S],S)};return b}parseArrayData(e,t,i,r){const{xScale:o,yScale:c}=e,h=new Array(r);let d,m,y,b;for(d=0,m=r;d<m;++d)y=d+i,b=t[y],h[d]={x:o.parse(b[0],y),y:c.parse(b[1],y)};return h}parseObjectData(e,t,i,r){const{xScale:o,yScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(r);let y,b,x,T;for(y=0,b=r;y<b;++y)x=y+i,T=t[x],m[y]={x:o.parse(Du(T,h),x),y:c.parse(Du(T,d),x)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,c=t[e.axis],h={keys:AS(r,!0),values:t._stacks[e.axis]._visualValues};return Sw(h,c,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let c=o===null?NaN:o;const h=r&&i._stacks[t.axis];r&&h&&(r.values=h,c=Sw(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,c=r.length,h=this._getOtherScale(e),d=sj(t,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=ej(h);let x,T;function S(){T=r[x];const I=T[h.axis];return!Ls(T[e.axis])||y>I||b<I}for(x=0;x<c&&!(!S()&&(this.updateRangeFromParsed(m,e,T,d),o));++x);if(o){for(x=c-1;x>=0;--x)if(!S()){this.updateRangeFromParsed(m,e,T,d);break}}return m}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=t.length;r<o;++r)c=t[r][e.axis],Ls(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Xk(Je(this.options.clip,Qk(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(e,o,h,d),y=h;y<h+d;++y){const b=r[y];b.hidden||(b.active&&m?c.push(b):b.draw(e,o))}for(y=0;y<c.length;++y)c[y].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=ij(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=nj(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,c=e+"-"+t,h=o[c],d=this.enableOptionSharing&&Sf(i);if(h)return Cw(h,d);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,e),b=r?[`${e}Hover`,"hover",e,""]:[e,""],x=m.getOptionScopes(this.getDataset(),y),T=Object.keys(Et.elements[e]),S=()=>this.getContext(i,r,t),I=m.resolveNamedOptions(x,T,S,b);return I.$shared&&(I.$shared=d,o[c]=Object.freeze(Cw(I,d))),I}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,t),x=y.getOptionScopes(this.getDataset(),b);d=y.createResolver(x,this.getContext(e,i,t))}const m=new SS(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||zp(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:c}}updateElement(e,t,i,r){zp(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!zp(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const r=i.length,o=t.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,c=e+t;let h;const d=m=>{for(m.length+=t,h=m.length-1;h>=c;h--)m[h]=m[h-t]};for(d(o),h=e;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Fc(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie(pu,"defaults",{}),Ie(pu,"datasetElementType",null),Ie(pu,"dataElementType",null);function rj(n,e,t){let i=1,r=1,o=0,c=0;if(e<It){const h=n,d=h+e,m=Math.cos(h),y=Math.sin(h),b=Math.cos(d),x=Math.sin(d),T=(q,Z,ee)=>Cf(q,h,d,!0)?1:Math.max(Z,Z*t,ee,ee*t),S=(q,Z,ee)=>Cf(q,h,d,!0)?-1:Math.min(Z,Z*t,ee,ee*t),I=T(0,m,b),C=T(Vt,y,x),k=S(Kt,m,b),U=S(Kt+Vt,y,x);i=(I-k)/2,r=(C-U)/2,o=-(I+k)/2,c=-(C+U)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class nu extends pu{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=d=>+i[d];if(Ge(i[e])){const{key:d="value"}=this._parsing;o=m=>+Du(i[m],d)}let c,h;for(c=e,h=e+t;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ua(this.options.rotation-90)}_getCircumference(){return Ua(this.options.circumference)}_getRotationExtents(){let e=It,t=-It;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),d=Math.min(BM(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:y,rotation:b}=this._getRotationExtents(),{ratioX:x,ratioY:T,offsetX:S,offsetY:I}=rj(b,y,d),C=(i.width-c)/x,k=(i.height-c)/T,U=Math.max(Math.min(C,k)/2,0),q=cS(this.options.radius,U),Z=Math.max(q*d,0),ee=(q-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=S*q,this.offsetY=I*q,r.total=this.calculateTotal(),this.outerRadius=q-ee*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ee*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/It)}updateElements(e,t,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,y=(h.left+h.right)/2,b=(h.top+h.bottom)/2,x=o&&m.animateScale,T=x?0:this.innerRadius,S=x?0:this.outerRadius,{sharedOptions:I,includeOptions:C}=this._getSharedOptions(t,r);let k=this._getRotation(),U;for(U=0;U<t;++U)k+=this._circumference(U,o);for(U=t;U<t+i;++U){const q=this._circumference(U,o),Z=e[U],ee={x:y+this.offsetX,y:b+this.offsetY,startAngle:k,endAngle:k+q,circumference:q,outerRadius:S,innerRadius:T};C&&(ee.options=I||this.resolveDataElementOptions(U,Z.active?"active":r)),k+=q,this.updateElement(Z,U,ee,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?It*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=uk(t._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,o,c,h,d;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),e=c.data,h=c.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)d=h.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ie(nu,"id","doughnut"),Ie(nu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ie(nu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ie(nu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((o,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Ty extends nu{}Ie(Ty,"id","pie"),Ie(Ty,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ja(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Z0{constructor(e){Ie(this,"options");this.options=e||{}}static override(e){Object.assign(Z0.prototype,e)}init(){}formats(){return ja()}parse(){return ja()}format(){return ja()}add(){return ja()}diff(){return ja()}startOf(){return ja()}endOf(){return ja()}}var aj={_date:Z0};function oj(n,e,t,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&o.length){const m=h._reversePixels?JM:xy;if(i){if(r._sharedOptions){const y=o[0],b=typeof y.getRange=="function"&&y.getRange(e);if(b){const x=m(o,e,t-b),T=m(o,e,t+b);return{lo:x.lo,hi:T.hi}}}}else{const y=m(o,e,t);if(d){const{vScale:b}=r._cachedMeta,{_parsed:x}=n,T=x.slice(0,y.lo+1).reverse().findIndex(I=>!fn(I[b.axis]));y.lo-=Math.max(0,T);const S=x.slice(y.hi).findIndex(I=>!fn(I[b.axis]));y.hi+=Math.max(0,S)}return y}}return{lo:0,hi:o.length-1}}function hm(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,d=o.length;h<d;++h){const{index:m,data:y}=o[h],{lo:b,hi:x}=oj(o[h],e,c,r);for(let T=b;T<=x;++T){const S=y[T];S.skip||i(S,m,T)}}}function lj(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,c=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Bp(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||hm(n,t,e,function(h,d,m){!r&&!vS(h,n.chartArea,0)||h.inRange(e.x,e.y,i)&&o.push({element:h,datasetIndex:d,index:m})},!0),o}function cj(n,e,t,i){let r=[];function o(c,h,d){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:b}=hS(c,{x:e.x,y:e.y});Cf(b,m,y)&&r.push({element:c,datasetIndex:h,index:d})}return hm(n,t,e,o),r}function uj(n,e,t,i,r,o){let c=[];const h=lj(t);let d=Number.POSITIVE_INFINITY;function m(y,b,x){const T=y.inRange(e.x,e.y,r);if(i&&!T)return;const S=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(S))&&!T)return;const C=h(e,S);C<d?(c=[{element:y,datasetIndex:b,index:x}],d=C):C===d&&c.push({element:y,datasetIndex:b,index:x})}return hm(n,t,e,m),c}function Fp(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?cj(n,e,t,r):uj(n,e,t,i,r,o)}function Nw(n,e,t,i,r){const o=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return hm(n,t,e,(d,m,y)=>{d[c]&&d[c](e[t],r)&&(o.push({element:d,datasetIndex:m,index:y}),h=h||d.inRange(e.x,e.y,r))}),i&&!h?[]:o}var hj={modes:{index(n,e,t,i){const r=La(e,n),o=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?Bp(n,r,o,i,c):Fp(n,r,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,b=m.data[y];b&&!b.skip&&d.push({element:b,datasetIndex:m.index,index:y})}),d):[]},dataset(n,e,t,i){const r=La(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?Bp(n,r,o,i,c):Fp(n,r,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:d,index:y})}return h},point(n,e,t,i){const r=La(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return Bp(n,r,o,i,c)},nearest(n,e,t,i){const r=La(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return Fp(n,r,o,t.intersect,i,c)},x(n,e,t,i){const r=La(e,n);return Nw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=La(e,n);return Nw(n,r,"y",t.intersect,i)}}};const RS=["left","top","right","bottom"];function Hc(n,e){return n.filter(t=>t.pos===e)}function Iw(n,e){return n.filter(t=>RS.indexOf(t.pos)===-1&&t.box.axis===e)}function qc(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function dj(n){const e=[];let t,i,r,o,c,h;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:c,stackWeight:h=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return e}function fj(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!RS.includes(r))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function mj(n,e){const t=fj(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,m=t[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:d&&e.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:d&&e.availableHeight)}return t}function gj(n){const e=dj(n),t=qc(e.filter(m=>m.box.fullSize),!0),i=qc(Hc(e,"left"),!0),r=qc(Hc(e,"right")),o=qc(Hc(e,"top"),!0),c=qc(Hc(e,"bottom")),h=Iw(e,"x"),d=Iw(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:Hc(e,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function Dw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function CS(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function pj(n,e,t,i){const{pos:r,box:o}=t,c=n.maxPadding;if(!Ge(r)){t.size&&(n[r]-=t.size);const b=i[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?o.height:o.width),t.size=b.size/b.count,n[r]+=t.size}o.getPadding&&CS(c,o.getPadding());const h=Math.max(0,e.outerWidth-Dw(c,n,"left","right")),d=Math.max(0,e.outerHeight-Dw(c,n,"top","bottom")),m=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,t.horizontal?{same:m,other:y}:{same:y,other:m}}function yj(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function vj(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return i(n?["left","right"]:["top","bottom"])}function iu(n,e,t,i){const r=[];let o,c,h,d,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||e.w,h.height||e.h,vj(h.horizontal,e));const{same:b,other:x}=pj(e,t,h,i);m|=b&&r.length,y=y||x,d.fullSize||r.push(h)}return m&&iu(r,e,t,i)||y}function Od(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Ow(n,e,t,i){const r=t.padding;let{x:o,y:c}=e;for(const h of n){const d=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const b=e.w*y,x=m.size||d.height;Sf(m.start)&&(c=m.start),d.fullSize?Od(d,r.left,c,t.outerWidth-r.right-r.left,x):Od(d,e.left+m.placed,c,b,x),m.start=c,m.placed+=b,c=d.bottom}else{const b=e.h*y,x=m.size||d.width;Sf(m.start)&&(o=m.start),d.fullSize?Od(d,o,r.top,x,t.outerHeight-r.bottom-r.top):Od(d,o,e.top+m.placed,x,b),m.start=o,m.placed+=b,o=d.right}}e.x=o,e.y=c}var Rr={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=_i(n.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(t-r.height,0),h=gj(n.boxes),d=h.vertical,m=h.horizontal;Ze(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const y=d.reduce((I,C)=>C.box.options&&C.box.options.display===!1?I:I+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),x=Object.assign({},r);CS(x,_i(i));const T=Object.assign({maxPadding:x,w:o,h:c,x:r.left,y:r.top},r),S=mj(d.concat(m),b);iu(h.fullSize,T,b,S),iu(d,T,b,S),iu(m,T,b,S)&&iu(d,T,b,S),yj(T),Ow(h.leftAndTop,T,b,S),T.x+=T.w,T.y+=T.h,Ow(h.rightAndBottom,T,b,S),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Ze(h.chartArea,I=>{const C=I.box;Object.assign(C,n.chartArea),C.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class NS{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class _j extends NS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Xd="$chartjs",bj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Mw=n=>n===null||n==="";function xj(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Xd]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Mw(r)){const o=ww(n,"width");o!==void 0&&(n.width=o)}if(Mw(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=ww(n,"height");o!==void 0&&(n.height=o)}return n}const IS=zk?{passive:!0}:!1;function wj(n,e,t){n&&n.addEventListener(e,t,IS)}function Ej(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,IS)}function Tj(n,e){const t=bj[n.type]||n.type,{x:i,y:r}=La(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Df(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Sj(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Df(h.addedNodes,i),c=c&&!Df(h.removedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Aj(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Df(h.removedNodes,i),c=c&&!Df(h.addedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ou=new Map;let kw=0;function DS(){const n=window.devicePixelRatio;n!==kw&&(kw=n,Ou.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Rj(n,e){Ou.size||window.addEventListener("resize",DS),Ou.set(n,e)}function Cj(n){Ou.delete(n),Ou.size||window.removeEventListener("resize",DS)}function Nj(n,e,t){const i=n.canvas,r=i&&X0(i);if(!r)return;const o=mS((h,d)=>{const m=r.clientWidth;t(h,d),m<r.clientWidth&&t()},window),c=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,y=d.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(r),Rj(n,o),c}function Hp(n,e,t){t&&t.disconnect(),e==="resize"&&Cj(n)}function Ij(n,e,t){const i=n.canvas,r=mS(o=>{n.ctx!==null&&t(Tj(o,n))},n);return wj(i,e,r),r}class Dj extends NS{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(xj(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Xd])return!1;const i=t[Xd].initial;["height","width"].forEach(o=>{const c=i[o];fn(c)?t.removeAttribute(o):t.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[Xd],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),c={attach:Sj,detach:Aj,resize:Nj}[t]||Ij;r[t]=c(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Hp,detach:Hp,resize:Hp}[t]||Ej)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return Uk(e,t,i,r)}isAttached(e){const t=e&&X0(e);return!!(t&&t.isConnected)}}function Oj(n){return!Q0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?_j:Dj}class Xa{constructor(){Ie(this,"x");Ie(this,"y");Ie(this,"active",!1);Ie(this,"options");Ie(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Rf(this.x)&&Rf(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}Ie(Xa,"defaults",{}),Ie(Xa,"defaultRoutes");function Mj(n,e){const t=n.options.ticks,i=kj(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?Pj(e):[],c=o.length,h=o[0],d=o[c-1],m=[];if(c>r)return Lj(e,m,o,c/r),m;const y=jj(o,e,r);if(c>0){let b,x;const T=c>1?Math.round((d-h)/(c-1)):null;for(Md(e,m,y,fn(T)?0:h-T,h),b=0,x=c-1;b<x;b++)Md(e,m,y,o[b],o[b+1]);return Md(e,m,y,d,fn(T)?e.length:d+T),m}return Md(e,m,y),m}function kj(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function jj(n,e,t){const i=Vj(n),r=e.length/t;if(!i)return Math.max(r,1);const o=$M(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function Pj(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Lj(n,e,t,i){let r=0,o=t[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(e.push(n[c]),r++,o=t[r*i])}function Md(n,e,t,i,r){const o=Je(i,0),c=Math.min(Je(r,n.length),n.length);let h=0,d,m,y;for(t=Math.ceil(t),r&&(d=r-i,t=d/Math.floor(d/t)),y=o;y<0;)h++,y=Math.round(o+h*t);for(m=Math.max(o,0);m<c;m++)m===y&&(e.push(n[m]),h++,y=Math.round(o+h*t))}function Vj(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const Uj=n=>n==="left"?"right":n==="right"?"left":n,jw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Pw=(n,e)=>Math.min(e||n,n);function Lw(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function zj(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),m;if(!(t&&(i===1?m=Math.max(d-o,c-d):e===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(r-1))/2,d+=r<e?m:-m,d<o-h||d>c+h)))return d}function Bj(n,e){Ze(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function Gc(n){return n.drawTicks?n.tickLength:0}function Vw(n,e){if(!n.display)return 0;const t=Nn(n.font,e),i=_i(n.padding);return(sn(n.text)?n.text.length:1)*t.lineHeight+i.height}function Fj(n,e){return Nl(n,{scale:e,type:"scale"})}function Hj(n,e,t){return Nl(n,{tick:t,index:e,type:"tick"})}function qj(n,e,t){let i=gS(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Uj(i)),i}function Gj(n,e,t,i){const{top:r,left:o,bottom:c,right:h,chart:d}=n,{chartArea:m,scales:y}=d;let b=0,x,T,S;const I=c-r,C=h-o;if(n.isHorizontal()){if(T=Un(i,o,h),Ge(t)){const k=Object.keys(t)[0],U=t[k];S=y[k].getPixelForValue(U)+I-e}else t==="center"?S=(m.bottom+m.top)/2+I-e:S=jw(n,t,e);x=h-o}else{if(Ge(t)){const k=Object.keys(t)[0],U=t[k];T=y[k].getPixelForValue(U)-C+e}else t==="center"?T=(m.left+m.right)/2-C+e:T=jw(n,t,e);S=Un(i,c,r),b=t==="left"?-Vt:Vt}return{titleX:T,titleY:S,maxWidth:x,rotation:b}}class dm extends Xa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Ui(e,Number.POSITIVE_INFINITY),t=Ui(t,Number.NEGATIVE_INFINITY),i=Ui(i,Number.POSITIVE_INFINITY),r=Ui(r,Number.NEGATIVE_INFINITY),{min:Ui(e,i),max:Ui(t,r),minDefined:Ls(e),maxDefined:Ls(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:t,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)c=h[d].controller.getMinMax(this,e),r||(t=Math.min(t,c.min)),o||(i=Math.max(i,c.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:Ui(t,Ui(i,t)),max:Ui(i,Ui(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Tk(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Lw(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Mj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lt(this.options.afterUpdate,[this])}beforeSetDimensions(){lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=lt(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Pw(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let c=r,h,d,m;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),b=y.widest.width,x=y.highest.height,T=si(this.chart.width-b,0,this.maxWidth);h=e.offset?this.maxWidth/i:T/(i-1),b+6>h&&(h=T/(i-(e.offset?.5:1)),d=this.maxHeight-Gc(e.grid)-t.padding-Vw(e.title,this.chart.options.font),m=Math.sqrt(b*b+x*x),c=QM(Math.min(Math.asin(si((y.highest.height+6)/h,-1,1)),Math.asin(si(d/m,-1,1))-Math.asin(si(x/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=Vw(r,t.options.font);if(h?(e.width=this.maxWidth,e.height=Gc(o)+d):(e.height=this.maxHeight,e.width=Gc(o)+d),i.display&&this.ticks.length){const{first:m,last:y,widest:b,highest:x}=this._getLabelSizes(),T=i.padding*2,S=Ua(this.labelRotation),I=Math.cos(S),C=Math.sin(S);if(h){const k=i.mirror?0:C*b.width+I*x.height;e.height=Math.min(this.maxHeight,e.height+k+T)}else{const k=i.mirror?0:I*b.width+C*x.height;e.width=Math.min(this.maxWidth,e.width+k+T)}this._calculatePadding(m,y,C,I)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,T=0;d?m?(x=r*e.width,T=i*t.height):(x=i*e.height,T=r*t.width):o==="start"?T=t.width:o==="end"?x=e.width:o!=="inner"&&(x=e.width/2,T=t.width/2),this.paddingLeft=Math.max((x-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((T-b+c)*this.width/(this.width-b),0)}else{let y=t.height/2,b=e.height/2;o==="start"?(y=0,b=e.height):o==="end"&&(y=t.height,b=0),this.paddingTop=y+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)fn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Lw(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(t/Pw(t,i));let m=0,y=0,b,x,T,S,I,C,k,U,q,Z,ee;for(b=0;b<t;b+=d){if(S=e[b].label,I=this._resolveTickFontOptions(b),r.font=C=I.string,k=o[C]=o[C]||{data:{},gc:[]},U=I.lineHeight,q=Z=0,!fn(S)&&!sn(S))q=pw(r,k.data,k.gc,q,S),Z=U;else if(sn(S))for(x=0,T=S.length;x<T;++x)ee=S[x],!fn(ee)&&!sn(ee)&&(q=pw(r,k.data,k.gc,q,ee),Z+=U);c.push(q),h.push(Z),m=Math.max(q,m),y=Math.max(Z,y)}Bj(o,t);const le=c.indexOf(m),M=h.indexOf(y),N=D=>({width:c[D]||0,height:h[D]||0});return{first:N(0),last:N(t-1),widest:N(le),highest:N(M),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return ZM(this._alignToPixels?ka(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=Hj(this.getContext(),e,i))}return this.$context||(this.$context=Fj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ua(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*r?h/i:d/r:d*r<h*i?d/i:h/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,m=this.isHorizontal(),b=this.ticks.length+(d?1:0),x=Gc(o),T=[],S=h.setContext(this.getContext()),I=S.display?S.width:0,C=I/2,k=function(Q){return ka(i,Q,I)};let U,q,Z,ee,le,M,N,D,O,L,B,j;if(c==="top")U=k(this.bottom),M=this.bottom-x,D=U-C,L=k(e.top)+C,j=e.bottom;else if(c==="bottom")U=k(this.top),L=e.top,j=k(e.bottom)-C,M=U+C,D=this.top+x;else if(c==="left")U=k(this.right),le=this.right-x,N=U-C,O=k(e.left)+C,B=e.right;else if(c==="right")U=k(this.left),O=e.left,B=k(e.right)-C,le=U+C,N=this.left+x;else if(t==="x"){if(c==="center")U=k((e.top+e.bottom)/2+.5);else if(Ge(c)){const Q=Object.keys(c)[0],ae=c[Q];U=k(this.chart.scales[Q].getPixelForValue(ae))}L=e.top,j=e.bottom,M=U+C,D=M+x}else if(t==="y"){if(c==="center")U=k((e.left+e.right)/2);else if(Ge(c)){const Q=Object.keys(c)[0],ae=c[Q];U=k(this.chart.scales[Q].getPixelForValue(ae))}le=U-C,N=le-x,O=e.left,B=e.right}const Fe=Je(r.ticks.maxTicksLimit,b),_e=Math.max(1,Math.ceil(b/Fe));for(q=0;q<b;q+=_e){const Q=this.getContext(q),ae=o.setContext(Q),fe=h.setContext(Q),Te=ae.lineWidth,z=ae.color,re=fe.dash||[],ue=fe.dashOffset,oe=ae.tickWidth,ge=ae.tickColor,Re=ae.tickBorderDash||[],ye=ae.tickBorderDashOffset;Z=zj(this,q,d),Z!==void 0&&(ee=ka(i,Z,Te),m?le=N=O=B=ee:M=D=L=j=ee,T.push({tx1:le,ty1:M,tx2:N,ty2:D,x1:O,y1:L,x2:B,y2:j,width:Te,color:z,borderDash:re,borderDashOffset:ue,tickWidth:oe,tickColor:ge,tickBorderDash:Re,tickBorderDashOffset:ye}))}return this._ticksLength=b,this._borderValue=U,T}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:y,mirror:b}=o,x=Gc(i.grid),T=x+y,S=b?-y:T,I=-Ua(this.labelRotation),C=[];let k,U,q,Z,ee,le,M,N,D,O,L,B,j="middle";if(r==="top")le=this.bottom-S,M=this._getXAxisLabelAlignment();else if(r==="bottom")le=this.top+S,M=this._getXAxisLabelAlignment();else if(r==="left"){const _e=this._getYAxisLabelAlignment(x);M=_e.textAlign,ee=_e.x}else if(r==="right"){const _e=this._getYAxisLabelAlignment(x);M=_e.textAlign,ee=_e.x}else if(t==="x"){if(r==="center")le=(e.top+e.bottom)/2+T;else if(Ge(r)){const _e=Object.keys(r)[0],Q=r[_e];le=this.chart.scales[_e].getPixelForValue(Q)+T}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")ee=(e.left+e.right)/2-T;else if(Ge(r)){const _e=Object.keys(r)[0],Q=r[_e];ee=this.chart.scales[_e].getPixelForValue(Q)}M=this._getYAxisLabelAlignment(x).textAlign}t==="y"&&(d==="start"?j="top":d==="end"&&(j="bottom"));const Fe=this._getLabelSizes();for(k=0,U=h.length;k<U;++k){q=h[k],Z=q.label;const _e=o.setContext(this.getContext(k));N=this.getPixelForTick(k)+o.labelOffset,D=this._resolveTickFontOptions(k),O=D.lineHeight,L=sn(Z)?Z.length:1;const Q=L/2,ae=_e.color,fe=_e.textStrokeColor,Te=_e.textStrokeWidth;let z=M;c?(ee=N,M==="inner"&&(k===U-1?z=this.options.reverse?"left":"right":k===0?z=this.options.reverse?"right":"left":z="center"),r==="top"?m==="near"||I!==0?B=-L*O+O/2:m==="center"?B=-Fe.highest.height/2-Q*O+O:B=-Fe.highest.height+O/2:m==="near"||I!==0?B=O/2:m==="center"?B=Fe.highest.height/2-Q*O:B=Fe.highest.height-L*O,b&&(B*=-1),I!==0&&!_e.showLabelBackdrop&&(ee+=O/2*Math.sin(I))):(le=N,B=(1-L)*O/2);let re;if(_e.showLabelBackdrop){const ue=_i(_e.backdropPadding),oe=Fe.heights[k],ge=Fe.widths[k];let Re=B-ue.top,ye=0-ue.left;switch(j){case"middle":Re-=oe/2;break;case"bottom":Re-=oe;break}switch(M){case"center":ye-=ge/2;break;case"right":ye-=ge;break;case"inner":k===U-1?ye-=ge:k>0&&(ye-=ge/2);break}re={left:ye,top:Re,width:ge+ue.width,height:oe+ue.height,color:_e.backdropColor}}C.push({label:Z,font:D,textOffset:B,options:{rotation:I,color:ae,strokeColor:fe,strokeWidth:Te,textAlign:z,textBaseline:j,translation:[ee,le],backdrop:re}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ua(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=e+o,d=c.widest.width;let m,y;return t==="left"?r?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=d/2):(m="right",y+=d)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=d/2):(m="left",y=this.left)):t==="right"?r?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=d/2):(m="left",y-=d)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=d/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const h=(d,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(t.display)for(o=0,c=r.length;o<c;++o){const d=r[o];t.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,y,b,x;this.isHorizontal()?(m=ka(e,this.left,c)-c/2,y=ka(e,this.right,h)+h/2,b=x=d):(b=ka(e,this.top,c)-c/2,x=ka(e,this.bottom,h)+h/2,m=y=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(m,b),t.lineTo(y,x),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&q0(i,r);const o=this.getLabelItems(e);for(const c of o){const h=c.options,d=c.font,m=c.label,y=c.textOffset;Nf(i,m,0,y,d,h)}r&&G0(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=Nn(i.font),c=_i(i.padding),h=i.align;let d=o.lineHeight/2;t==="bottom"||t==="center"||Ge(t)?(d+=c.bottom,sn(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:m,titleY:y,maxWidth:b,rotation:x}=Gj(this,d,t,h);Nf(e,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:x,textAlign:qj(h,t,r),textBaseline:"middle",translation:[m,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Je(e.grid&&e.grid.z,-1),r=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==dm.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=t.length;o<c;++o){const h=t[o];h[i]===this.id&&(!e||h.type===e)&&r.push(h)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Nn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kd{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;$j(t)&&(i=this.register(t));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,Yj(e,c,i),this.override&&Et.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Et[r]&&(delete Et[r][i],this.override&&delete Qa[i])}}function Yj(n,e,t){const i=Iu(Object.create(null),[t?Et.get(t):{},Et.get(e),n.defaults]);Et.set(e,i),n.defaultRoutes&&Wj(e,n.defaultRoutes),n.descriptors&&Et.describe(e,n.descriptors)}function Wj(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),c=e[t].split("."),h=c.pop(),d=c.join(".");Et.route(o,r,d,h)})}function $j(n){return"id"in n&&"defaults"in n}class Kj{constructor(){this.controllers=new kd(pu,"datasets",!0),this.elements=new kd(Xa,"elements"),this.plugins=new kd(Object,"plugins"),this.scales=new kd(dm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Ze(r,c=>{const h=i||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,i){const r=F0(e);lt(i["before"+r],[],i),t[e](i),lt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Bi=new Kj;class Qj{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,i,r){r=r||{};for(const o of e){const c=o.plugin,h=c[i],d=[t,r,o.options];if(lt(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){fn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Je(i.options&&i.options.plugins,{}),o=Xj(i);return r===!1&&!t?[]:Jj(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function Xj(n){const e={},t=[],i=Object.keys(Bi.plugins.items);for(let o=0;o<i.length;o++)t.push(Bi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function Zj(n,e){return!e&&n===!1?null:n===!0?{}:n}function Jj(n,{plugins:e,localIds:t},i,r){const o=[],c=n.getContext();for(const h of e){const d=h.id,m=Zj(i[d],r);m!==null&&o.push({plugin:h,options:eP(n.config,{plugin:h,local:t[d]},m,c)})}return o}function eP(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),c=n.getOptionScopes(i,o);return t&&e.defaults&&c.push(e.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sy(n,e){const t=Et.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function tP(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function nP(n,e){return n===e?"_index_":"_value_"}function Uw(n){if(n==="x"||n==="y"||n==="r")return n}function iP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ay(n,...e){if(Uw(n))return n;for(const t of e){const i=t.axis||iP(t.position)||n.length>1&&Uw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function zw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function sP(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return zw(n,"x",t[0])||zw(n,"y",t[0])}return{}}function rP(n,e){const t=Qa[n.type]||{scales:{}},i=e.scales||{},r=Sy(n.type,e),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Ge(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Ay(c,h,sP(c,n),Et.scales[h.type]),m=nP(d,r),y=t.scales||{};o[c]=du(Object.create(null),[{axis:d},h,y[d],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Sy(h,e),y=(Qa[h]||{}).scales||{};Object.keys(y).forEach(b=>{const x=tP(b,d),T=c[x+"AxisID"]||x;o[T]=o[T]||Object.create(null),du(o[T],[{axis:x},i[T],y[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];du(h,[Et.scales[h.type],Et.scale])}),o}function OS(n){const e=n.options||(n.options={});e.plugins=Je(e.plugins,{}),e.scales=rP(n,e)}function MS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function aP(n){return n=n||{},n.data=MS(n.data),OS(n),n}const Bw=new Map,kS=new Set;function jd(n,e){let t=Bw.get(n);return t||(t=e(),Bw.set(n,t),kS.add(t)),t}const Yc=(n,e,t)=>{const i=Du(e,t);i!==void 0&&n.add(i)};class oP{constructor(e){this._config=aP(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=MS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),OS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return jd(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return jd(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return jd(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,c=this._cachedScopes(e,i),h=c.get(t);if(h)return h;const d=new Set;t.forEach(y=>{e&&(d.add(e),y.forEach(b=>Yc(d,e,b))),y.forEach(b=>Yc(d,r,b)),y.forEach(b=>Yc(d,Qa[o]||{},b)),y.forEach(b=>Yc(d,Et,b)),y.forEach(b=>Yc(d,wy,b))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),kS.has(t)&&c.set(t,m),m}chartOptionScopes(){const{options:e,type:t}=this;return[e,Qa[t]||{},Et.datasets[t]||{},{type:t},Et,wy]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Fw(this._resolverCache,e,r);let d=c;if(cP(c,t)){o.$shared=!1,i=Fr(i)?i():i;const m=this.createResolver(e,i,h);d=yl(c,i,m)}for(const m of t)o[m]=d[m];return o}createResolver(e,t,i=[""],r){const{resolver:o}=Fw(this._resolverCache,e,i);return Ge(t)?yl(o,t,void 0,r):o}}function Fw(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:W0(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const lP=n=>Ge(n)&&Object.getOwnPropertyNames(n).some(e=>Fr(n[e]));function cP(n,e){const{isScriptable:t,isIndexable:i}=_S(n);for(const r of e){const o=t(r),c=i(r),h=(c||o)&&n[r];if(o&&(Fr(h)||lP(h))||c&&sn(h))return!0}return!1}var uP="4.4.9";const hP=["top","bottom","left","right","chartArea"];function Hw(n,e){return n==="top"||n==="bottom"||hP.indexOf(n)===-1&&e==="x"}function qw(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Gw(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),lt(t&&t.onComplete,[n],e)}function dP(n){const e=n.chart,t=e.options.animation;lt(t&&t.onProgress,[n],e)}function jS(n){return Q0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Zd={},Yw=n=>{const e=jS(n);return Object.values(Zd).filter(t=>t.canvas===e).pop()};function fP(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const c=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=c)}}}function mP(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var _r;let fm=(_r=class{static register(...e){Bi.add(...e),Ww()}static unregister(...e){Bi.remove(...e),Ww()}constructor(e,t){const i=this.config=new oP(t),r=jS(e),o=Yw(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Oj(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,m=d&&d.height,y=d&&d.width;if(this.id=zM(),this.ctx=h,this.canvas=d,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Qj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ik(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Zd[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Ts.listen(this,"complete",Gw),Ts.listen(this,"progress",dP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return fn(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yw(this.canvas,this.ctx),this}stop(){return Ts.stop(this),this}resize(e,t){Ts.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,t,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,xw(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),lt(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ze(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const h=t[c],d=Ay(c,h),m=d==="r",y=d==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),Ze(o,c=>{const h=c.options,d=h.id,m=Ay(d,h),y=Je(h.type,c.dtype);(h.position===void 0||Hw(h.position,m)!==Hw(c.dposition))&&(h.position=c.dposition),r[d]=!0;let b=null;if(d in i&&i[d].type===y)b=i[d];else{const x=Bi.getScale(y);b=new x({id:d,type:y,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,e)}),Ze(r,(c,h)=>{c||delete i[h]}),Ze(i,c=>{Rr.configure(this,c,c.options),Rr.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(qw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Sy(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=Bi.getController(h),{datasetElementType:m,dataElementType:y}=Et.datasets[h];Object.assign(d,{dataElementType:Bi.getElement(y),datasetElementType:m&&Bi.getElement(m)}),c.controller=new d(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Ze(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:b}=this.getDatasetMeta(m),x=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(x),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Ze(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(qw("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ze(this.scales,e=>{Rr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!lw(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const c=i==="_removeElements"?-o:o;fP(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!lw(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rr.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ze(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Fr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ts.has(this)?this.attached&&!Ts.running(this)&&Ts.start(this):(this.draw(),Gw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=qk(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&q0(t,r),e.controller.draw(),r&&G0(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return vS(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=hj.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Nl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);Sf(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ts.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Zd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Ze(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(d,m)=>{t.addEventListener(this,d,m),e[d]=m},r=(d,m)=>{e[d]&&(t.removeEventListener(this,d,m),delete e[d])},o=(d,m)=>{this.canvas&&this.resize(d,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){Ze(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ze(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,c,h,d;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=e.length;h<d;++h){c=e[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Ef(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(d,m)=>d.filter(y=>!m.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),c=o(t,e),h=i?e:o(e,t);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,c=t,h=this._getActiveElements(e,r,i,c),d=YM(e),m=mP(e,this._lastEvent,i,d);i&&(this._lastEvent=null,lt(o.onHover,[e,h,this],this),d&&lt(o.onClick,[e,h,this],this));const y=!Ef(h,r);return(y||t)&&(this._active=h,this._updateHoverStyles(h,r,t)),this._lastEvent=m,y}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}},Ie(_r,"defaults",Et),Ie(_r,"instances",Zd),Ie(_r,"overrides",Qa),Ie(_r,"registry",Bi),Ie(_r,"version",uP),Ie(_r,"getChart",Yw),_r);function Ww(){return Ze(fm.instances,n=>n._plugins.invalidate())}function gP(n,e,t){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:d}=e;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,t+m),d>r?(m=r/d,n.arc(o,c,d,t+m,i-m,!0)):n.arc(o,c,r,t+Vt,i-Vt),n.closePath(),n.clip()}function pP(n){return Y0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function yP(n,e,t,i){const r=pP(n.options.borderRadius),o=(t-e)/2,c=Math.min(o,i*e/2),h=d=>{const m=(t-Math.min(o,d))*i/2;return si(d,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:si(r.innerStart,0,c),innerEnd:si(r.innerEnd,0,c)}}function Qo(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Of(n,e,t,i,r,o){const{x:c,y:h,startAngle:d,pixelMargin:m,innerRadius:y}=e,b=Math.max(e.outerRadius+i+t-m,0),x=y>0?y+i+t+m:0;let T=0;const S=r-d;if(i){const _e=y>0?y-i:0,Q=b>0?b-i:0,ae=(_e+Q)/2,fe=ae!==0?S*ae/(ae+i):S;T=(S-fe)/2}const I=Math.max(.001,S*b-t/Kt)/b,C=(S-I)/2,k=d+C+T,U=r-C-T,{outerStart:q,outerEnd:Z,innerStart:ee,innerEnd:le}=yP(e,x,b,U-k),M=b-q,N=b-Z,D=k+q/M,O=U-Z/N,L=x+ee,B=x+le,j=k+ee/L,Fe=U-le/B;if(n.beginPath(),o){const _e=(D+O)/2;if(n.arc(c,h,b,D,_e),n.arc(c,h,b,_e,O),Z>0){const Te=Qo(N,O,c,h);n.arc(Te.x,Te.y,Z,O,U+Vt)}const Q=Qo(B,U,c,h);if(n.lineTo(Q.x,Q.y),le>0){const Te=Qo(B,Fe,c,h);n.arc(Te.x,Te.y,le,U+Vt,Fe+Math.PI)}const ae=(U-le/x+(k+ee/x))/2;if(n.arc(c,h,x,U-le/x,ae,!0),n.arc(c,h,x,ae,k+ee/x,!0),ee>0){const Te=Qo(L,j,c,h);n.arc(Te.x,Te.y,ee,j+Math.PI,k-Vt)}const fe=Qo(M,k,c,h);if(n.lineTo(fe.x,fe.y),q>0){const Te=Qo(M,D,c,h);n.arc(Te.x,Te.y,q,k-Vt,D)}}else{n.moveTo(c,h);const _e=Math.cos(D)*b+c,Q=Math.sin(D)*b+h;n.lineTo(_e,Q);const ae=Math.cos(O)*b+c,fe=Math.sin(O)*b+h;n.lineTo(ae,fe)}n.closePath()}function vP(n,e,t,i,r){const{fullCircles:o,startAngle:c,circumference:h}=e;let d=e.endAngle;if(o){Of(n,e,t,i,d,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(d=c+(h%It||It))}return Of(n,e,t,i,d,r),n.fill(),d}function _P(n,e,t,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:d}=e,{borderWidth:m,borderJoinStyle:y,borderDash:b,borderDashOffset:x}=d,T=d.borderAlign==="inner";if(!m)return;n.setLineDash(b||[]),n.lineDashOffset=x,T?(n.lineWidth=m*2,n.lineJoin=y||"round"):(n.lineWidth=m,n.lineJoin=y||"bevel");let S=e.endAngle;if(o){Of(n,e,t,i,S,r);for(let I=0;I<o;++I)n.stroke();isNaN(h)||(S=c+(h%It||It))}T&&gP(n,e,S),o||(Of(n,e,t,i,S,r),n.stroke())}class su extends Xa{constructor(t){super();Ie(this,"circumference");Ie(this,"endAngle");Ie(this,"fullCircles");Ie(this,"innerRadius");Ie(this,"outerRadius");Ie(this,"pixelMargin");Ie(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const o=this.getProps(["x","y"],r),{angle:c,distance:h}=hS(o,{x:t,y:i}),{startAngle:d,endAngle:m,innerRadius:y,outerRadius:b,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),T=(this.options.spacing+this.options.borderWidth)/2,S=Je(x,m-d),I=Cf(c,d,m)&&d!==m,C=S>=It||I,k=tu(h,y+T,b+T);return C&&k}getCenterPoint(t){const{x:i,y:r,startAngle:o,endAngle:c,innerRadius:h,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:m,spacing:y}=this.options,b=(o+c)/2,x=(h+d+y+m)/2;return{x:i+Math.cos(b)*x,y:r+Math.sin(b)*x}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,o=(i.offset||0)/4,c=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>It?Math.floor(r/It):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*o,Math.sin(d)*o);const m=1-Math.sin(Math.min(Kt,r||0)),y=o*m;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,vP(t,this,y,c,h),_P(t,this,y,c,h),t.restore()}}Ie(su,"id","arc"),Ie(su,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ie(su,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ie(su,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const $w=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},bP=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Kw extends Xa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=lt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Nn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=$w(i,o);let m,y;t.font=r.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,d)+10):(y=this.maxHeight,m=this._fitCols(c,r,h,d)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],y=r+h;let b=e;o.textAlign="left",o.textBaseline="middle";let x=-1,T=-y;return this.legendItems.forEach((S,I)=>{const C=i+t/2+o.measureText(S.text).width;(I===0||m[m.length-1]+C+2*h>c)&&(b+=y,m[m.length-(I>0?0:1)]=0,T+=y,x++),d[I]={left:0,top:T,row:x,width:C,height:r},m[m.length-1]+=C+h}),b}_fitCols(e,t,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-e;let b=h,x=0,T=0,S=0,I=0;return this.legendItems.forEach((C,k)=>{const{itemWidth:U,itemHeight:q}=xP(i,t,o,C,r);k>0&&T+q+2*h>y&&(b+=x+h,m.push({width:x,height:T}),S+=x+h,I++,x=T=0),d[k]={left:S,top:T,col:I,width:U,height:q},x=Math.max(x,U),T+=q+h}),b+=x,m.push({width:x,height:T}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,c=ol(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=Un(i,this.left+r,this.right-this.lineWidths[h]);for(const m of t)h!==m.row&&(h=m.row,d=Un(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+e+r,m.left=c.leftForLtr(c.x(d),m.width),d+=m.width+r}else{let h=0,d=Un(i,this.top+e+r,this.bottom-this.columnSizes[h].height);for(const m of t)m.col!==h&&(h=m.col,d=Un(i,this.top+e+r,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),d+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;q0(e,this),this._draw(),G0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:c}=e,h=Et.color,d=ol(e.rtl,this.left,this.width),m=Nn(c.font),{padding:y}=c,b=m.size,x=b/2;let T;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:S,boxHeight:I,itemHeight:C}=$w(c,b),k=function(le,M,N){if(isNaN(S)||S<=0||isNaN(I)||I<0)return;r.save();const D=Je(N.lineWidth,1);if(r.fillStyle=Je(N.fillStyle,h),r.lineCap=Je(N.lineCap,"butt"),r.lineDashOffset=Je(N.lineDashOffset,0),r.lineJoin=Je(N.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Je(N.strokeStyle,h),r.setLineDash(Je(N.lineDash,[])),c.usePointStyle){const O={radius:I*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:D},L=d.xPlus(le,S/2),B=M+x;yS(r,O,L,B,c.pointStyleWidth&&S)}else{const O=M+Math.max((b-I)/2,0),L=d.leftForLtr(le,S),B=gu(N.borderRadius);r.beginPath(),Object.values(B).some(j=>j!==0)?Ey(r,{x:L,y:O,w:S,h:I,radius:B}):r.rect(L,O,S,I),r.fill(),D!==0&&r.stroke()}r.restore()},U=function(le,M,N){Nf(r,N.text,le,M+C/2,m,{strikethrough:N.hidden,textAlign:d.textAlign(N.textAlign)})},q=this.isHorizontal(),Z=this._computeTitleHeight();q?T={x:Un(o,this.left+y,this.right-i[0]),y:this.top+y+Z,line:0}:T={x:this.left+y,y:Un(o,this.top+Z+y,this.bottom-t[0].height),line:0},ES(this.ctx,e.textDirection);const ee=C+y;this.legendItems.forEach((le,M)=>{r.strokeStyle=le.fontColor,r.fillStyle=le.fontColor;const N=r.measureText(le.text).width,D=d.textAlign(le.textAlign||(le.textAlign=c.textAlign)),O=S+x+N;let L=T.x,B=T.y;d.setWidth(this.width),q?M>0&&L+O+y>this.right&&(B=T.y+=ee,T.line++,L=T.x=Un(o,this.left+y,this.right-i[T.line])):M>0&&B+ee>this.bottom&&(L=T.x=L+t[T.line].width+y,T.line++,B=T.y=Un(o,this.top+Z+y,this.bottom-t[T.line].height));const j=d.x(L);if(k(j,B,le),L=sk(D,L+S+x,q?L+O:this.right,e.rtl),U(d.x(L),B,le),q)T.x+=O+y;else if(typeof le.text!="string"){const Fe=m.lineHeight;T.y+=PS(le,Fe)+y}else T.y+=ee}),TS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Nn(t.font),r=_i(t.padding);if(!t.display)return;const o=ol(e.rtl,this.left,this.width),c=this.ctx,h=t.position,d=i.size/2,m=r.top+d;let y,b=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),y=this.top+m,b=Un(e.align,b,this.right-x);else{const S=this.columnSizes.reduce((I,C)=>Math.max(I,C.height),0);y=m+Un(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const T=Un(h,b,b+x);c.textAlign=o.textAlign(gS(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=i.string,Nf(c,t.text,T,y,i)}_computeTitleHeight(){const e=this.options.title,t=Nn(e.font),i=_i(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(tu(e,this.left,this.right)&&tu(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],tu(e,r.left,r.left+r.width)&&tu(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!TP(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=bP(r,i);r&&!o&&lt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&lt(t.onHover,[e,i,this],this)}else i&&lt(t.onClick,[e,i,this],this)}}function xP(n,e,t,i,r){const o=wP(i,n,e,t),c=EP(r,i,e.lineHeight);return{itemWidth:o,itemHeight:c}}function wP(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+i.measureText(r).width}function EP(n,e,t){let i=n;return typeof e.text!="string"&&(i=PS(e,t)),i}function PS(n,e){const t=n.text?n.text.length:0;return e*t}function TP(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var SP={id:"legend",_element:Kw,start(n,e,t){const i=n.legend=new Kw({ctx:n.ctx,options:t,chart:n});Rr.configure(n,i,t),Rr.addBox(n,i)},stop(n){Rr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Rr.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(t?0:void 0),y=_i(m.borderWidth);return{text:e[d.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const ru={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const h=n[e].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),y=XM(e,m);y<r&&(r=y,h=d)}}if(h){const d=h.tooltipPosition();t=d.x,i=d.y}return{x:t,y:i}}};function zi(n,e){return e&&(sn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ss(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function AP(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Qw(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=e,d=Nn(e.bodyFont),m=Nn(e.titleFont),y=Nn(e.footerFont),b=o.length,x=r.length,T=i.length,S=_i(e.padding);let I=S.height,C=0,k=i.reduce((Z,ee)=>Z+ee.before.length+ee.lines.length+ee.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,b&&(I+=b*m.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),k){const Z=e.displayColors?Math.max(h,d.lineHeight):d.lineHeight;I+=T*Z+(k-T)*d.lineHeight+(k-1)*e.bodySpacing}x&&(I+=e.footerMarginTop+x*y.lineHeight+(x-1)*e.footerSpacing);let U=0;const q=function(Z){C=Math.max(C,t.measureText(Z).width+U)};return t.save(),t.font=m.string,Ze(n.title,q),t.font=d.string,Ze(n.beforeBody.concat(n.afterBody),q),U=e.displayColors?c+2+e.boxPadding:0,Ze(i,Z=>{Ze(Z.before,q),Ze(Z.lines,q),Ze(Z.after,q)}),U=0,t.font=y.string,Ze(n.footer,q),t.restore(),C+=S.width,{width:C,height:I}}function RP(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function CP(n,e,t,i){const{x:r,width:o}=i,c=t.caretSize+t.caretPadding;if(n==="left"&&r+o+c>e.width||n==="right"&&r-o-c<0)return!0}function NP(n,e,t,i){const{x:r,width:o}=t,{width:c,chartArea:{left:h,right:d}}=n;let m="center";return i==="center"?m=r<=(h+d)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),CP(m,n,e,t)&&(m="center"),m}function Xw(n,e,t){const i=t.yAlign||e.yAlign||RP(n,t);return{xAlign:t.xAlign||e.xAlign||NP(n,e,t,i),yAlign:i}}function IP(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function DP(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Zw(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=t,m=r+o,{topLeft:y,topRight:b,bottomLeft:x,bottomRight:T}=gu(c);let S=IP(e,h);const I=DP(e,d,m);return d==="center"?h==="left"?S+=m:h==="right"&&(S-=m):h==="left"?S-=Math.max(y,x)+r:h==="right"&&(S+=Math.max(b,T)+r),{x:si(S,0,i.width-e.width),y:si(I,0,i.height-e.height)}}function Pd(n,e,t){const i=_i(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Jw(n){return zi([],Ss(n))}function OP(n,e,t){return Nl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function eE(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const LS={beforeTitle:ws,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:ws,beforeBody:ws,beforeLabel:ws,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return fn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ws,afterBody:ws,beforeFooter:ws,footer:ws,afterFooter:ws};function Sn(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?LS[e].call(t,i):r}class Ry extends Xa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new SS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=OP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Sn(i,"beforeTitle",this,e),o=Sn(i,"title",this,e),c=Sn(i,"afterTitle",this,e);let h=[];return h=zi(h,Ss(r)),h=zi(h,Ss(o)),h=zi(h,Ss(c)),h}getBeforeBody(e,t){return Jw(Sn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Ze(e,o=>{const c={before:[],lines:[],after:[]},h=eE(i,o);zi(c.before,Ss(Sn(h,"beforeLabel",this,o))),zi(c.lines,Sn(h,"label",this,o)),zi(c.after,Ss(Sn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,t){return Jw(Sn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Sn(i,"beforeFooter",this,e),o=Sn(i,"footer",this,e),c=Sn(i,"afterFooter",this,e);let h=[];return h=zi(h,Ss(r)),h=zi(h,Ss(o)),h=zi(h,Ss(c)),h}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],d,m;for(d=0,m=t.length;d<m;++d)h.push(AP(this.chart,t[d]));return e.filter&&(h=h.filter((y,b,x)=>e.filter(y,b,x,i))),e.itemSort&&(h=h.sort((y,b)=>e.itemSort(y,b,i))),Ze(h,y=>{const b=eE(e.callbacks,y);r.push(Sn(b,"labelColor",this,y)),o.push(Sn(b,"labelPointStyle",this,y)),c.push(Sn(b,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=ru[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=Qw(this,i),m=Object.assign({},h,d),y=Xw(this.chart,i,m),b=Zw(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:m,bottomLeft:y,bottomRight:b}=gu(h),{x,y:T}=e,{width:S,height:I}=t;let C,k,U,q,Z,ee;return o==="center"?(Z=T+I/2,r==="left"?(C=x,k=C-c,q=Z+c,ee=Z-c):(C=x+S,k=C+c,q=Z-c,ee=Z+c),U=C):(r==="left"?k=x+Math.max(d,y)+c:r==="right"?k=x+S-Math.max(m,b)-c:k=this.caretX,o==="top"?(q=T,Z=q-c,C=k-c,U=k+c):(q=T+I,Z=q+c,C=k+c,U=k-c),ee=q),{x1:C,x2:k,x3:U,y1:q,y2:Z,y3:ee}}drawTitle(e,t,i){const r=this.title,o=r.length;let c,h,d;if(o){const m=ol(i.rtl,this.x,this.width);for(e.x=Pd(this,i.titleAlign,i),t.textAlign=m.textAlign(i.titleAlign),t.textBaseline="middle",c=Nn(i.titleFont),h=i.titleSpacing,t.fillStyle=i.titleColor,t.font=c.string,d=0;d<o;++d)t.fillText(r[d],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,d+1===o&&(e.y+=i.titleMarginBottom-h)}}_drawColorBox(e,t,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:m}=o,y=Nn(o.bodyFont),b=Pd(this,"left",o),x=r.x(b),T=d<y.lineHeight?(y.lineHeight-d)/2:0,S=t.y+T;if(o.usePointStyle){const I={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=r.leftForLtr(x,m)+m/2,k=S+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,vw(e,I,C,k),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,vw(e,I,C,k)}else{e.lineWidth=Ge(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const I=r.leftForLtr(x,m),C=r.leftForLtr(r.xPlus(x,1),m-2),k=gu(c.borderRadius);Object.values(k).some(U=>U!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ey(e,{x:I,y:S,w:m,h:d,radius:k}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Ey(e,{x:C,y:S+1,w:m-2,h:d-2,radius:k}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(I,S,m,d),e.strokeRect(I,S,m,d),e.fillStyle=c.backgroundColor,e.fillRect(C,S+1,m-2,d-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:y}=i,b=Nn(i.bodyFont);let x=b.lineHeight,T=0;const S=ol(i.rtl,this.x,this.width),I=function(N){t.fillText(N,S.x(e.x+T),e.y+x/2),e.y+=x+o},C=S.textAlign(c);let k,U,q,Z,ee,le,M;for(t.textAlign=c,t.textBaseline="middle",t.font=b.string,e.x=Pd(this,C,i),t.fillStyle=i.bodyColor,Ze(this.beforeBody,I),T=h&&C!=="right"?c==="center"?m/2+y:m+2+y:0,Z=0,le=r.length;Z<le;++Z){for(k=r[Z],U=this.labelTextColors[Z],t.fillStyle=U,Ze(k.before,I),q=k.lines,h&&q.length&&(this._drawColorBox(t,e,Z,S,i),x=Math.max(b.lineHeight,d)),ee=0,M=q.length;ee<M;++ee)I(q[ee]),x=b.lineHeight;Ze(k.after,I)}T=0,x=b.lineHeight,Ze(this.afterBody,I),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let c,h;if(o){const d=ol(i.rtl,this.x,this.width);for(e.x=Pd(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=d.textAlign(i.footerAlign),t.textBaseline="middle",c=Nn(i.footerFont),t.fillStyle=i.footerColor,t.font=c.string,h=0;h<o;++h)t.fillText(r[h],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=e,{width:m,height:y}=i,{topLeft:b,topRight:x,bottomLeft:T,bottomRight:S}=gu(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(h+b,d),c==="top"&&this.drawCaret(e,t,i,r),t.lineTo(h+m-x,d),t.quadraticCurveTo(h+m,d,h+m,d+x),c==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(h+m,d+y-S),t.quadraticCurveTo(h+m,d+y,h+m-S,d+y),c==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(h+T,d+y),t.quadraticCurveTo(h,d+y,h,d+y-T),c==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(h,d+b),t.quadraticCurveTo(h,d,h+b,d),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=ru[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Qw(this,e),d=Object.assign({},c,this._size),m=Xw(t,e,d),y=Zw(e,d,m,t);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=_i(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),ES(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),TS(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),o=!Ef(i,r),c=this._positionChanged(r,t);(o||c)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,i),h=this._positionChanged(c,e),d=t||!Ef(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,c=ru[o.position].call(this,e,t);return c!==!1&&(i!==c.x||r!==c.y)}}Ie(Ry,"positioners",ru);var MP={id:"tooltip",_element:Ry,positioners:ru,afterInit(n,e,t){t&&(n.tooltip=new Ry({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:LS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const mm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(mm);function tE(n,e){return n-e}function nE(n,e){if(fn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),Ls(c)||(c=typeof i=="string"?t.parse(c,i):t.parse(c)),c===null?null:(r&&(c=r==="week"&&(Rf(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,r)),+c)}function iE(n,e,t,i){const r=Cn.length;for(let o=Cn.indexOf(n);o<r-1;++o){const c=mm[Cn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=i)return Cn[o]}return Cn[r-1]}function kP(n,e,t,i,r){for(let o=Cn.length-1;o>=Cn.indexOf(t);o--){const c=Cn[o];if(mm[c].common&&n._adapter.diff(r,i,c)>=e-1)return c}return Cn[t?Cn.indexOf(t):0]}function jP(n){for(let e=Cn.indexOf(n)+1,t=Cn.length;e<t;++e)if(mm[Cn[e]].common)return Cn[e]}function sE(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=H0(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function PP(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),c=e[e.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,i))d=t[h],d>=0&&(e[d].major=!0);return e}function rE(n,e,t){const i=[],r={},o=e.length;let c,h;for(c=0;c<o;++c)h=e[c],r[h]=c,i.push({value:h,major:!1});return o===0||!t?i:PP(n,i,r,t)}class Mf extends dm{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new aj._date(e.adapters.date);r.init(t),du(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:nE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Ls(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=Ls(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=ek(r,o,c);return this._unit=t.unit||(i.autoSkip?iE(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):kP(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:jP(this._unit),this.initOffsets(r),e.reverse&&h.reverse(),rE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=si(t,0,c),i=si(i,0,c),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||iE(o.minUnit,t,i,this._getLabelCapacity(t)),h=Je(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,m=Rf(d)||d===!0,y={};let b=t,x,T;if(m&&(b=+e.startOf(b,"isoWeek",d)),b=+e.startOf(b,m?"day":c),e.diff(i,t,c)>1e5*h)throw new Error(t+" and "+i+" are too far apart with stepSize of "+h+" "+c);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(x=b,T=0;x<i;x=+e.add(x,h,c),T++)sE(y,x,S);return(x===i||r.bounds==="ticks"||T===1)&&sE(y,x,S),Object.keys(y).sort(tE).map(I=>+I)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,c=t||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,i,r){const o=this.options,c=o.ticks.callback;if(c)return lt(c,[e,t,i],this);const h=o.time.displayFormats,d=this._unit,m=this._majorUnit,y=d&&h[d],b=m&&h[m],x=i[t],T=m&&b&&x&&x.major;return this._adapter.format(e,r||(T?b:y))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Ua(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,rE(this,[e],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(nE(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return nk(e.sort(tE))}}Ie(Mf,"id","time"),Ie(Mf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ld(n,e,t){let i=0,r=n.length-1,o,c,h,d;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=xy(n,"pos",e)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=xy(n,"time",e)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[r]);const m=c-o;return m?h+(d-h)*(e-o)/m:h}class aE extends Mf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ld(t,this.min),this._tableRange=Ld(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let c,h,d,m,y;for(c=0,h=e.length;c<h;++c)m=e[c],m>=t&&m<=i&&r.push(m);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],d=r[c-1],m=r[c],Math.round((y+d)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ld(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Ld(this._table,i*this._tableRange+this._minPos,!0)}}Ie(aE,"id","timeseries"),Ie(aE,"defaults",Mf.defaults);const VS="label";function oE(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function LP(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function US(n,e){n.labels=e}function zS(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:VS;const i=[];n.datasets=e.map(r=>{const o=n.datasets.find(c=>c[t]===r[t]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function VP(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VS;const t={labels:[],datasets:[]};return US(t,n.labels),zS(t,n.datasets,e),t}function UP(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:m=[],fallbackContent:y,updateMode:b,...x}=n,T=V.useRef(null),S=V.useRef(null),I=()=>{T.current&&(S.current=new fm(T.current,{type:c,data:VP(h,o),options:d&&{...d},plugins:m}),oE(e,S.current))},C=()=>{oE(e,null),S.current&&(S.current.destroy(),S.current=null)};return V.useEffect(()=>{!r&&S.current&&d&&LP(S.current,d)},[r,d]),V.useEffect(()=>{!r&&S.current&&US(S.current.config.data,h.labels)},[r,h.labels]),V.useEffect(()=>{!r&&S.current&&h.datasets&&zS(S.current.config.data,h.datasets,o)},[r,h.datasets]),V.useEffect(()=>{S.current&&(r?(C(),setTimeout(I)):S.current.update(b))},[r,d,h.labels,h.datasets,b]),V.useEffect(()=>{S.current&&(C(),setTimeout(I))},[c]),V.useEffect(()=>(I(),()=>C()),[]),Hi.createElement("canvas",{ref:T,role:"img",height:t,width:i,...x},y)}const zP=V.forwardRef(UP);function BP(n,e){return fm.register(e),V.forwardRef((t,i)=>Hi.createElement(zP,{...t,ref:i,type:n}))}const FP=BP("pie",Ty);var BS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lE=Hi.createContext&&Hi.createContext(BS),HP=["attr","size","title"];function qP(n,e){if(n==null)return{};var t=GP(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function GP(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function kf(){return kf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kf.apply(this,arguments)}function cE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(t),!0).forEach(function(i){YP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YP(n,e,t){return e=WP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WP(n){var e=$P(n,"string");return typeof e=="symbol"?e:e+""}function $P(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FS(n){return n&&n.map((e,t)=>Hi.createElement(e.tag,jf({key:t},e.attr),FS(e.child)))}function Dt(n){return e=>Hi.createElement(KP,kf({attr:jf({},n.attr)},e),FS(n.child))}function KP(n){var e=t=>{var{attr:i,size:r,title:o}=n,c=qP(n,HP),h=r||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Hi.createElement("svg",kf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:d,style:jf(jf({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Hi.createElement("title",null,o),n.children)};return lE!==void 0?Hi.createElement(lE.Consumer,null,t=>e(t)):e(BS)}function QP(n){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 75.2v361.7c0 24.3-19 43.2-43.2 43.2H43.2C19.3 480 0 461.4 0 436.8V75.2C0 51.1 18.8 32 43.2 32h361.7c24 0 43.1 18.8 43.1 43.2zm-37.3 361.6V75.2c0-3-2.6-5.8-5.8-5.8h-9.3L285.3 144 224 94.1 162.8 144 52.5 69.3h-9.3c-3.2 0-5.8 2.8-5.8 5.8v361.7c0 3 2.6 5.8 5.8 5.8h361.7c3.2.1 5.8-2.7 5.8-5.8zM150.2 186v37H76.7v-37h73.5zm0 74.4v37.3H76.7v-37.3h73.5zm11.1-147.3l54-43.7H96.8l64.5 43.7zm210 72.9v37h-196v-37h196zm0 74.4v37.3h-196v-37.3h196zm-84.6-147.3l64.5-43.7H232.8l53.9 43.7zM371.3 335v37.3h-99.4V335h99.4z"},child:[]}]})(n)}function XP(n){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function ZP(n){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function JP(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function HS(n){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}function e5(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function t5(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function n5(n){return Dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function i5(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(n)}function s5(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(n)}function r5(n){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function a5(n){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function o5(n){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 32H32C14.33 32 0 46.33 0 64v384c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM176 327.88V344c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V152c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07zM416 312c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h112c4.42 0 8 3.58 8 8v16zm160 0c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-96c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h272c4.42 0 8 3.58 8 8v16z"},child:[]}]})(n)}function l5(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function c5(n){return Dt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function u5(n){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(n)}function h5(n){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(n)}function d5(n){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function f5(n){return Dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M128.3 160v32h32v-32zm64-96h-32v32h32zm-64 32v32h32V96zm64 32h-32v32h32zm177.6-30.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h79.7v16h32V48H208v104c0 13.3 10.7 24 24 24h104zM194.2 265.7c-1.1-5.6-6-9.7-11.8-9.7h-22.1v-32h-32v32l-19.7 97.1C102 385.6 126.8 416 160 416c33.1 0 57.9-30.2 51.5-62.6zm-33.9 124.4c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zm32-198.1h-32v32h32z"},child:[]}]})(n)}fm.register(su,MP,SP);const m5=()=>{const{currentUser:n}=Bs(),e=Za(),[t,i]=V.useState({firstName:"",lastName:""}),[r,o]=V.useState([]),[c,h]=V.useState(0),[d,m]=V.useState(!1);V.useEffect(()=>{if(!(n!=null&&n.uid))return;const C=vi($t,"users",n.uid),k=nw(C,U=>{if(U.exists()){const q=U.data();i({firstName:q.firstName||"",lastName:q.lastName||""}),h(q.balance||0)}});return()=>k()},[n]),V.useEffect(()=>{if(!n)return;const C=D0(zr($t,"loanRequests"),O0("email","==",n.email)),k=nw(C,U=>{const q=U.docs.map(Z=>({id:Z.id,...Z.data()}));o(q)});return()=>k()},[n]);const y=async()=>{await W4(pl),localStorage.clear(),e("/auth")},b=()=>{m(C=>!C)},x=r.filter(C=>C.status==="approved").length,T=r.filter(C=>C.status==="pending").length,S=r.filter(C=>C.status==="rejected").length,I={labels:["Approved","Pending","Rejected"],datasets:[{label:"Loan Status",data:[x,T,S],backgroundColor:["#4caf50","#ffeb3b","#f44336"]}]};return p.jsxs("div",{className:`flex flex-col md:flex-row min-h-screen ${d?"bg-gray-900 text-white":"bg-gray-100 text-gray-800"}`,children:[p.jsxs("aside",{className:"w-full md:w-64 bg-green-800 text-white p-6 space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Gatewise PLC"}),p.jsxs("nav",{className:"space-y-4",children:[p.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-3 w-full text-left hover:underline",children:[p.jsx(r5,{})," Overview"]}),p.jsxs("button",{onClick:()=>e("/loan-request"),className:"flex items-center gap-3 w-full text-left hover:underline",children:[p.jsx(o5,{})," Request Loan"]}),p.jsxs("button",{onClick:()=>e("/loan-history"),className:"flex items-center gap-3 w-full text-left hover:underline",children:[p.jsx(s5,{})," Loan History"]}),p.jsxs("button",{onClick:()=>e("/withdraw"),className:"flex items-center gap-3 w-full text-left hover:underline",children:[p.jsx(a5,{})," Withdraw"]}),p.jsxs("button",{onClick:()=>e("/profile"),className:"flex items-center gap-3 w-full text-left hover:underline",children:[p.jsx(d5,{})," Profile"]}),p.jsxs("button",{onClick:()=>e("/notifications"),className:"flex items-center gap-3 w-full text-left hover:underline",children:[p.jsx(ZP,{})," Notifications"]}),p.jsxs("button",{onClick:()=>e("/settings"),className:"flex items-center gap-3 w-full text-left hover:underline",children:[p.jsx(t5,{})," Settings"]}),p.jsxs("button",{onClick:()=>e("/support"),className:"flex items-center gap-3 w-full text-left hover:underline",children:[p.jsx(i5,{})," Support"]}),p.jsxs("button",{onClick:y,className:"flex items-center gap-3 w-full text-left hover:underline text-red-300",children:[p.jsx(l5,{})," Log Out"]})]})]}),p.jsxs("main",{className:"flex-1 p-6 md:p-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[p.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",t.firstName," ",t.lastName," "]}),p.jsx("button",{onClick:b,className:`px-4 py-2 rounded-full ${d?"bg-gray-700":"bg-black"} text-white`,children:d?"Light Mode":"Dark Mode"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-10",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow text-center",children:[p.jsx("h3",{className:"text-gray-500 dark:text-gray-300",children:"Available Balance"}),p.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",Number(c).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow text-center",children:[p.jsx("h3",{className:"text-gray-500 dark:text-gray-300",children:"Approved Loans"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow text-center",children:[p.jsx("h3",{className:"text-gray-500 dark:text-gray-300",children:"Pending Requests"}),p.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:T})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow text-center",children:[p.jsx("h3",{className:"text-gray-500 dark:text-gray-300",children:"Rejected Requests"}),p.jsx("p",{className:"text-2xl font-bold text-red-600",children:S})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow mb-10",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Loan Status Overview"}),p.jsx(FP,{data:I,options:{responsive:!0}})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Loan Activity"}),p.jsxs("table",{className:"w-full text-left text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"text-gray-500 dark:text-gray-300 border-b",children:[p.jsx("th",{className:"py-2",children:"Amount"}),p.jsx("th",{className:"py-2",children:"Status"}),p.jsx("th",{className:"py-2",children:"Date"})]})}),p.jsx("tbody",{children:r.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:3,className:"py-4 text-center text-gray-400",children:"No loan activity yet."})}):r.sort((C,k)=>{var U,q;return((U=k.createdAt)==null?void 0:U.seconds)-((q=C.createdAt)==null?void 0:q.seconds)}).slice(0,5).map(C=>{var k;return p.jsxs("tr",{className:"border-t",children:[p.jsxs("td",{className:"py-2",children:["$",C.amount]}),p.jsx("td",{className:"py-2 capitalize",children:C.status}),p.jsx("td",{className:"py-2 text-sm",children:((k=C.createdAt)==null?void 0:k.toDate().toLocaleDateString())||"N/A"})]},C.id)})})]})]})]})]})},vr=({children:n})=>{const{currentUser:e,loading:t}=Bs();return t?p.jsx("div",{className:"text-center mt-10",children:"Loading..."}):e?n:p.jsx(Py,{to:"/login"})},g5=({children:n})=>{const{currentUser:e,loading:t,isAdmin:i}=Bs();return t?p.jsx("div",{children:"Loading..."}):!e||!i?p.jsx(Py,{to:"/",replace:!0}):n};let p5={data:""},y5=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||p5,v5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_5=/\/\*[^]*?\*\/|  +/g,uE=/\n+/g,Tr=(n,e)=>{let t="",i="",r="";for(let o in n){let c=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+c+";":i+=o[1]=="f"?Tr(c,o):o+"{"+Tr(c,o[1]=="k"?"":e)+"}":typeof c=="object"?i+=Tr(c,e?e.replace(/([^,])+/g,h=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,h):h?h+" "+d:d)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Tr.p?Tr.p(o,c):o+":"+c+";")}return t+(e&&r?e+"{"+r+"}":r)+i},Es={},qS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+qS(n[t]);return e}return n},b5=(n,e,t,i,r)=>{let o=qS(n),c=Es[o]||(Es[o]=(d=>{let m=0,y=11;for(;m<d.length;)y=101*y+d.charCodeAt(m++)>>>0;return"go"+y})(o));if(!Es[c]){let d=o!==n?n:(m=>{let y,b,x=[{}];for(;y=v5.exec(m.replace(_5,""));)y[4]?x.shift():y[3]?(b=y[3].replace(uE," ").trim(),x.unshift(x[0][b]=x[0][b]||{})):x[0][y[1]]=y[2].replace(uE," ").trim();return x[0]})(n);Es[c]=Tr(r?{["@keyframes "+c]:d}:d,t?"":"."+c)}let h=t&&Es.g?Es.g:null;return t&&(Es.g=Es[c]),((d,m,y,b)=>{b?m.data=m.data.replace(b,d):m.data.indexOf(d)===-1&&(m.data=y?d+m.data:m.data+d)})(Es[c],e,i,h),c},x5=(n,e,t)=>n.reduce((i,r,o)=>{let c=e[o];if(c&&c.call){let h=c(t),d=h&&h.props&&h.props.className||/^go/.test(h)&&h;c=d?"."+d:h&&typeof h=="object"?h.props?"":Tr(h,""):h===!1?"":h}return i+r+(c??"")},"");function gm(n){let e=this||{},t=n.call?n(e.p):n;return b5(t.unshift?t.raw?x5(t,[].slice.call(arguments,1),e.p):t.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):t,y5(e.target),e.g,e.o,e.k)}let GS,Cy,Ny;gm.bind({g:1});let Vs=gm.bind({k:1});function w5(n,e,t,i){Tr.p=e,GS=n,Cy=t,Ny=i}function $r(n,e){let t=this||{};return function(){let i=arguments;function r(o,c){let h=Object.assign({},o),d=h.className||r.className;t.p=Object.assign({theme:Cy&&Cy()},h),t.o=/ *go\d+/.test(d),h.className=gm.apply(t,i)+(d?" "+d:"");let m=n;return n[0]&&(m=h.as||n,delete h.as),Ny&&m[0]&&Ny(h),GS(m,h)}return r}}var E5=n=>typeof n=="function",Pf=(n,e)=>E5(n)?n(e):n,T5=(()=>{let n=0;return()=>(++n).toString()})(),YS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),S5=20,WS=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,S5)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:t}=e;return WS(n,{type:n.toasts.find(o=>o.id===t.id)?1:0,toast:t});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let r=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},Jd=[],za={toasts:[],pausedAt:void 0},to=n=>{za=WS(za,n),Jd.forEach(e=>{e(za)})},A5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},R5=(n={})=>{let[e,t]=V.useState(za),i=V.useRef(za);V.useEffect(()=>(i.current!==za&&t(za),Jd.push(t),()=>{let o=Jd.indexOf(t);o>-1&&Jd.splice(o,1)}),[]);let r=e.toasts.map(o=>{var c,h,d;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((c=n[o.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((h=n[o.type])==null?void 0:h.duration)||(n==null?void 0:n.duration)||A5[o.type],style:{...n.style,...(d=n[o.type])==null?void 0:d.style,...o.style}}});return{...e,toasts:r}},C5=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||T5()}),Wu=n=>(e,t)=>{let i=C5(e,n,t);return to({type:2,toast:i}),i.id},bn=(n,e)=>Wu("blank")(n,e);bn.error=Wu("error");bn.success=Wu("success");bn.loading=Wu("loading");bn.custom=Wu("custom");bn.dismiss=n=>{to({type:3,toastId:n})};bn.remove=n=>to({type:4,toastId:n});bn.promise=(n,e,t)=>{let i=bn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let o=e.success?Pf(e.success,r):void 0;return o?bn.success(o,{id:i,...t,...t==null?void 0:t.success}):bn.dismiss(i),r}).catch(r=>{let o=e.error?Pf(e.error,r):void 0;o?bn.error(o,{id:i,...t,...t==null?void 0:t.error}):bn.dismiss(i)}),n};var N5=(n,e)=>{to({type:1,toast:{id:n,height:e}})},I5=()=>{to({type:5,time:Date.now()})},yu=new Map,D5=1e3,O5=(n,e=D5)=>{if(yu.has(n))return;let t=setTimeout(()=>{yu.delete(n),to({type:4,toastId:n})},e);yu.set(n,t)},M5=n=>{let{toasts:e,pausedAt:t}=R5(n);V.useEffect(()=>{if(t)return;let o=Date.now(),c=e.map(h=>{if(h.duration===1/0)return;let d=(h.duration||0)+h.pauseDuration-(o-h.createdAt);if(d<0){h.visible&&bn.dismiss(h.id);return}return setTimeout(()=>bn.dismiss(h.id),d)});return()=>{c.forEach(h=>h&&clearTimeout(h))}},[e,t]);let i=V.useCallback(()=>{t&&to({type:6,time:Date.now()})},[t]),r=V.useCallback((o,c)=>{let{reverseOrder:h=!1,gutter:d=8,defaultPosition:m}=c||{},y=e.filter(T=>(T.position||m)===(o.position||m)&&T.height),b=y.findIndex(T=>T.id===o.id),x=y.filter((T,S)=>S<b&&T.visible).length;return y.filter(T=>T.visible).slice(...h?[x+1]:[0,x]).reduce((T,S)=>T+(S.height||0)+d,0)},[e]);return V.useEffect(()=>{e.forEach(o=>{if(o.dismissed)O5(o.id,o.removeDelay);else{let c=yu.get(o.id);c&&(clearTimeout(c),yu.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:N5,startPause:I5,endPause:i,calculateOffset:r}}},k5=Vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,j5=Vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P5=Vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,L5=$r("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${k5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${j5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${P5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,V5=Vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,U5=$r("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${V5} 1s linear infinite;
`,z5=Vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,B5=Vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,F5=$r("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${B5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,H5=$r("div")`
  position: absolute;
`,q5=$r("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,G5=Vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y5=$r("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${G5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,W5=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?V.createElement(Y5,null,e):e:t==="blank"?null:V.createElement(q5,null,V.createElement(U5,{...i}),t!=="loading"&&V.createElement(H5,null,t==="error"?V.createElement(L5,{...i}):V.createElement(F5,{...i})))},$5=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,K5=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Q5="0%{opacity:0;} 100%{opacity:1;}",X5="0%{opacity:1;} 100%{opacity:0;}",Z5=$r("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,J5=$r("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,e8=(n,e)=>{let t=n.includes("top")?1:-1,[i,r]=YS()?[Q5,X5]:[$5(t),K5(t)];return{animation:e?`${Vs(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Vs(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},t8=V.memo(({toast:n,position:e,style:t,children:i})=>{let r=n.height?e8(n.position||e||"top-center",n.visible):{opacity:0},o=V.createElement(W5,{toast:n}),c=V.createElement(J5,{...n.ariaProps},Pf(n.message,n));return V.createElement(Z5,{className:n.className,style:{...r,...t,...n.style}},typeof i=="function"?i({icon:o,message:c}):V.createElement(V.Fragment,null,o,c))});w5(V.createElement);var n8=({id:n,className:e,style:t,onHeightUpdate:i,children:r})=>{let o=V.useCallback(c=>{if(c){let h=()=>{let d=c.getBoundingClientRect().height;i(n,d)};h(),new MutationObserver(h).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return V.createElement("div",{ref:o,className:e,style:t},r)},i8=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...r}},s8=gm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vd=16,r8=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:r,containerStyle:o,containerClassName:c})=>{let{toasts:h,handlers:d}=M5(t);return V.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Vd,left:Vd,right:Vd,bottom:Vd,pointerEvents:"none",...o},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},h.map(m=>{let y=m.position||e,b=d.calculateOffset(m,{reverseOrder:n,gutter:i,defaultPosition:e}),x=i8(y,b);return V.createElement(n8,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?s8:"",style:x},m.type==="custom"?Pf(m.message,m):r?r(m):V.createElement(t8,{toast:m,position:y}))}))},Lt=bn;const a8=()=>{const[n,e]=V.useState(!0),[t,i]=V.useState(""),[r,o]=V.useState(""),[c,h]=V.useState(""),[d,m]=V.useState(""),[y,b]=V.useState(""),[x,T]=V.useState(""),[S,I]=V.useState(!1),[C,k]=V.useState(!1),[U,q]=V.useState(!1),Z=Za(),ee=()=>e(M=>!M);V.useEffect(()=>{const M=localStorage.getItem("lastEmail");M&&m(M)},[]);const le=async M=>{M.preventDefault(),q(!0);try{if(n){if(y!==x){Lt.error("Passwords do not match!"),q(!1);return}const D=(await U4(pl,d,y)).user,O=d==="admin@example.com"?"admin":"user";await P0(vi($t,"users",D.uid),{firstName:t,lastName:r,phone:c,email:d,role:O,createdAt:new Date().toISOString()}),localStorage.setItem("firstName",t),localStorage.setItem("lastName",r),localStorage.setItem("phone",c),localStorage.setItem("lastEmail",d),localStorage.setItem("role",O),Lt.success("Account created successfully!"),Z(O==="admin"?"/admin":"/dashboard")}else{const D=(await d2(pl,d,y)).user,O=await Ka(vi($t,"users",D.uid));if(!O.exists()){Lt.error("User profile not found."),q(!1);return}const L=O.data();localStorage.setItem("firstName",L.firstName||""),localStorage.setItem("lastName",L.lastName||""),localStorage.setItem("phone",L.phone||""),localStorage.setItem("lastEmail",L.email||""),localStorage.setItem("role",L.role||"user"),Lt.success(`Welcome back ${L.firstName||"User"}!`),L.role==="admin"?Z("/admin"):Z("/dashboard")}}catch(N){Lt.error(N.message||"Something went wrong.")}finally{q(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:n?"Create Account":"Welcome Back"}),p.jsxs("form",{onSubmit:le,children:[n&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"text",placeholder:"First Name",className:"w-full mb-3 px-4 py-2 border rounded",value:t,onChange:M=>i(M.target.value),required:!0}),p.jsx("input",{type:"text",placeholder:"Last Name",className:"w-full mb-3 px-4 py-2 border rounded",value:r,onChange:M=>o(M.target.value),required:!0}),p.jsx("input",{type:"tel",placeholder:"Phone Number",className:"w-full mb-3 px-4 py-2 border rounded",value:c,onChange:M=>h(M.target.value),required:!0})]}),p.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-3 px-4 py-2 border rounded",value:d,onChange:M=>m(M.target.value),required:!0}),p.jsxs("div",{className:"relative mb-3",children:[p.jsx("input",{type:S?"text":"password",placeholder:"Password",className:"w-full px-4 py-2 border rounded",value:y,onChange:M=>b(M.target.value),required:!0}),p.jsx("span",{onClick:()=>I(!S),className:"absolute right-3 top-2.5 cursor-pointer text-sm text-blue-500",children:S?"Hide":"Show"})]}),n&&p.jsxs("div",{className:"relative mb-4",children:[p.jsx("input",{type:C?"text":"password",placeholder:"Confirm Password",className:"w-full px-4 py-2 border rounded",value:x,onChange:M=>T(M.target.value),required:!0}),p.jsx("span",{onClick:()=>k(!C),className:"absolute right-3 top-2.5 cursor-pointer text-sm text-blue-500",children:C?"Hide":"Show"})]}),p.jsx("button",{type:"submit",disabled:U,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:U?"Please wait...":n?"Sign Up":"Log In"})]}),p.jsxs("p",{className:"mt-4 text-center text-sm",children:[n?"Already have an account?":"New here?"," ",p.jsx("button",{type:"button",onClick:ee,className:"text-blue-600 hover:underline",children:n?"Log In":"Sign Up"})]})]})})},nl=async(n,e)=>{if(!n||!e){console.warn("Missing userId or message for notification.");return}try{const t=zr($t,"users",n,"notifications");await L0(t,{message:e,date:new Date().toLocaleDateString(),timestamp:iS()}),console.log("Notification saved successfully.")}catch(t){console.error("Error saving notification:",t.message)}},o8=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(""),[r,o]=V.useState(""),[c,h]=V.useState(""),[d,m]=V.useState(""),[y,b]=V.useState(""),[x,T]=V.useState(""),[S,I]=V.useState(""),[C,k]=V.useState(!1),[U,q]=V.useState(""),{user:Z}=Bs(),ee=Za(),le=()=>{const O=parseFloat(n),L=parseInt(r),B=.05/12;if(!O||!L||L<=0)return{monthly:0,total:0};const j=O*B/(1-Math.pow(1+B,-L)),Fe=j*L;return{monthly:j,total:Fe}},{monthly:M,total:N}=le();V.useEffect(()=>{if(d&&M){const O=.5*parseFloat(d);M>O?q(`Your monthly repayment (${M.toFixed(2)}) exceeds 50% of your income (${O.toFixed(2)}).`):q("")}},[d,M]);const D=async O=>{if(O.preventDefault(),!(!Z||U)){k(!0);try{await L0(zr($t,"loanRequests"),{userId:Z.uid,email:Z.email,amount:parseFloat(n),reason:t,repaymentPeriod:r,employmentStatus:c,income:parseFloat(d),bankName:y,accountNumber:x,collateral:S,status:"Pending",monthlyRepayment:M.toFixed(2),totalRepayable:N.toFixed(2),interestRate:"5% annually",createdAt:iS()}),Lt.success("Loan request submitted."),await nl(Z.uid,`Loan request of ${n} submitted for "${t}".`),setTimeout(()=>ee("/dashboard"),1500)}catch(L){console.error("Loan submission error:",L),Lt.error("Failed to submit loan request.")}finally{k(!1)}}};return p.jsxs("div",{className:"max-w-6xl mx-auto mt-10 bg-white p-6 rounded shadow flex flex-col md:flex-row gap-10 items-start",children:[p.jsx("div",{className:"md:w-1/2 w-full",children:p.jsx("img",{src:"./bewise.jpg",alt:"Loan Illustration",className:"w-full h-auto rounded object-cover"})}),p.jsxs("div",{className:"md:w-1/2 w-full",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Loan Application"}),p.jsxs("form",{onSubmit:D,className:"space-y-4",children:[p.jsx("input",{type:"number",placeholder:"Loan Amount ()",className:"w-full px-4 py-2 border rounded",value:n,onChange:O=>e(O.target.value),required:!0}),p.jsx("input",{type:"text",placeholder:"Reason for Loan",className:"w-full px-4 py-2 border rounded",value:t,onChange:O=>i(O.target.value),required:!0}),p.jsx("input",{type:"number",placeholder:"Repayment Period (months)",className:"w-full px-4 py-2 border rounded",value:r,onChange:O=>o(O.target.value),required:!0}),p.jsxs("select",{className:"w-full px-4 py-2 border rounded bg-green-800 text-white",value:c,onChange:O=>h(O.target.value),required:!0,children:[p.jsx("option",{value:"",children:"Select Employment Status"}),p.jsx("option",{value:"employed",children:"Employed"}),p.jsx("option",{value:"self-employed",children:"Self-Employed"}),p.jsx("option",{value:"unemployed",children:"Unemployed"}),p.jsx("option",{value:"student",children:"Student"})]}),p.jsx("input",{type:"number",placeholder:"Monthly Income ()",className:"w-full px-4 py-2 border rounded",value:d,onChange:O=>m(O.target.value),required:!0}),p.jsx("input",{type:"text",placeholder:"Bank Name",className:"w-full px-4 py-2 border rounded",value:y,onChange:O=>b(O.target.value),required:!0}),p.jsx("input",{type:"text",placeholder:"Account Number",className:"w-full px-4 py-2 border rounded",value:x,onChange:O=>T(O.target.value),required:!0}),p.jsx("input",{type:"text",placeholder:"Collateral (optional)",className:"w-full px-4 py-2 border rounded",value:S,onChange:O=>I(O.target.value)}),p.jsxs("div",{className:"bg-gray-100 p-4 rounded",children:[p.jsx("p",{className:"font-medium",children:" Monthly Repayment:"}),p.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",M.toFixed(2)]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Total Repayable: ",N.toFixed(2)]})]}),U&&p.jsx("p",{className:"text-red-600",children:U}),p.jsx("button",{type:"submit",disabled:C||!!U,className:"w-full bg-green-800 text-white py-2 rounded hover:bg-green-700",children:C?"Submitting...":"Submit Loan Request"})]})]})]})},l8=()=>{const{user:n}=Bs(),[e,t]=V.useState([]),[i,r]=V.useState(!0),[o,c]=V.useState("all");V.useEffect(()=>{(async()=>{if(n!=null&&n.uid)try{const b=D0(zr($t,"loans"),O0("uid","==",n.uid),fM("createdAt","desc")),T=(await wf(b)).docs.map(S=>({id:S.id,...S.data()}));t(T)}catch(b){console.error("Error fetching loans:",b)}finally{r(!1)}})()},[n]);const h=o==="all"?e:e.filter(y=>y.status===o),d=y=>y==="approved"?"text-green-600":y==="pending"?"text-yellow-600":y==="rejected"?"text-red-600":"text-gray-600",m=["all","approved","pending","rejected"];return i?p.jsx("p",{className:"text-center mt-10 text-gray-500",children:"Loading your loans..."}):e.length===0?p.jsx("p",{className:"text-center mt-10 text-gray-500",children:"No loan history found."}):p.jsxs("div",{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded shadow-md",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Your Loan History"}),p.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:m.map(y=>p.jsx("button",{onClick:()=>c(y),className:`px-4 py-2 rounded-full border ${o===y?"bg-green-600 text-white border-green-600":"bg-gray-100 text-gray-700 border-gray-300"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),h.length===0?p.jsxs("p",{className:"text-center text-gray-400",children:["No ",o," loans."]}):p.jsx("ul",{className:"space-y-5",children:h.map(y=>{var b;return p.jsxs("li",{className:"border border-gray-200 p-5 rounded-md bg-gray-50 hover:bg-gray-100 transition",children:[p.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Amount:"})," ",p.jsxs("span",{className:"text-green-700 font-semibold",children:["$",Number(y.amount).toLocaleString()]})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Reason:"})," ",y.reason||""]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Repayment Period:"})," ",y.repaymentPeriod||""]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Status:"})," ",p.jsx("span",{className:`font-semibold ${d(y.status)}`,children:y.status})]})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Submitted:"," ",(b=y.createdAt)!=null&&b.toDate?y.createdAt.toDate().toLocaleString():"N/A"]})]},y.id)})})]})},c8=()=>{const[n,e]=V.useState([]),[t,i]=V.useState([]),{user:r,loading:o,isAdmin:c}=Bs();if(!o&&!c)return p.jsx(Py,{to:"/"});V.useEffect(()=>{(async()=>{try{const m=await wf(zr($t,"loanRequests")),y=await wf(zr($t,"withdrawalRequests"));e(m.docs.map(b=>({id:b.id,...b.data()}))),i(y.docs.map(b=>({id:b.id,...b.data()})))}catch(m){console.error("Error fetching data:",m)}})()},[]);const h=async(d,m,y,b)=>{try{const x=vi($t,d,m),T=await Ka(x);if(!T.exists())return;const S=T.data(),I=S.userId,C=Number(S.amount);if(await _y(x,{status:y}),y==="Approved"){const k=vi($t,"balances",I),U=await Ka(k);let q=0;U.exists()?q=U.data().amount||0:await P0(k,{amount:0});const Z=b==="loan"?q+C:q-C;await _y(k,{amount:Z})}b==="loan"?e(k=>k.map(U=>U.id===m?{...U,status:y}:U)):i(k=>k.map(U=>U.id===m?{...U,status:y}:U))}catch(x){console.error("Failed to update status and balance:",x)}};return p.jsxs("div",{className:"p-6 bg-gray-900 text-white min-h-screen",children:[p.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Admin Dashboard"}),p.jsxs("section",{className:"mb-12",children:[p.jsx("h2",{className:"text-2xl mb-4",children:"Loan Requests"}),n.length===0?p.jsx("p",{children:"No loan requests."}):p.jsxs("table",{className:"w-full text-sm bg-white text-black rounded",children:[p.jsx("thead",{className:"bg-gray-100",children:p.jsxs("tr",{children:[p.jsx("th",{children:"User ID"}),p.jsx("th",{children:"Amount"}),p.jsx("th",{children:"Purpose"}),p.jsx("th",{children:"Date"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"Actions"})]})}),p.jsx("tbody",{children:n.map(d=>p.jsxs("tr",{className:"border-t",children:[p.jsx("td",{children:d.userId}),p.jsxs("td",{children:["$",d.amount]}),p.jsx("td",{children:d.purpose}),p.jsx("td",{children:d.date}),p.jsx("td",{children:d.status||"Pending"}),p.jsxs("td",{className:"space-x-2",children:[p.jsx("button",{className:"bg-green-600 px-3 py-1 rounded text-white",onClick:()=>h("loanRequests",d.id,"Approved","loan"),children:"Approve"}),p.jsx("button",{className:"bg-red-600 px-3 py-1 rounded text-white",onClick:()=>h("loanRequests",d.id,"Declined","loan"),children:"Decline"})]})]},d.id))})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl mb-4",children:"Withdrawal Requests"}),t.length===0?p.jsx("p",{children:"No withdrawal requests."}):p.jsxs("table",{className:"w-full text-sm bg-white text-black rounded",children:[p.jsx("thead",{className:"bg-gray-100",children:p.jsxs("tr",{children:[p.jsx("th",{children:"User ID"}),p.jsx("th",{children:"Amount"}),p.jsx("th",{children:"Bank"}),p.jsx("th",{children:"Account No"}),p.jsx("th",{children:"Account Name"}),p.jsx("th",{children:"Date"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"Actions"})]})}),p.jsx("tbody",{children:t.map(d=>p.jsxs("tr",{className:"border-t",children:[p.jsx("td",{children:d.userId}),p.jsxs("td",{children:["$",d.amount]}),p.jsx("td",{children:d.bankName}),p.jsx("td",{children:d.accountNumber}),p.jsx("td",{children:d.accountName}),p.jsx("td",{children:d.date}),p.jsx("td",{children:d.status||"Pending"}),p.jsxs("td",{className:"space-x-2",children:[p.jsx("button",{className:"bg-green-600 px-3 py-1 rounded text-white",onClick:()=>h("withdrawalRequests",d.id,"Approved","withdrawal"),children:"Approve"}),p.jsx("button",{className:"bg-red-600 px-3 py-1 rounded text-white",onClick:()=>h("withdrawalRequests",d.id,"Declined","withdrawal"),children:"Decline"})]})]},d.id))})]})]})]})},gn=()=>{const[n,e]=V.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center border rounded shadow-lg p-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:"/gwlogo.jpg",alt:"loan sphere",className:"w-16 h-16 rounded-full"}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"font-bold uppercase text-green-800",children:"Gatewise plc"}),p.jsx("span",{className:"text-sm font-bold",children:"Unlock Your Dreams With Easy Loans!"})]})]}),p.jsxs("nav",{className:"hidden lg:flex gap-8 text-sm font-medium z-20",children:[p.jsx(rt,{to:"/homepage",className:"bg-green-800 hover:text-green-600 p-3 text-white border-transparent rounded-lg",children:"Home"}),p.jsx(rt,{to:"/accounts",className:"bg-green-800 hover:text-green-600 p-3 text-white border-transparent rounded-lg",children:"Accounts"}),p.jsx(rt,{to:"/lending",className:"bg-green-800 hover:text-green-600 p-3 text-white border-transparent rounded-lg",children:"Lending"}),p.jsx(rt,{to:"/payments",className:"bg-green-800 hover:text-green-600 p-3 text-white border-transparent rounded-lg",children:"Payments"}),p.jsx(rt,{to:"/guarantee-letter",className:"bg-green-800 hover:text-green-600 p-3 text-white border-transparent rounded-lg",children:"Guarantee Letter"})]}),p.jsx("button",{onClick:()=>e(!n),className:"lg:hidden text-lg z-30",children:n?p.jsx(c5,{}):p.jsx(XP,{})})]}),n&&p.jsx("div",{className:"lg:hidden flex justify-end bg-green-800 text-white mt-2 z-10",children:p.jsxs("nav",{className:"flex flex-col items-start gap-4 p-4 shadow-lg border-transparent rounded w-full",children:[p.jsx(rt,{to:"/homepage",className:"",children:"Home"}),p.jsx(rt,{to:"/accounts",className:"",children:"Accounts"}),p.jsx(rt,{to:"/lending",children:"Lending"}),p.jsx(rt,{to:"/payments",children:"Payments"}),p.jsx(rt,{to:"/guarantee-letter",children:"Guarantee Letter"})]})})]})},u8=()=>p.jsx("section",{className:"bg-green-800 text-white py-20 px-6 text-center",children:p.jsxs("div",{className:"max-w-3xl mx-auto",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Welcome to Gatewise plc"}),p.jsx("img",{src:"/loansphere//gw5.jpg",alt:"Cleric visual",className:"w-full max-w-md lg:max-w-3xl h-auto rounded-lg mb-6  border border-green-500 mx-auto"}),p.jsx("p",{className:"text-lg md:text-xl mb-6",children:"Fast. Flexible. Transparent. Get the financial support you need, when you need it."}),p.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[p.jsx(rt,{to:"/applynow",className:"bg-white text-green-800 px-6 py-3 rounded-full font-semibold hover:bg-gray-100 transition",children:"Apply Now"}),p.jsx(rt,{to:"/auth",className:"border border-white text-white px-6 py-3 rounded-full font-semibold hover:bg-white hover:text-green-800 transition",children:"Create Account"})]})]})}),h8=()=>{const n=[{title:"Fast Approvals",desc:"We review and respond to loan applications quickly, so you're not left waiting."},{title:"Transparent Process",desc:"No hidden fees or confusing terms. Just clear, upfront communication."},{title:"Secure & Private",desc:"Your data and transactions are fully encrypted and protected."},{title:"Flexible Loans",desc:"We offer multiple loan options tailored to your needs and budget."}];return p.jsxs("section",{className:"py-16 px-6 bg-white text-center",children:[p.jsx("h2",{className:"text-3xl md:text-4xl text-green-800 font-bold mb-8",children:"Why Choose Gatewise Plc?"}),p.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-4 max-w-6xl mx-auto",children:n.map((e,t)=>p.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow hover:shadow-lg transition",children:[p.jsx("h3",{className:"text-xl text-green-800 font-semibold mb-2",children:e.title}),p.jsx("p",{className:"text-sm text-gray-600",children:e.desc})]},t))})]})},d8=()=>{const n=[{name:"Sarah Oniel",text:"Gatewise Plc helped me out when I needed it most. The process was super fast and easy!"},{name:"James Leatherson",text:"As a small business owner, I really appreciate the flexibility and support I received."},{name:"Amina Kentral",text:"The team was responsive and professional. Id definitely recommend Gatewise Plc to others."},{name:"Lukas Meier",text:"The entire loan process was quick and hassle-free. I truly appreciate Gatewise Plc's efficiency."},{name:"Greta Jankauskait",text:"I received my loan approval the same day. Clear terms and excellent communication throughout."},{name:"Jonas Becker",text:"Gatewise Plc was professional and transparent. Id recommend them to anyone needing financial support."},{name:"Egl Petrauskien",text:"Very helpful staff and a smooth online application process. Everything was clear from the start."},{name:"Fabian Schuster",text:"Ive dealt with other lenders before, but Gatewise Plc stands out for its honesty and speed."},{name:"Aist Kavaliauskait",text:"Friendly service and no hidden surprises. I felt safe using Gatewise Plc."},{name:"Tobias Neumann",text:"Quick decisions, fair interest rates, and great customer care. What more could I ask for?"},{name:"Mantas ukauskas",text:"The process was surprisingly easy. Gatewise Plc delivered exactly what they promised."},{name:"Katrin Mller",text:"I felt well-informed and supported throughout the process. Gatewise Plc is a service I trust."}];return p.jsxs("section",{className:"py-16 px-6 bg-gray-50 text-center",children:[p.jsx("h2",{className:"text-3xl md:text-4xl text-green-800 font-bold mb-8",children:"What Our Clients Say"}),p.jsx("div",{className:"max-w-4xl mx-auto grid gap-8 md:grid-cols-3",children:n.map((e,t)=>p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition",children:[p.jsxs("p",{className:"italic text-gray-700 mb-4",children:["",e.text,""]}),p.jsx("h4",{className:"font-semibold text-green-800 text-sm",children:e.name})]},t))})]})},f8=()=>{const n=[{icon:p.jsx(u5,{className:"text-green-800 text-3xl"}),title:"1. Create an Account",desc:"Sign up and verify your email to access the platform securely."},{icon:p.jsx(QP,{className:"text-green-800 text-3xl"}),title:"2. Submit a Loan Request",desc:"Fill out a quick form with your basic loan details and submit it."},{icon:p.jsx(e5,{className:"text-green-800 text-3xl"}),title:"3. Wait for Review",desc:"An admin reviews your application and sends updates via email."},{icon:p.jsx(JP,{className:"text-green-800 text-3xl"}),title:"4. Get Approved or Rejected",desc:"Check your loan status anytime. Approved? Funds are on their way!"}];return p.jsxs("section",{className:"py-16 px-6 bg-gray-50 text-center",children:[p.jsx("h2",{className:"text-3xl md:text-4xl text-green-800 font-bold mb-8",children:"How It Works"}),p.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-4 max-w-6xl mx-auto",children:n.map((e,t)=>p.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 hover:shadow-xl transition",children:[p.jsx("div",{className:"mb-4",children:e.icon}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.title}),p.jsx("p",{className:"text-sm text-gray-600",children:e.desc})]},t))})]})},m8=()=>p.jsxs("section",{className:"py-20 px-6 bg-green-800 text-white text-center",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Get Started?"}),p.jsx("p",{className:"mb-6 text-lg",children:"Apply now and take the first step toward financial freedom."}),p.jsx(rt,{to:"/applynow",className:"inline-block bg-white text-green-800 px-6 py-3 font-semibold rounded-full hover:bg-gray-100 transition",children:"Apply for a Loan"})]}),g8=()=>{const n=[{q:"How long does approval take?",a:"Most loan applications are reviewed within 2448 hours."},{q:"What documents do I need?",a:"Typically, youll need a valid ID, proof of income, and a completed application form."},{q:"Can I check my loan status?",a:"Yes! Log in to your dashboard to view your loan status and history anytime."}];return p.jsxs("section",{className:"py-16 px-6 bg-white",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-green-800 text-center",children:"Frequently Asked Questions"}),p.jsx("div",{className:"max-w-3xl mx-auto space-y-6",children:n.map((e,t)=>p.jsxs("div",{className:"bg-gray-100 p-5 rounded-lg shadow",children:[p.jsx("h4",{className:"font-semibold text-lg text-green-800 mb-2",children:e.q}),p.jsx("p",{className:"text-gray-700 text-sm",children:e.a})]},t))})]})},xn=()=>p.jsxs("footer",{className:"bg-green-800 text-gray-300 py-10 px-6",children:[p.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Gatewise Plc"}),p.jsx("p",{className:"text-sm",children:"Empowering individuals and small businesses with fast, secure, and transparent lending."})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2 text-sm",children:[p.jsx("li",{children:p.jsx(rt,{to:"/",className:"hover:underline",children:"Home"})}),p.jsx("li",{children:p.jsx(rt,{to:"/loan-request",className:"hover:underline",children:"Apply for Loan"})}),p.jsx("li",{children:p.jsx(rt,{to:"/loan-history",className:"hover:underline",children:"Loan History"})}),p.jsx("li",{children:p.jsx(rt,{to:"/auth",className:"hover:underline",children:"Login / Register"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Contact Us"}),p.jsx("p",{className:"text-sm",children:"Email: support@loansphere.com"}),p.jsx("p",{className:"text-sm",children:"Phone: +1 (800) 123-4567"}),p.jsx("p",{className:"text-sm",children:"Location: Zurich, Germany"})]})]}),p.jsxs("div",{className:"text-center text-xs text-gray-200 mt-10",children:[" ",new Date().getFullYear()," LoanSphere. All rights reserved."]})]}),hE=()=>p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx(u8,{}),p.jsx(f8,{}),p.jsxs("div",{className:"bg-green-800 items-center p-6 rounded-lg shadow-md mt-8 mx-auto",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Achieve Financial Freedom with LoanSphere"}),p.jsx("p",{className:"text-white mb-4",children:"At LoanSphere, we believe financial freedom is within everyone's reach  and we're here to help you get there. Whether you're consolidating debt, starting a business, or covering personal expenses, our flexible loan options are designed to support your goals."}),p.jsxs("ul",{className:"list-disc list-inside text-white space-y-2",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Accessible Loans:"})," Easy applications and fast approvals, so you can get help when you need it most."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Transparent Terms:"})," No hidden fees. Know exactly what you're signing up for."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Flexible Repayment Plans:"})," Choose a repayment option that fits your lifestyle and income."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Credit Building:"})," On-time repayments help you improve your credit score over time."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Expert Guidance:"})," Our support team is always here to guide you toward smarter financial decisions."]})]}),p.jsx("p",{className:"text-white mt-4",children:"Financial freedom starts with the right partner. Join thousands who trust LoanSphere to take control of their future."})]}),p.jsx(h8,{}),p.jsx(d8,{}),p.jsx(m8,{}),p.jsx(g8,{}),p.jsx(xn,{})]}),Fn=()=>p.jsx(p.Fragment,{children:p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 p-6",children:p.jsxs("div",{className:"flex flex-col md:flex-row bg-white shadow-md rounded-lg overflow-hidden max-w-5xl w-full",children:[p.jsx("div",{className:"flex justify-center items-center md:w-1/2 w-full p-6",children:p.jsx("img",{src:"/loansphere//bewise.jpg",alt:"Loan Illustration",className:"w-full h-auto object-contain rounded"})}),p.jsxs("div",{className:"md:w-1/2 w-full p-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-4",children:"Application"}),p.jsx("p",{className:"mb-6 text-gray-600",children:"Kindly provide the details below for processing. It usually takes 2448hrs for approvals."}),p.jsxs("form",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"firstName",children:"First Name"}),p.jsx("input",{type:"text",id:"firstName",className:"w-full px-3 py-2 border rounded",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"lastName",children:"Last Name"}),p.jsx("input",{type:"text",id:"lastName",className:"w-full px-3 py-2 border rounded",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",className:"w-full px-3 py-2 border rounded",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"phone",children:"Phone Number"}),p.jsx("input",{type:"number",id:"phone",className:"w-full px-3 py-2 border rounded",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"org",children:"Organization Name"}),p.jsx("input",{type:"text",id:"org",className:"w-full px-3 py-2 border rounded",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"additionalInfo",children:"Additional Information"}),p.jsx("textarea",{id:"additionalInfo",className:"w-full px-3 py-2 border rounded resize-none",rows:"4",placeholder:"What are you applying for? Please provide any additional details that may help us process your application."})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx("input",{type:"checkbox",id:"terms",required:!0,className:"mt-1"}),p.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["I agree to the ",p.jsx("span",{className:"text-green-700 underline cursor-pointer",children:"terms and conditions"}),"."]})]}),p.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Submit Application"})]})]})]})})}),di=({title:n,description:e,link:t})=>p.jsxs("div",{className:"border rounded-lg p-6 shadow-sm hover:shadow-md transition bg-green-800",children:[p.jsx("h3",{className:"text-xl text-white font-bold mb-2",children:n}),p.jsx("p",{className:"text-white mb-4",children:e}),p.jsx(rt,{to:t,className:"text-green-800 bg-white font-medium border p-2 rounded-lg hover:bg-green-700 hover:text-white transition",children:"Learn More "})]}),p8=()=>p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsxs("div",{className:"accounts-page container mx-auto px-4 py-12",children:[p.jsx("h1",{className:"text-3xl text-green-800 font-bold mb-4",children:"Business Accounts Tailored for You"}),p.jsx("p",{className:"text-lg mb-10",children:"We have flexible account solutions, built to support your business at every stage."}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2  gap-6",children:[p.jsx(di,{title:"Accumulative Accounts",description:"Get started quickly with an easy setup and the ability to deploy authorized capital instantly. Perfect for companies looking to save time and move fast.",link:"/accumulative"}),p.jsx(di,{title:"Business Accounts",description:"A modern account for fast-moving, growth-oriented businesses. Manage your daily operations seamlessly with banking that matches your pace.",link:"/business"}),p.jsx(di,{title:"Safeguarding Accounts",description:"Secure your clients funds and stay compliant with regulatory requirements. Ideal for businesses that handle customer money.",link:"/safeguarding"}),p.jsx(di,{title:"Segregated Accounts",description:"Designed specifically for Payment Service Providers (PSPs) and financial institutions. Clearly separate and track client funds with ease.",link:"/segregated"})]}),p.jsxs("div",{className:"mt-12 text-center",children:[p.jsx("h2",{className:"text-xl text-green-800 font-semibold mb-2",children:"Not finding the account you need?"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Were here to help. Lets talk about a custom solution that fits your business."}),p.jsx(rt,{to:"/applynow",className:"inline-block px-6 py-2 bg-green-800 text-white font-bold rounded hover:bg-green-700 transition",children:"Contact Us"})]})]}),p.jsx(xn,{})]}),y8=()=>{const n=V.useRef(null),e=V.useRef(null),t=()=>{var r;(r=n.current)==null||r.scrollIntoView({behavior:"smooth"})},i=()=>{var r;(r=e.current)==null||r.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsxs("div",{className:"lending-page container mx-auto px-4 py-12",children:[p.jsx("h1",{className:"text-3xl text-green-800 font-bold mb-4",children:"Flexible Lending Solutions for Your Business"}),p.jsx("div",{className:"mb-6 flex justify-center",children:p.jsx("img",{src:"/cleric.png",alt:"Cleric visual",className:"w-full max-w-md lg:max-w-3xl h-auto rounded-lg mb-6 shadow-md border border-green-500 mx-auto"})}),p.jsx("p",{className:"text-green-700 text-lg mb-6",children:"At Gatewise Plc, we offer a range of flexible, tailor-made lending solutions designed to boost your financial strength and support sustainable business growth."}),p.jsx("div",{className:"mb-10",children:p.jsx("button",{onClick:i,className:"inline-block px-6 font-bold py-2 bg-green-800 text-white rounded hover:bg-green-700 transition",children:"Apply Now"})}),p.jsxs("section",{className:"space-y-10",children:[p.jsx(di,{title:"Working Capital Loan",description:"Secure the liquidity your business needs to manage day-to-day operations. Our short-term working capital loan is designed to keep things moving, even during tough times.",link:"/workingcapitalloan"}),p.jsx(di,{title:"Credit Line",description:"Business can be unpredictable  Gatewises credit line gives you the buffer you need to handle unexpected expenses and seize new opportunities.",link:"/creditline"}),p.jsx(di,{title:"Overdraft Facility",description:"Stay agile with an overdraft solution that adapts to your needs. No fixed terms  just the liquidity you need, whenever you need it.",link:"/overdraft"}),p.jsx(di,{title:"Investment Loan",description:"From real estate to strategic expansion, our investment loan helps you grow confidently  whether youre upgrading technology or launching a new project.",link:"/investmentloan"}),p.jsx(di,{title:"Leasing Solutions",description:"Upgrade your business infrastructure with Gatewises flexible leasing options  tailored to fuel growth, efficiency, and innovation.",link:"/leasing"})]}),p.jsxs("div",{className:"mt-16 text-center",children:[p.jsx("p",{className:"text-gray-600",children:"Need help choosing the right solution?"}),p.jsx("button",{onClick:t,className:"inline-block mt-3 px-6 py-2 bg-green-800 text-white rounded hover:bg-green-700 font-bold transition",children:"Contact Us"})]})]}),p.jsx("div",{ref:e,children:p.jsx(Fn,{})}),p.jsx("div",{ref:n,className:"apply-now-section container mx-auto px-4 py-12",children:p.jsx(xn,{})})]})},v8=()=>p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("div",{className:"bg-green-800 min-h-screen py-12",children:p.jsxs("div",{className:"container mx-auto px-4 bg-white rounded-lg shadow-md p-6 md:p-12 text-green-800",children:[p.jsx("h1",{className:"text-3xl font-bold mb-4 text-green-700",children:" Letter of Guarantee"}),p.jsx("p",{className:"text-green-600 text-lg mb-6",children:"Issued by Gatewise PLC"}),p.jsx("p",{className:"mb-4",children:"A Letter of Guarantee is a powerful financial tool that builds trust in business transactions. Its our promise  if your obligations under a contract arent fulfilled, well cover the agreed amount on your behalf."}),p.jsx("p",{className:"mb-4",children:"Whether you're bidding for contracts, securing payments, or managing international trade, Gatewise plc provides tailored Letters of Guarantee  locally and internationally."}),p.jsx("p",{className:"text-red-600 font-medium mb-10",children:" Please confirm all guarantee letters directly with Gatewise PLC before use."}),p.jsx(Wc,{title:" Why Use a Letter of Guarantee?",children:p.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[p.jsx("li",{children:"Reassures your business partners"}),p.jsx("li",{children:"Helps you win tenders and contracts"}),p.jsx("li",{children:"Protects advance payments"}),p.jsx("li",{children:"Provides financial security in high-stakes deals"})]})}),p.jsx(Wc,{title:" How It Works",children:p.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[p.jsx("li",{children:"You apply for a guarantee through Gatewise PLC"}),p.jsx("li",{children:"We assess your financial position and review your documents"}),p.jsx("li",{children:"If approved, we issue a guarantee on your behalf"}),p.jsx("li",{children:"If you default, we pay the beneficiary up to the guaranteed amount"})]})}),p.jsx(Wc,{title:" Types of Letters of Guarantee We Offer",children:p.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Tender Guarantee (Bid Bond):"})," Ensures you'll sign the contract if awarded"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Performance Guarantee:"})," Confirms the project will be completed as agreed"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Advance Payment Guarantee:"})," Protects the upfront payment made to you"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Warranty Guarantee:"})," Covers post-project repairs or issues"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Financial Guarantee:"})," Guarantees a specific payment under the contract"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Customs Guarantee:"})," Covers duties and taxes for customs clearance"]})]})}),p.jsx(Wc,{title:" The Issuance Process",children:p.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[p.jsx("li",{children:"Submit your request with transaction details"}),p.jsx("li",{children:"We review your documents (contracts, financials, etc.)"}),p.jsx("li",{children:"Credit assessment is conducted (collateral may be required)"}),p.jsx("li",{children:"We agree on terms  amount, fees, expiry, and conditions"}),p.jsx("li",{children:"The Letter of Guarantee is issued"}),p.jsx("li",{children:"You pay the fee (usually a percentage of the guarantee amount)"})]})}),p.jsx(Wc,{title:" Requirements & Conditions",children:p.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[p.jsx("li",{children:"Good credit standing"}),p.jsx("li",{children:"Collateral or security may be required"}),p.jsx("li",{children:"Applicable fees vary"}),p.jsx("li",{children:"Terms and conditions must be fulfilled for validity"})]})}),p.jsxs("div",{className:"mt-12 text-center",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-700",children:" Ready to Get Started?"}),p.jsx("p",{className:"text-green-600 mb-4 max-w-2xl mx-auto",children:"Contact Gatewise PLC today to discuss the right Letter of Guarantee for your business. Well tailor the solution that matches your needs  with trust, transparency, and speed."}),p.jsx(rt,{to:"/contact",className:"inline-block px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:"Contact Us"})]})]})})]}),Wc=({title:n,children:e})=>p.jsxs("section",{className:"mb-10",children:[p.jsx("h3",{className:"text-2xl font-bold mb-4 text-green-700",children:n}),e]}),_8=()=>p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsxs("div",{className:"payments-page container mx-auto px-4 py-12",children:[p.jsx("h1",{className:"text-3xl text-green-800 font-bold mb-4",children:"Business Payments Made Simple"}),p.jsx("img",{src:"/gw4.jpg",alt:"Cleric visual",className:"w-full max-w-md lg:max-w-3xl h-auto rounded-lg mb-6 shadow-md border border-green-500 mx-auto"}),p.jsx("p",{className:"text-green-800 text-lg mb-6",children:"Gatewise offers seamless local and international payment solutions to support your business operations and global reach."}),p.jsxs("section",{className:"space-y-8",children:[p.jsx(di,{title:"International Payments",description:"Make secure and fast global transfers via trusted networks including MoneyGram, Xoom, Wise, and WorldRemit. Ideal for cross-border business needs.",link:"/international"}),p.jsx(di,{title:"Local Payments",description:"Easily handle domestic transfers through our online portal or integrate directly into our banking platform for streamlined automation.",link:"/local"})]}),p.jsxs("div",{className:"mt-16 text-center",children:[p.jsx("p",{className:"text-green-800",children:"Need help choosing the right payment option?"}),p.jsx(rt,{to:"/contact",className:"inline-block mt-3 px-6 py-2 bg-green-800 text-white rounded hover:bg-green-700 transition",children:"Contact Us"})]})]})]}),b8=()=>p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-gray-800 py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-8 rounded-lg shadow-md border border-green-100",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-700 mb-6",children:"Accumulative Accounts with Gatewise PLC"}),p.jsx("p",{className:"text-lg leading-relaxed mb-8 text-gray-700",children:"Whether you're launching a new business or setting up a fresh branch, youll need an account for depositing authorized capital. Our accumulative account is designed to help you save time, offering a fast and seamless setup for deploying your funds."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-3",children:"Who Should Open an Accumulative Account?"}),p.jsx("p",{className:"mb-6 text-gray-700",children:"Perfect for start-ups and companies raising capital, these accounts allow you to deposit authorized capital only  no regular payments or transactions are permitted."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-3",children:"What You'll Need to Apply"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-8 text-gray-700",children:[p.jsx("li",{children:"Articles of incorporation"}),p.jsx("li",{children:"A diagram showing company ownership and control structure"}),p.jsx("li",{children:"Corporate documentation for each incorporator (e.g. business register extract, certificate of incumbency)"})]}),p.jsxs("p",{className:"text-lg text-green-800",children:[p.jsx("strong",{children:"Interested in applying?"})," Contact Gatewise to check if youre eligible for an accumulative account."]})]})}),p.jsx(Fn,{}),p.jsx(xn,{})]}),x8=()=>{const[n,e]=V.useState(null),t=i=>{e(n===i?null:i)};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-gray-100 py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto bg-white text-gray-800 p-8 rounded-lg shadow-lg border border-green-100",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-700 mb-6",children:"Business Accounts with Gatewise PLC"}),p.jsx("p",{className:"text-lg mb-6",children:"Your business evolves rapidly  you need an account that supports growth, transactions, and security. Our business accounts allow for seamless payments and customizable user access with multi-signature rules (4-eye, 6-eye, or 8-eye)."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Who Is Eligible?"}),p.jsx("p",{className:"mb-6",children:"To open a business account, your company must be registered in your operating region. Some banks may also require minimum business history, staff count, or revenue levels. Reach out to Gatewise to confirm your eligibility."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"How to Apply in the EU"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2",children:[p.jsx("li",{children:"Business address in an EU country"}),p.jsx("li",{children:"VAT and EORI numbers"}),p.jsx("li",{children:"Proof of activity (business license, articles of incorporation)"})]}),p.jsx("p",{className:"mb-10",children:"Once these documents are ready, you're set to apply for a business account."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Types of Business Bank Accounts"}),p.jsx("div",{className:"space-y-4",children:[{id:1,title:"Business Checking Account",content:"Built for daily operations, this account supports online bill payments, check issuing, and multi-user access. While it may have higher fees, it often offers additional business tools and better interest options."},{id:2,title:"Business Savings Account",content:"A savings account designed for businesses to securely store funds for growth, equipment purchases, or emergency reserves  while earning interest."},{id:3,title:"Cash Management Account",content:"Tailored for financial efficiency, these accounts offer cash flow automation, spending oversight, and access to tools that help you manage your companys finances more effectively."}].map(({id:i,title:r,content:o})=>p.jsxs("div",{className:"border rounded-lg shadow",children:[p.jsxs("button",{className:"w-full flex items-center justify-between text-left px-4 py-3 bg-green-100 hover:bg-green-200 font-semibold transition",onClick:()=>t(i),children:[r,p.jsx(HS,{className:`ml-2 transform transition-transform ${n===i?"rotate-180":""}`})]}),n===i&&p.jsx("div",{className:"px-4 py-3 bg-white text-gray-700",children:p.jsx("p",{children:o})})]},i))})]})}),p.jsx(Fn,{}),p.jsx(xn,{})]})},w8=()=>{const n=V.useRef(null),e=()=>{var t;(t=n.current)==null||t.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Segregated Accounts with Gatewise PLC"}),p.jsx("p",{className:"text-lg mb-6",children:"In business and banking, transparency and accuracy are vital. When sending payments on behalf of your customers, you must ensure that each transaction is carried out exactly as intended. Its just as important to clearly track incoming payments and attribute them correctly."}),p.jsxs("p",{className:"mb-6",children:["To support this, Gatewise offers ",p.jsx("strong",{children:"segregated accounts"}),"  ideal for Payment Service Providers (PSPs) and other financial institutions. These accounts ensure complete separation of client funds from the banks operational assets, giving you precise visibility over which funds belong to which clients."]}),p.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Who Is Eligible for a Segregated Account?"}),p.jsx("p",{className:"mb-6",children:"A segregated account is specifically used to safeguard assets on behalf of an individual or entity. Eligibility is determined by your financial regulatory body and may include requirements such as:"}),p.jsxs("ul",{className:"list-disc list-inside mb-8 space-y-2",children:[p.jsx("li",{children:"Having high-net-worth client status"}),p.jsx("li",{children:"Maintaining a minimum qualifying investment"}),p.jsx("li",{children:"Being a licensed financial intermediary or PSP"})]}),p.jsx("p",{className:"mb-8",children:"For more detailed eligibility requirements, please contact our team at Gatewise."}),p.jsx("button",{onClick:e,className:"inline-block bg-white text-green-800 font-medium px-6 py-3 rounded hover:bg-gray-100 transition",children:"Enquire About Eligibility"})]})}),p.jsx("div",{ref:n,children:p.jsx(Fn,{})}),p.jsx(xn,{})]})},E8=()=>{const[n,e]=V.useState(!1),t=V.useRef(null),i=()=>{var r;(r=t.current)==null||r.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto bg-white text-gray-800 p-8 rounded-lg shadow-lg border border-green-100",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-700 mb-6",children:"Safeguarding Accounts with Gatewise PLC"}),p.jsx("p",{className:"text-lg mb-6",children:"A safeguarding account is a secure, segregated account that ensures your clients' funds are kept completely separate from your operational finances. Its a legal requirement for institutions like Payment Institutions (PIs) and Electronic Money Institutions (EMIs)."}),p.jsx("p",{className:"mb-6",children:"At Gatewise, we offer fully compliant safeguarding accounts that meet the regulations set by financial authorities. By isolating customer funds, you maintain transparency, safety, and legal adherence."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Why Choose a Safeguarding Account?"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-8",children:[p.jsx("li",{children:"Legally required for PIs and EMIs"}),p.jsx("li",{children:"Funds held with licensed credit institutions or central banks"}),p.jsx("li",{children:"Protects client assets against operational risk"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"How to Apply"}),p.jsxs("div",{className:"border rounded-lg shadow mb-6",children:[p.jsxs("button",{onClick:()=>e(!n),className:"w-full flex items-center justify-between px-4 py-3 bg-green-100 hover:bg-green-200 font-semibold",children:[n?"Hide":"View"," Application Steps",p.jsx(HS,{className:`ml-2 transform transition-transform ${n?"rotate-180":""}`})]}),n&&p.jsxs("div",{className:"px-4 py-4 bg-white space-y-6 text-gray-700",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(n5,{className:"text-green-700 mt-1"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:"1. Application"}),p.jsx("p",{children:"Fill out our quick application form. We'll contact you within one business day."})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(f5,{className:"text-green-700 mt-1"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:"2. Documents"}),p.jsx("p",{children:"Submit all required corporate documents for verification."})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(h5,{className:"text-green-700 mt-1"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:"3. AML/KYC"}),p.jsx("p",{children:"After AML and KYC checks are complete, your account will be ready to use."})]})]})]})]}),p.jsx("div",{className:"mb-10",children:p.jsx("button",{onClick:i,className:"inline-block bg-green-700 text-white font-medium px-6 py-3 rounded hover:bg-green-800 transition",children:"Apply Now"})}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-3",children:"Safeguarding Acknowledgement Letter"}),p.jsx("p",{className:"text-lg",children:"After opening your safeguarding account, EMBank will issue an official acknowledgment letter with all account details. You can submit this document to your supervisory authority as part of your license application process."})]})}),p.jsx("div",{ref:t,children:p.jsx(Fn,{})}),p.jsx(xn,{})]})},T8=()=>{const[n,e]=V.useState(1e3),[t,i]=V.useState(12),o=.075/12,c=n*o/(1-Math.pow(1+o,-t)),h=c*t,d=h-n;return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-4xl mx-auto bg-white text-gray-900 p-8 rounded-lg shadow-lg",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-700 mb-6",children:"Flexible Lending Solutions for Your Business"}),p.jsx("p",{className:"mb-4 text-lg",children:"Gatewise PLC Working Capital Loan is the perfect fit for businesses that need short-term funding for operations, production, or seasonal growth. With fixed repayment schedules and options for both secured and unsecured loans, we help keep your business running smoothly."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mt-8 mb-4",children:"Loan Benefits"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[p.jsx("li",{children:"Tailored solutions for each business"}),p.jsx("li",{children:"Fixed repayment plan for easy cash flow management"}),p.jsx("li",{children:"Loan is fully repaid at maturity"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Loan Conditions"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[p.jsx("li",{children:"Amount: 1,000  1,000,000"}),p.jsx("li",{children:"Term: 3 to 60 months"}),p.jsx("li",{children:"Repayment: Monthly or quarterly after disbursement"}),p.jsx("li",{children:"Collateral: Unsecured or secured (real estate, fixed assets, inventory, receivables, personal/corporate guarantee, or ILTE-issued individual guarantee)"})]}),p.jsx(rt,{to:"/fees",className:"inline-block mb-10 bg-green-700 text-white font-medium px-6 py-3 rounded hover:bg-green-800 transition",children:"View Fees & Commissions"}),p.jsxs("div",{className:"bg-gray-50 border border-green-200 rounded-lg p-6 shadow-sm",children:[p.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-4",children:"Loan Calculator"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block font-medium mb-1",children:"Loan Amount ()"}),p.jsx("input",{type:"range",min:1e3,max:1e6,step:1e3,value:n,onChange:m=>e(Number(m.target.value)),className:"w-full"}),p.jsxs("div",{className:"text-right text-sm mt-1 text-gray-600",children:["",n.toLocaleString()]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block font-medium mb-1",children:"Loan Term (months)"}),p.jsx("input",{type:"range",min:3,max:60,step:1,value:t,onChange:m=>i(Number(m.target.value)),className:"w-full"}),p.jsxs("div",{className:"text-right text-sm mt-1 text-gray-600",children:[t," months"]})]})]}),p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Monthly Payment"}),p.jsxs("p",{className:"text-xl font-bold text-green-700",children:["",c.toFixed(2).toLocaleString()]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Total Interest"}),p.jsxs("p",{className:"text-xl font-bold text-green-700",children:["",d.toFixed(2).toLocaleString()]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Total Payment"}),p.jsxs("p",{className:"text-xl font-bold text-green-700",children:["",h.toFixed(2).toLocaleString()]})]})]}),p.jsx("p",{className:"mt-6 text-sm text-gray-500 text-center",children:"* Calculations are based on an estimated 7.5% annual interest rate. Final conditions will depend on your application review."})]})]})]})}),p.jsx(Fn,{}),p.jsx(xn,{})]})},S8=()=>{const n=V.useRef(null),e=()=>{var t;(t=n.current)==null||t.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto bg-white text-gray-800 p-8 rounded-lg shadow-lg",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-700 mb-6",children:"Credit Line Facility"}),p.jsx("p",{className:"mb-6 text-lg",children:"Gatewise Plc offers Credit Line solutions tailored for businesses needing working capital. Funds can be accessed in parts, giving you flexibility to cover supply chain expenses and operational needs efficiently."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mt-10 mb-4",children:"Key Benefits"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-3 mb-8",children:[p.jsx("li",{children:"No fixed repayment schedule"}),p.jsx("li",{children:"Draw and repay at your discretion"}),p.jsx("li",{children:"Only pay interest on the amount used"}),p.jsx("li",{children:"Flexible and on-demand usage"}),p.jsx("li",{children:"Security options: unsecured or secured with real estate, fixed assets, inventory, receivables, or personal/corporate guarantees"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Terms & Conditions"}),p.jsxs("ul",{className:"list-disc list-inside space-y-3 mb-6",children:[p.jsx("li",{children:"Amount: 1,000  1,000,000"}),p.jsx("li",{children:"Usage: Designed specifically for working capital financing"}),p.jsx("li",{children:"Term: Maximum duration of 3 years"}),p.jsx("li",{children:"Interest: Fixed or variable, calculated using 6-month EURIBOR + banks margin"}),p.jsx("li",{children:"Repayment: May be done partially over time or fully at the end of the loan term"})]}),p.jsx("div",{className:"mt-8",children:p.jsx("button",{onClick:e,className:"inline-block bg-green-700 text-white font-medium px-6 py-3 rounded hover:bg-green-800 transition",children:"Apply for Credit Line"})})]})}),p.jsx("div",{ref:n,children:p.jsx(Fn,{})}),p.jsx(xn,{})]})},A8=()=>{const n=V.useRef(null),e=()=>{var t;(t=n.current)==null||t.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto bg-white text-gray-900 p-8 rounded-lg shadow-lg",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-700 mb-6",children:"Overdraft Facility"}),p.jsx("p",{className:"mb-6 text-lg",children:"The overdraft facility at Gatewise Plc enables businesses to manage short-term liquidity by making payments beyond their current account balance, up to a specified credit limit."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mt-10 mb-4",children:"Key Benefits"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-3 mb-8",children:[p.jsx("li",{children:"No periodic repayments required"}),p.jsx("li",{children:"Credit limit accessible directly from your account"}),p.jsx("li",{children:"Automatic settlement when funds are credited"}),p.jsx("li",{children:"Interest applied only on the amount utilized"}),p.jsx("li",{children:"No documentation needed for drawdowns or repayments"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Terms & Conditions"}),p.jsxs("ul",{className:"list-disc list-inside space-y-3 mb-6",children:[p.jsx("li",{children:"Loan Amount: 1,000  1,000,000"}),p.jsx("li",{children:"Duration: 12 months"}),p.jsx("li",{children:"Interest Rate: Fixed or floating (based on 6-month EURIBOR + bank margin)"}),p.jsx("li",{children:"Repayment: In full at maturity"}),p.jsxs("li",{children:["Collateral Options: May be unsecured or secured with:",p.jsxs("ul",{className:"list-disc list-inside ml-6 mt-1 space-y-1",children:[p.jsx("li",{children:"Real estate mortgage"}),p.jsx("li",{children:"Fixed asset or inventory pledge"}),p.jsx("li",{children:"Receivables"}),p.jsx("li",{children:"Personal or corporate guarantees"})]})]})]}),p.jsx("div",{className:"mt-8 inline-block bg-green-700 text-white font-medium px-6 py-3 rounded hover:bg-green-800 transition",children:p.jsx("button",{onClick:e,children:"Apply for Overdraft Below"})})]})}),p.jsx("div",{ref:n,className:"mt-12",children:p.jsx(Fn,{})}),p.jsx(xn,{})]})},R8=()=>{const n=V.useRef(null),e=()=>{var t;(t=n.current)==null||t.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-4 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto bg-white text-gray-900 p-8 rounded-lg shadow-lg",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-700 mb-6",children:"Investment Loans"}),p.jsx("p",{className:"mb-6 text-lg",children:"Growing businesses often require long-term investments in fixed assets. Gatewise Plc supports your expansion goals with flexible investment loans suited for purchasing equipment, property, and production infrastructure."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mt-10 mb-4",children:"Key Benefits"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-3 mb-8",children:[p.jsx("li",{children:"Loan terms of up to 7 years"}),p.jsx("li",{children:"Flexible repayment options tailored to your cash flow"}),p.jsx("li",{children:"Available loan amounts: 1,000  1,000,000"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Eligible Projects"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-3 mb-8",children:[p.jsx("li",{children:"Facility construction or renovation"}),p.jsx("li",{children:"Machinery, equipment, or technology upgrades"}),p.jsx("li",{children:"Purchase of commercial vehicles or real estate"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Collateral Options"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-3 mb-8",children:[p.jsx("li",{children:"Investment property"}),p.jsx("li",{children:"Fixed assets owned by your business"}),p.jsx("li",{children:"Government-backed INVEGA guarantee"})]}),p.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-4 mb-8",children:[p.jsx("h3",{className:"text-green-700 font-semibold mb-2",children:"INVEGA Interest Reimbursement"}),p.jsxs("p",{className:"text-base",children:["From January 1, 2024, businesses can receive up to ",p.jsx("strong",{children:"40%"})," interest reimbursement, capped at ",p.jsx("strong",{children:"5% of the annual interest"})," over a 3-year period through the INVEGA program."]})]}),p.jsx("div",{className:"mt-8",children:p.jsx("button",{onClick:e,className:"inline-block bg-green-700 text-white font-medium px-6 py-3 rounded hover:bg-green-800 transition",children:"Apply for Investment Loan"})})]})}),p.jsx("div",{ref:n,className:"mt-12",children:p.jsx(Fn,{})}),p.jsx(xn,{})]})},C8=()=>{const n=V.useRef(null),e=()=>{var t;(t=n.current)==null||t.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto bg-white text-gray-900 p-8 rounded-lg shadow-lg",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-700 mb-6",children:"Equipment Leasing"}),p.jsx("p",{className:"mb-6 text-lg",children:"At Gatewise Plc, we offer flexible leasing solutions to help your business grow without large upfront investments. Whether you're expanding your fleet or upgrading machinery, weve got you covered."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mt-10 mb-4",children:"Benefits of Leasing"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-3 mb-8",children:[p.jsx("li",{children:"Tailored options for diverse business needs"}),p.jsx("li",{children:"Fast approval processno notaries required"}),p.jsx("li",{children:"Start repayment up to 3 months after financing"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"Leasing Conditions"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-3 mb-8",children:[p.jsx("li",{children:"Financing range: 20,000  2,000,000"}),p.jsx("li",{children:"Applicable for vehicles, machinery, equipment, and tools"}),p.jsx("li",{children:"Upfront contribution: at least 10%"}),p.jsx("li",{children:"Bullet payment option at lease-end (based on asset type)"}),p.jsx("li",{children:"Assets must be insured in favor of Gatewise Plc"}),p.jsx("li",{children:"Vehicle assets registered under Gatewise in Regitra"}),p.jsx("li",{children:"Leasing term: minimum 6 months, maximum 6 years"}),p.jsx("li",{children:"Monthly repayment schedule applies"})]}),p.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-4 mb-8",children:p.jsxs("p",{className:"text-sm text-gray-700",children:[" Please refer to our"," ",p.jsx(rt,{to:"/fees",className:"underline text-green-700 font-medium",children:"Fees and Commissions"})," ","page to view all applicable charges."]})}),p.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-4",children:"How to Apply"}),p.jsxs("ol",{className:"list-decimal list-inside text-base space-y-3 mb-8",children:[p.jsx("li",{children:"Gather documents: financial statements, business plan, commercial offer"}),p.jsx("li",{children:"Complete our online leasing application form"}),p.jsx("li",{children:"Gatewise Plc will assess your eligibility and business needs"}),p.jsx("li",{children:"Negotiate lease terms (tenure, downpayment, other conditions)"}),p.jsx("li",{children:"Sign lease contract and proceed with equipment acquisition"})]}),p.jsx("div",{className:"mt-8",children:p.jsx("button",{onClick:e,className:"inline-block bg-green-700 text-white font-medium px-6 py-3 rounded hover:bg-green-800 transition",children:"Apply for Leasing"})})]})}),p.jsx("div",{ref:n,className:"mt-12",children:p.jsx(Fn,{})}),p.jsx(xn,{})]})},N8=()=>{const n=V.useRef(null),e=()=>{var t;(t=n.current)==null||t.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"International Payments"}),p.jsxs("p",{className:"mb-6 text-lg text-green-100",children:["Expand your reach globally with Gatewise Plcs secure and efficient international payment options. Gain access to trusted global remittance providers including"," ",p.jsx("strong",{className:"text-white",children:"MoneyGram"}),","," ",p.jsx("strong",{className:"text-white",children:"Xoom"}),","," ",p.jsx("strong",{className:"text-white",children:"Wise"}),", and"," ",p.jsx("strong",{className:"text-white",children:"WorldRemit"}),"all accessible through our digital banking platform."]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-200 mt-8 mb-4",children:"Gatewise Payment Infrastructure"}),p.jsx("p",{className:"mb-6 text-base text-green-100",children:"Were committed to making global transactions smooth and reliable. Our payment systems are designed to support fast, affordable, and compliant international transfers using leading remittance platforms."}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-8 text-green-100",children:[p.jsx("li",{children:"Use MoneyGram, Xoom, Wise, or WorldRemit to send and receive funds"}),p.jsx("li",{children:"Segregated and safeguarding accounts to protect client funds"}),p.jsx("li",{children:"Track payments and control foreign transactions with ease"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-200 mb-4",children:"Who Can Use Our International Payment Services?"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-4 mb-8 text-green-100",children:[p.jsxs("li",{children:[p.jsx("strong",{className:"text-white",children:"E-commerce Businesses:"})," Accept payments from international customers using accessible remittance methods."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-white",children:"Import/Export Traders:"})," Pay global suppliers or receive customer payments through platforms like Wise or MoneyGram."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-white",children:"Manufacturing Companies:"})," Transact globally with reliable fund delivery partners."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-white",children:"Service Providers:"})," Get paid in foreign currencies directly into your business account."]}),p.jsx("li",{children:p.jsx("strong",{className:"text-white",children:"Any business handling cross-border payments."})})]}),p.jsx("div",{className:"mt-8",children:p.jsx("button",{onClick:e,className:"inline-block bg-white text-green-800 font-medium px-6 py-3 rounded hover:bg-green-100 transition",children:"Apply for International Payments"})})]})}),p.jsx("div",{ref:n,children:p.jsx(Fn,{})}),p.jsx(xn,{})]})},dE=({title:n,children:e})=>{const[t,i]=V.useState(!1);return p.jsxs("div",{className:"border-b border-green-200",children:[p.jsxs("button",{onClick:()=>i(!t),className:"w-full text-left px-6 py-4 flex justify-between items-center bg-green-50 hover:bg-green-100 transition rounded-t",children:[p.jsx("h2",{className:"text-lg font-semibold text-green-700",children:n}),p.jsx("span",{className:"text-xl text-green-700",children:t?"":"+"})]}),t&&p.jsx("div",{className:"bg-white px-6 pb-6 pt-2",children:e})]})},hi=({data:n})=>p.jsxs("table",{className:"w-full text-sm border mt-2",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-green-100 text-left text-green-900",children:[p.jsx("th",{className:"p-2 font-semibold",children:"Service"}),p.jsx("th",{className:"p-2 font-semibold",children:"Fee (EUR)"})]})}),p.jsx("tbody",{children:n.map(({service:e,fee:t},i)=>p.jsxs("tr",{className:"border-t border-gray-200",children:[p.jsx("td",{className:"p-2",children:e}),p.jsx("td",{className:"p-2",children:t})]},i))})]});function I8(){const n={loan:[{service:"Loan Agreement Setup",fee:"From 0.5% of loan amount (min 200)"},{service:"Loan Increase",fee:"From 0.2% of total outstanding (min 200)"},{service:"Loan Extension",fee:"From 0.5% of outstanding (min 200)"},{service:"Loan Amendments / Document Handling",fee:"From 0.2% (min 200)"},{service:"Unused Loan Commitment",fee:"From 1% of unused loan amount"},{service:"Early Loan Repayment",fee:"2% of repaid amount (min 200)"},{service:"Permission for Subsequent Collateral Pledge",fee:"0.5% of loan (min 300)"},{service:"Other Permissions / Consents",fee:"50"},{service:"Document Requests by Local Clients",fee:"50"}],guarantees:[{service:"Standard Guarantee Agreement",fee:"From 0.5% (min 100)"},{service:"Custom Guarantee Agreement",fee:"From 0.6% (min 150)"},{service:"Guarantee Amendments",fee:"100"},{service:"Guarantee Verification / Notifications",fee:"50"},{service:"Guarantee Cancellation",fee:"50"},{service:"Claim Admin on Guarantee",fee:"0.1% (min 200)"},{service:"Info Requests on Guarantee",fee:"50"},{service:"Courier (abroad / local)",fee:"120 / 60"},{service:"Guarantee Rights Transfer",fee:"80"}],payments:[{service:"Internal Transfer (same client)",fee:"Free"},{service:"Internal Transfer (other client)",fee:"0.30"},{service:"Xoom (loan disbursement)",fee:"5.00"},{service:"Xoom Standard / Instant (outgoing)",fee:"0.40"},{service:"Xoom Standard / Instant (incoming)",fee:"Free"},{service:"Intl Transfer (EUR / other)",fee:"8 / 20 + bank charges"},{service:"Intl Incoming (any currency)",fee:"20"}],accounts:[{service:"Account Opening",fee:"Free"},{service:"UBO Verification (EU / non-EU)",fee:"300 / 500"},{service:"Monthly Account Maintenance",fee:"Free"},{service:"High-Risk Customer Maintenance",fee:"50"},{service:"Representative Appointment",fee:"20"},{service:"Bankruptcy Status Update",fee:"20"}],documents:[{service:"Balance / Auditor Reports",fee:"15 / 30"},{service:"Other Requests",fee:"From 45"},{service:"Agreement Copies",fee:"6"},{service:"Mailing (3-day, local, intl)",fee:"6 - 120"}],escrow:[{service:"Escrow Setup",fee:"From 0.15%, min 1,000"}]},e={payments:[{service:"Internal Transfers",fee:"Free / 0.30"},{service:"MoneyGram Transfers (in/out)",fee:"Free / 2.00"},{service:"Xoom (in/out)",fee:"20 / 8"},{service:"Wise (EUR / FX)",fee:"40 + charges"},{service:"WorldRemit Incoming",fee:"30 + charges"}],api:[{service:"API Integration Setup",fee:"10,000"}],onboarding:[{service:"Onboarding (with account)",fee:"From 3,000"},{service:"ID Verification (per individual)",fee:"From 500"},{service:"Safeguarding Account",fee:"4,000"},{service:"Accumulative Account",fee:"3,000"},{service:"Regulatory Letters",fee:"2,000"}],accountMaintenance:[{service:"Business Account",fee:"From 250"},{service:"Safeguarding / Payment Account",fee:"From 1,000"},{service:"Representative Change",fee:"20"},{service:"Bankruptcy Status Registration",fee:"20"},{service:"Minimum Monthly Fees",fee:"Based on risk level"}],documents:[{service:"Balance / Auditor Reports",fee:"30 / 120"},{service:"General Requests",fee:"From 50"},{service:"Document Copies",fee:"12"},{service:"Post (3-day, local, intl)",fee:"6 - 240"}]};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"bg-green-800 ",children:p.jsxs("div",{className:"max-w-6xl h-auto mx-auto",children:[p.jsx("h1",{className:"text-4xl font-bold text-white mb-4 mt-5 text-center",children:"Fees & Commissions"}),p.jsx("p",{className:"mb-10 text-center text-green-100",children:"Service charges and rates applicable to clients in Germany and internationally."}),p.jsxs(dE,{title:" For Customers in Germany",children:[p.jsx("h3",{className:"text-lg font-medium mt-4 mb-2 text-green-700",children:"Loan Services"}),p.jsx(hi,{data:n.loan}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"Guarantees"}),p.jsx(hi,{data:n.guarantees}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"Payments"}),p.jsx(hi,{data:n.payments}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"Account Services"}),p.jsx(hi,{data:n.accounts}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"Statements & Documents"}),p.jsx(hi,{data:n.documents}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"Escrow Services"}),p.jsx(hi,{data:n.escrow})]}),p.jsxs(dE,{title:" For International Customers or Financial Institutions",children:[p.jsx("h3",{className:"text-lg font-medium mt-4 mb-2 text-green-700",children:"Payments"}),p.jsx(hi,{data:e.payments}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"API Integration"}),p.jsx(hi,{data:e.api}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"Onboarding"}),p.jsx(hi,{data:e.onboarding}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"Account Maintenance"}),p.jsx(hi,{data:e.accountMaintenance}),p.jsx("h3",{className:"text-lg font-medium mt-6 mb-2 text-green-700",children:"Statements & Documents"}),p.jsx(hi,{data:e.documents})]})]})}),p.jsx(xn,{})]})}const D8=()=>{const n=V.useRef(null),e=()=>{var t;(t=n.current)==null||t.scrollIntoView({behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsx(gn,{}),p.jsx("section",{className:"bg-green-800 text-white py-12 px-6 md:px-16",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Local Payments"}),p.jsx("p",{className:"mb-6 text-lg text-green-100",children:"Expand your reach locally with Gatewise Plcs secure and efficient domestic payment options. Enjoy seamless transactions through NIBSS, instant transfers, and direct account paymentsall integrated into our digital banking platform."}),p.jsx("h2",{className:"text-2xl font-semibold text-green-200 mt-8 mb-4",children:"Gatewise Local Payment Infrastructure"}),p.jsx("p",{className:"mb-6 text-base text-green-100",children:"Weve built a reliable system for real-time local transactions. With advanced payment rails and trusted banking partnerships, your business can pay and get paid instantly across Nigeria."}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-8 text-green-100",children:[p.jsx("li",{children:"Make and receive instant transfers across all Nigerian banks"}),p.jsx("li",{children:"Real-time settlement for improved cash flow"}),p.jsx("li",{children:"Secure transactions with proper compliance measures"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-green-200 mb-4",children:"Who Can Use Our Local Payment Services?"}),p.jsxs("ul",{className:"list-disc list-inside text-base space-y-4 mb-8 text-green-100",children:[p.jsxs("li",{children:[p.jsx("strong",{className:"text-white",children:"Retail Businesses:"})," Receive instant payments from customers directly into your account."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-white",children:"Freelancers & Creatives:"})," Get paid faster for services rendered within Nigeria."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-white",children:"Service Providers:"})," Automate client billing and payments with ease."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-white",children:"NGOs & Charities:"})," Disburse funds securely to beneficiaries."]}),p.jsx("li",{children:p.jsx("strong",{className:"text-white",children:"Any local business that sends or receives payments daily."})})]}),p.jsx("div",{className:"mt-8",children:p.jsx("button",{onClick:e,className:"inline-block bg-white text-green-800 font-medium px-6 py-3 rounded hover:bg-green-100 transition",children:"Apply for Local Payments"})})]})}),p.jsx("div",{ref:n,className:"mt-12",children:p.jsx(Fn,{})}),p.jsx(xn,{})]})},O8=()=>{const{user:n}=Bs();return n?p.jsxs("div",{className:"max-w-xl mt-10 bg-white p-6 rounded-xl shadow-lg border border-green-600",children:[p.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-green-700",children:"Your Profile"}),p.jsxs("div",{className:"space-y-4 text-green-900",children:[n.photoURL&&p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("img",{src:n.photoURL,alt:"User avatar",className:"w-24 h-24 rounded-full border-4 border-green-600 shadow"})}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold text-green-700",children:"Email:"})," ",n.email]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold text-green-700",children:"User ID:"})," ",n.uid]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold text-green-700",children:"Email Verified:"})," ",n.emailVerified?"Yes":"No"]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold text-green-700",children:"Display Name:"})," ",n.displayName||"Not set"]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold text-green-700",children:"Phone Number:"})," ",n.phoneNumber||"Not set"]})]}),n.metadata&&p.jsxs("div",{className:"text-sm text-green-800 mt-4 border-t pt-4 border-green-300",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold",children:"Account Created:"})," ",new Date(n.metadata.creationTime).toLocaleString()]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold",children:"Last Sign-In:"})," ",new Date(n.metadata.lastSignInTime).toLocaleString()]})]}),n.providerData&&n.providerData.length>0&&p.jsxs("div",{className:"mt-4 border-t pt-4 border-green-300",children:[p.jsx("p",{className:"font-semibold text-green-700",children:"Provider Info:"}),n.providerData.map((e,t)=>p.jsxs("div",{className:"ml-2 text-sm text-green-800",children:[p.jsxs("p",{children:["Provider: ",e.providerId]}),p.jsxs("p",{children:["Email: ",e.email]}),p.jsxs("p",{children:["UID: ",e.uid]})]},t))]})]})]}):p.jsx("p",{className:"text-green-600 text-center mt-10",children:"Loading user information..."})};function M8(n){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(n)}const k8=()=>{const{user:n}=Bs(),[e,t]=V.useState(!0),[i,r]=V.useState((n==null?void 0:n.displayName)||""),[o,c]=V.useState(""),[h,d]=V.useState(null),[m,y]=V.useState("");V.useEffect(()=>{(async()=>{if(n){const k=vi($t,"users",n.uid),U=await Ka(k);if(U.exists()){const q=U.data();t(q.emailNotifications??!0)}}})()},[n]);const b=async()=>{n&&(await P0(vi($t,"users",n.uid),{emailNotifications:e},{merge:!0}),Lt.success("Preferences saved!"),await nl(n.uid,"Email notification preference updated."))},x=async()=>{if(n)try{await B4(n,{displayName:i}),Lt.success("Display name updated!"),await nl(n.uid,`Display name updated to ${i}`)}catch{Lt.error("Failed to update profile")}},T=async()=>{if(!(!n||!o))try{await F4(n,o),Lt.success("Password updated successfully!"),await nl(n.uid,"Password was updated."),c("")}catch{Lt.error("Failed to update password. Please re-login.")}},S=async()=>{if(!(!n||!window.confirm("Are you sure? This action is irreversible.")))try{await nl(n.uid,"Account was deleted."),await $4(n),Lt.success("Account deleted.")}catch{Lt.error("Failed to delete account. Please re-authenticate.")}},I=C=>{const k=C.target.files[0];if(k){const U=new FileReader;U.onloadend=()=>y(U.result),U.readAsDataURL(k),d(k)}};return p.jsx("div",{className:"min-h-screen bg-green-800 py-10 px-4",children:p.jsxs("div",{className:"max-w-xl  bg-white text-green-800 p-6 rounded shadow-lg",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Account Settings"}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("label",{className:"flex items-center space-x-3",children:[p.jsx("input",{type:"checkbox",checked:e,onChange:()=>t(!e),className:"accent-green-600"}),p.jsx("span",{children:"Email Notifications"})]}),p.jsx("button",{onClick:b,className:"mt-2 px-4 py-2 bg-green-100 text-green-800 text-sm rounded hover:bg-green-200",children:"Save Preferences"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block font-medium mb-2",children:"Profile Picture"}),m&&p.jsx("img",{src:m,alt:"Preview",className:"w-24 h-24 rounded-full mb-2 border-2 border-green-800"}),p.jsxs("label",{htmlFor:"profilePic",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 font-medium rounded cursor-pointer hover:bg-green-200 transition",children:[p.jsx(M8,{className:"text-lg"}),"Upload Photo"]}),p.jsx("input",{id:"profilePic",type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block font-medium mb-1",children:"Display Name"}),p.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-green-300 rounded focus:outline-none focus:ring focus:ring-green-300",value:i,onChange:C=>r(C.target.value)}),p.jsx("button",{onClick:x,className:"mt-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Update Display Name"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block font-medium mb-1",children:"Change Password"}),p.jsx("input",{type:"password",placeholder:"New Password",className:"w-full px-4 py-2 border border-green-300 rounded focus:outline-none focus:ring focus:ring-green-300",value:o,onChange:C=>c(C.target.value)}),p.jsx("button",{onClick:T,className:"mt-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Change Password"})]}),p.jsx("div",{className:"mt-10",children:p.jsx("button",{onClick:S,className:"w-full py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete My Account"})})]})})},j8=()=>{const n=[{id:1,message:"Your recent loan request is being reviewed.",date:"2025-06-10"},{id:2,message:"Your loan has been approved!",date:"2025-06-11"}];return p.jsx("div",{className:"min-h-screen bg-green-800 py-10 px-4",children:p.jsxs("div",{className:"max-w-2xl bg-white h-full p-6 rounded shadow text-green-800",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Notifications"}),p.jsx("ul",{className:"space-y-4",children:n.map(e=>p.jsxs("li",{className:"bg-green-50 p-4 shadow-sm rounded border-l-4 border-green-600",children:[p.jsx("p",{className:"font-medium",children:e.message}),p.jsx("span",{className:"text-sm text-green-600",children:e.date})]},e.id))})]})})},P8=()=>{const[n,e]=V.useState(""),t=i=>{i.preventDefault(),alert("Support message sent: "+n),e("")};return p.jsxs("div",{className:"p-6",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Support"}),p.jsx("p",{className:"mb-4 text-gray-600",children:"Have an issue? Reach out to our support team."}),p.jsxs("form",{onSubmit:t,className:"space-y-4",children:[p.jsx("textarea",{className:"w-full p-4 border rounded",rows:"5",placeholder:"Describe your issue...",resize:"none",value:n,onChange:i=>e(i.target.value)}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-700 text-white rounded hover:bg-green-800",children:"Send Message"})]})]})},L8=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(""),[r,o]=V.useState(""),[c,h]=V.useState(""),[d,m]=V.useState(""),[y,b]=V.useState([]);V.useEffect(()=>{(async()=>{const S=ey().currentUser;if(!S)return;const I=D0(zr($t,"withdrawalRequests"),O0("userId","==",S.uid)),k=(await wf(I)).docs.map(U=>({id:U.id,...U.data()}));b(k)})()},[]);const x=async T=>{T.preventDefault();const S=ey().currentUser;if(!S)return;if(!n||isNaN(n))return alert("Enter a valid amount.");if(!r||!c||!d)return alert("Bank details required.");const I=parseFloat(n),C=vi($t,"users",S.uid),k=await Ka(C),U=k.exists()&&k.data().balance||0;if(I>U)return alert("Insufficient balance.");const q={userId:S.uid,amount:I.toFixed(2),reason:t||"No reason provided",bankName:r,accountNumber:c,accountName:d,date:new Date().toLocaleString()};await L0(zr($t,"withdrawalRequests"),q),await _y(C,{balance:U-I}),await nl(S.uid,`You withdrew ${I.toFixed(2)}.`),b(Z=>[q,...Z]),e(""),i(""),o(""),h(""),m(""),alert("Withdrawal submitted!")};return p.jsxs("div",{className:"p-6 bg-green-800 min-h-screen text-white",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Withdraw Funds"}),p.jsxs("form",{onSubmit:x,className:"space-y-4 max-w-md mb-8",children:[p.jsx("input",{type:"text",placeholder:"Amount",className:"w-full p-3 rounded text-black",value:n,onChange:T=>e(T.target.value)}),p.jsx("input",{type:"text",placeholder:"Reason (optional)",className:"w-full p-3 rounded text-black",value:t,onChange:T=>i(T.target.value)}),p.jsx("input",{type:"text",placeholder:"Bank Name",className:"w-full p-3 rounded text-black",value:r,onChange:T=>o(T.target.value)}),p.jsx("input",{type:"text",placeholder:"Account Number",className:"w-full p-3 rounded text-black",value:c,onChange:T=>h(T.target.value)}),p.jsx("input",{type:"text",placeholder:"Account Name",className:"w-full p-3 rounded text-black",value:d,onChange:T=>m(T.target.value)}),p.jsx("button",{type:"submit",className:"w-full bg-white text-green-800 font-semibold py-3 rounded hover:bg-gray-200 transition",children:"Submit Withdrawal"})]}),p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Withdrawal History"}),y.length===0?p.jsx("p",{className:"text-gray-200",children:"No withdrawals yet."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left text-sm bg-white text-black rounded overflow-hidden",children:[p.jsx("thead",{className:"bg-green-200 text-green-900",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Amount"}),p.jsx("th",{className:"p-3",children:"Reason"}),p.jsx("th",{className:"p-3",children:"Bank"}),p.jsx("th",{className:"p-3",children:"Account No"}),p.jsx("th",{className:"p-3",children:"Account Name"}),p.jsx("th",{className:"p-3",children:"Date"})]})}),p.jsx("tbody",{children:y.map(T=>p.jsxs("tr",{className:"border-t border-green-300",children:[p.jsxs("td",{className:"p-3",children:["",T.amount]}),p.jsx("td",{className:"p-3",children:T.reason}),p.jsx("td",{className:"p-3",children:T.bankName}),p.jsx("td",{className:"p-3",children:T.accountNumber}),p.jsx("td",{className:"p-3",children:T.accountName}),p.jsx("td",{className:"p-3",children:T.date})]},T.id))})]})})]})},V8=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(""),[r,o]=V.useState(!1),[c,h]=V.useState(!1),d=Za(),m=async y=>{y.preventDefault(),h(!0);try{const x=(await d2(pl,n,t)).user,T=await Ka(vi($t,"users",x.uid));if(!T.exists()){Lt.error("User profile not found.");return}const S=T.data();localStorage.setItem("firstName",S.firstName||""),localStorage.setItem("lastName",S.lastName||""),localStorage.setItem("phone",S.phone||""),localStorage.setItem("lastEmail",S.email||""),Lt.success(`Welcome back ${S.firstName||"User"}!`),d("/dashboard")}catch(b){Lt.error(b.message||"Login failed.")}finally{h(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Log In"}),p.jsxs("form",{onSubmit:m,children:[p.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-3 px-4 py-2 border rounded",value:n,onChange:y=>e(y.target.value),required:!0}),p.jsxs("div",{className:"relative mb-3",children:[p.jsx("input",{type:r?"text":"password",placeholder:"Password",className:"w-full px-4 py-2 border rounded",value:t,onChange:y=>i(y.target.value),required:!0}),p.jsx("span",{onClick:()=>o(!r),className:"absolute right-3 top-2.5 cursor-pointer text-sm text-blue-500",children:r?"Hide":"Show"})]}),p.jsx("div",{className:"text-right text-sm mb-4",children:p.jsx(rt,{to:"/reset-password",className:"text-blue-600 hover:underline",children:"Forgot Password?"})}),p.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:c?"Logging in...":"Log In"})]}),p.jsxs("p",{className:"mt-4 text-center text-sm",children:["New here?"," ",p.jsx(rt,{to:"/auth",className:"text-blue-600 hover:underline",children:"Create Account"})]})]})})},U8=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(!1),r=Za(),o=async c=>{c.preventDefault(),i(!0);try{await V4(pl,n),Lt.success("Password reset email sent."),r("/login")}catch(h){Lt.error(h.message||"Failed to send reset email.")}finally{i(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm",children:[p.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Reset Password"}),p.jsxs("form",{onSubmit:o,children:[p.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full mb-3 px-4 py-2 border rounded",value:n,onChange:c=>e(c.target.value),required:!0}),p.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:t?"Sending...":"Send Reset Link"})]}),p.jsxs("p",{className:"mt-4 text-center text-sm",children:["Remembered your password?"," ",p.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Back to Login"})]})]})})};function z8(){const{isAdmin:n}=Bs();return p.jsxs(xC,{children:[p.jsx(qe,{path:"/homepage",element:p.jsx(hE,{})}),p.jsx(qe,{path:"/auth",element:p.jsx(a8,{})}),p.jsx(qe,{path:"/applynow",element:p.jsx(Fn,{})}),p.jsx(qe,{path:"/lending",element:p.jsx(y8,{})}),p.jsx(qe,{path:"/payments",element:p.jsx(_8,{})}),p.jsx(qe,{path:"/accounts",element:p.jsx(p8,{})}),p.jsx(qe,{path:"/guarantee-letter",element:p.jsx(v8,{})}),p.jsx(qe,{path:"/accumulative",element:p.jsx(b8,{})}),p.jsx(qe,{path:"/business",element:p.jsx(x8,{})}),p.jsx(qe,{path:"/safeguarding",element:p.jsx(E8,{})}),p.jsx(qe,{path:"/segregated",element:p.jsx(w8,{})}),p.jsx(qe,{path:"/workingcapitalloan",element:p.jsx(T8,{})}),p.jsx(qe,{path:"/creditline",element:p.jsx(S8,{})}),p.jsx(qe,{path:"/overdraft",element:p.jsx(A8,{})}),p.jsx(qe,{path:"/investmentloan",element:p.jsx(R8,{})}),p.jsx(qe,{path:"/leasing",element:p.jsx(C8,{})}),p.jsx(qe,{path:"/international",element:p.jsx(N8,{})}),p.jsx(qe,{path:"/fees",element:p.jsx(I8,{})}),p.jsx(qe,{path:"/local",element:p.jsx(D8,{})}),p.jsx(qe,{path:"/login",element:p.jsx(V8,{})}),p.jsx(qe,{path:"/reset-password",element:p.jsx(U8,{})}),p.jsx(qe,{path:"/dashboard",element:p.jsx(vr,{children:p.jsx(m5,{})})}),p.jsx(qe,{path:"/loan-request",element:p.jsx(vr,{children:p.jsx(o8,{})})}),p.jsx(qe,{path:"/loan-history",element:p.jsx(vr,{children:p.jsx(l8,{})})}),p.jsx(qe,{path:"/profile",element:p.jsx(vr,{children:p.jsx(O8,{})})}),p.jsx(qe,{path:"/settings",element:p.jsx(vr,{children:p.jsx(k8,{})})}),p.jsx(qe,{path:"/notifications",element:p.jsx(vr,{children:p.jsx(j8,{})})}),p.jsx(qe,{path:"/support",element:p.jsx(vr,{children:p.jsx(P8,{})})}),p.jsx(qe,{path:"/withdraw",element:p.jsx(vr,{children:p.jsx(L8,{})})}),p.jsx(qe,{path:"/admin",element:p.jsx(g5,{children:p.jsx(c8,{})})}),p.jsx(qe,{path:"*",element:p.jsx(hE,{})})]})}IR.createRoot(document.getElementById("root")).render(p.jsx(Hi.StrictMode,{children:p.jsx(GC,{children:p.jsxs(yM,{children:[p.jsx(z8,{}),p.jsx(r8,{position:"top-right"})]})})}));
